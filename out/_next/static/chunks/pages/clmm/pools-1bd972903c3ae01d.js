(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9401],{91902:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clmm/pools",function(){return i(52802)}])},74617:function(e,t,i){"use strict";i.d(t,{q:function(){return a}});var l=i(94678),n=i(2148),s=i(9191),o=i(52225);function a(){(0,o.Z)(()=>{let e=(0,s.Jt)("ui-time-basis");e&&(l.ZP.setState({timeBasis:e}),n.O.setState({timeBasis:e}))})}},29197:function(e,t,i){"use strict";i.d(t,{Z:function(){return d}});var l=i(85893),n=i(18074),s=i(27993),o=i(66180),a=i(45826),c=i(91107);function r(e){let{className:t,style:i,vertical:n,itemClassName:a,itemStyle:r,values:d,currentValue:m=d[0],labels:u=d,onChange:x}=e;return d.filter(Boolean).length?(0,l.jsx)(c.E,{value:m,onChange:null!=x?x:()=>{},className:(0,o.m)("".concat(n?"flex-col":"flex"," ").concat(null!=t?t:"")),style:i,children:d.map((e,t,i)=>(0,l.jsx)(c.E.Option,{value:e,className:"cursor-pointer flex grow",children:o=>{let{checked:c}=o;return e&&(0,l.jsx)("div",{className:"grid grow ".concat(n?"":"place-items-center"," ").concat((0,s.u)(a,[c])),style:(0,s.u)(r,[c,t,i]),children:(0,s.u)(u[t],[c,t,i])})}},t))}):(0,l.jsx)(l.Fragment,{})}function d(e){let{size:t,$valuesLength:i,$transparentBg:c,urlSearchQueryKey:d,className:m,...u}=e;(0,a.i)({currentValue:u.currentValue,values:u.values,onChange:u.onChange,queryKey:d});let x=u.currentValue&&u.values.includes(u.currentValue),f=null!=i?i:u.values.length,p=(x?u.values.findIndex(e=>e===u.currentValue):0)+0;return(0,l.jsx)(r,{...u,currentValue:u.currentValue,className:(0,o.m)("rounded-full p-1",c?"bg-transparent":"bg-cyberpunk-card-bg",m),itemClassName:e=>(0,o.m)("sm"===t?"min-w-[82px] mobile:min-w-[64px] px-2 mobile:px-1.5 h-7 mobile:h-5 text-sm mobile:text-xs":"min-w-[96px] mobile:min-w-[76px] px-3 mobile:px-2 h-9 mobile:h-7 text-sm mobile:text-xs ","grid rounded-full place-items-center font-medium whitespace-nowrap ".concat(e?"text-white":"text-[#ABC4FF]"),(0,s.u)(u.itemClassName,[e])),itemStyle:e=>e?{background:"linear-gradient(245.22deg, rgb(218, 46, 239), rgb(43, 106, 255), rgb(57, 208, 216))",backgroundSize:"".concat(f,"00% 100%"),backgroundPosition:(0,n.Z)(1/(f-1)*p)}:{}})}},49128:function(e,t,i){"use strict";i.d(t,{Q:function(){return o}});var l=i(81451),n=i(84207),s=i(18074);function o(e,t){let i=(0,n.Z)(null!=e?e:0);return((null==t?void 0:t.alreadyPercented)||(i=i.mul(100)),(0,l.gt)(i,9999.99))?"> 9,999.99%":(0,s.Z)(i,{alreadyPercented:!0})}},78083:function(e,t,i){"use strict";function l(e){let t=!1,i=()=>!t,l=()=>{t=!0},n=new Promise((t,l)=>{Promise.resolve(e(i)).then(e=>t(e),()=>t(void 0))});return{abort:l,result:n}}i.d(t,{t:function(){return l}})},24608:function(e,t,i){"use strict";i.d(t,{N:function(){return o},f:function(){return a}});var l=i(56603),n=i(67294),s=i(96398);function o(e,t){let i=(0,n.useRef)(),o=(0,n.useRef)();(0,s.L)(()=>{i.current=e});let a=(0,n.useMemo)(()=>(0,l.D)(function(){for(var e,t,l=arguments.length,n=Array(l),s=0;s<l;s++)n[s]=arguments[s];null===(e=o.current)||void 0===e||e.call(o);let a=null===(t=i.current)||void 0===t?void 0:t.call(i,...n);o.current=a},null==t?void 0:t.debouncedOptions),[]);return a}function a(e,t){let i=(0,n.useRef)(),o=(0,n.useRef)();(0,s.L)(()=>{i.current=e});let a=(0,n.useMemo)(()=>(0,l.P)(function(){for(var e,t,l=arguments.length,n=Array(l),s=0;s<l;s++)n[s]=arguments[s];null===(e=o.current)||void 0===e||e.call(o);let a=null===(t=i.current)||void 0===t?void 0:t.call(i,...n);o.current=a},null==t?void 0:t.throttleOption),[]);return a}},41618:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});var l=i(67294);function n(e,t){let i=(0,l.useRef)(!1),n=()=>i.current=!0;(0,l.useEffect)(()=>{if(!i.current)return e({runed:n})},t)}},52802:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ts}});var l=i(85893),n=i(67294),s=i(5593),o=i(47511),a=i(66180),c=i(91371),r=i(74617),d=i(25222),m=i(52555),u=i(34003),x=i(96662),f=i(94355),p=i(475),h=i(8667),v=i(53002),b=i(94678);async function g(){let{currentAmmPool:e=b.ZP.getState().currentAmmPool,targetUserPositionAccount:t=b.ZP.getState().targetUserPositionAccount}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.ZP)(async i=>{var l,n,o,a;let{transactionCollector:c,baseUtils:{connection:r,owner:d}}=i,{tokenAccountRawInfos:m}=v.Z.getState();(0,u.Z)(e,"not seleted amm pool"),(0,u.Z)(t,"not set targetUserPositionAccount");let{innerTransactions:x}=await s.c2c.makeDecreaseLiquidityInstructionSimple({connection:r,liquidity:s.xEJ,amountMinA:s.xEJ,amountMinB:s.xEJ,poolInfo:e.state,ownerInfo:{feePayer:d,wallet:d,tokenAccounts:m,useSOLBalance:!0,closePosition:!1},ownerPosition:t.sdkParsed,computeBudgetConfig:await (0,p.u)(),checkCreateATAOwner:!0});c.add(x,{txHistoryInfo:{title:"Harvested Rewards",description:"Harvested: ".concat(null!==(o=null===(l=e.base)||void 0===l?void 0:l.symbol)&&void 0!==o?o:"--"," - ").concat(null!==(a=null===(n=e.quote)||void 0===n?void 0:n.symbol)&&void 0!==a?a:"--")}})})}async function j(){let{logError:e}=f.Z.getState(),{originSdkParsedAmmPools:t,hydratedAmmPools:i}=b.ZP.getState(),{tokenAccountRawInfos:l}=v.Z.getState(),{logInfo:n}=f.Z.getState(),o=x.ZP.getState().connection,{owner:a}=v.Z.getState();if(!o||!a)return{allSuccess:!0,txids:[]};let{innerTransactions:c}=await s.c2c.makeHarvestAllRewardInstructionSimple({connection:o,fetchPoolInfos:t,ownerInfo:{feePayer:a,wallet:a,tokenAccounts:l,useSOLBalance:!0},associatedOnly:!0,checkCreateATAOwner:!0});return Array.isArray(c)&&0===c.length?(n("No harvestable position"),{allSuccess:!0,txids:[]}):(0,h.ZP)(async e=>{let{transactionCollector:t,baseUtils:{connection:i,owner:l,allTokenAccounts:n}}=e,s=c.map((e,t)=>[e,{txHistoryInfo:{title:"Harvested All Rewards",description:"Harvested all CLMM rewards"}}]);t.add(s)})}var Z=i(76961),N=i(91148),P=i(52225),y=i(17097),w=i(47675),k=i(2148),A=i(31555),C=i(31166),S=i(99522),F=i(68186),B=i(11601),L=i(43067),I=i(6994),M=i(70745),T=i(54531),q=i(54592),E=i(23484),R=i(88132),z=i(32029),D=i(60421),O=i(48162),U=i(82727),W=i(66042),V=i(23365),H=i(50321),Y=i(99645),K=i(57571),_=i(36868),$=i(33674),J=i(51800),Q=i(95111),G=i(15144),X=i(29197),ee=i(92618),et=i(56419),ei=i(95793),el=i(90547),en=i(86597),es=i(49128),eo=i(99881),ea=i(3363),ec=i(18074),er=i(1758),ed=i(95865),em=i(4465),eu=i(81451),ex=i(51523),ef=i(72573),ep=i(16938),eh=i(3700),ev=i(73766),eb=i(92867),eg=i(79162),ej=i(83496),eZ=i(14200),eN=i(98360),eP=i(84207);function ey(e){let t=(0,C.ZP)(e=>e.tokenPrices);return(0,n.useMemo)(()=>{var i,l,n;if(!e)return{pendingTotalVolume:(0,eP.Z)(0),isHarvestable:!1};let s=!1,o=null!==(n=null==e?void 0:e.rewardInfos.map(e=>{var i;(0,eu.gt)(e.penddingReward,0)&&(s=!0);let l=t[(0,ea.ZP)(null===(i=e.penddingReward)||void 0===i?void 0:i.token.mint)];return{amount:e.penddingReward,price:l}}))&&void 0!==n?n:[],a=!1;e&&(e.tokenFeeAmountA&&(0,eu.gt)(e.tokenFeeAmountA,0)||e.tokenFeeAmountB&&(0,eu.gt)(e.tokenFeeAmountB,0))&&(a=!0);let c=e?[{amount:null==e?void 0:e.tokenFeeAmountA,price:t[(0,ea.ZP)(null==e?void 0:null===(i=e.tokenFeeAmountA)||void 0===i?void 0:i.token.mint)]},{amount:e.tokenFeeAmountB,price:t[(0,ea.ZP)(null==e?void 0:null===(l=e.tokenFeeAmountB)||void 0===l?void 0:l.token.mint)]}]:[],r=o.concat(c).reduce((e,t)=>{let{amount:i,price:l}=t;return i&&l?(0,ex.IH)(null!=e?e:(0,eP.Z)(0),(0,ex.dC)(i,l)):e},void 0),d=async()=>{let e=(0,N.Do)(o.concat(c).map(e=>{var t;return null===(t=e.amount)||void 0===t?void 0:t.token.mint})),[t,i]=(0,eZ.W)(e)?await Promise.all([(0,eb.$)(),(0,eg.b)({mints:e})]):[],l=await (0,eN.ZP)(o.concat(c),async e=>{let{amount:l,...n}=e;if(!l)return;let s=await (0,ej.w)({amount:l,fetchedEpochInfo:t,fetchedMints:i});return{...n,amount:null==s?void 0:s.pure}});return(0,N.Do)(l).reduce((e,t)=>{let{amount:i,price:l}=t;return i&&l?(0,ex.IH)(null!=e?e:(0,eP.Z)(0),(0,ex.dC)(i,l)):e},void 0)},m=!!(0,eu.gt)(r,0)||!!s||!!a;return{pendingTotalVolume:r,getPendingTotal:d,isHarvestable:m}},[t,e])}var ew=i(24608),ek=i(41618),eA=i(98590),eC=i(54103),eS=i(67858),eF=i(52784);function eB(e){let{className:t,textClassName:i,text:n,children:s,suffix:o,prefix:c,onClick:r}=e;return(0,l.jsxs)(q.Z,{className:(0,a.m)("text-sm whitespace-nowrap",t),onClick:r,children:[c,(0,l.jsx)("div",{className:(0,a.m)("grow",i),children:null!=n?n:s}),o]})}var eL=i(6325),eI=i(34064),eM=i(99023),eT=i(74365),eq=i(96256),eE=i(71122);function eR(e){var t,i,n,s,o,r;let{className:d}=e,m=(0,b.ZP)(e=>e.currentAmmPool),u=(0,b.ZP)(e=>e.targetUserPositionAccount),x=(0,C.ZP)(e=>e.tokenPrices),{wholeLiquidity:f,baseLiquidity:p,quoteLiquidity:h}=null!==(s=null==u?void 0:null===(t=u.getLiquidityVolume)||void 0===t?void 0:t.call(u,x))&&void 0!==s?s:{},v=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(J.Z,{className:(0,a.m)("flex-wrap bg-[#141041] grid-cols-4 py-3 px-4 rounded-xl gap-12 mobile:gap-4",d),children:[(0,l.jsxs)(D.Z,{className:"grid-rows-[2em,1fr] items-center grow",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] h-8",children:"Liquidity"}),(0,l.jsx)("div",{className:"mobile:text-md font-medium text-2xl text-white",children:(0,ed.Z)(f)})]}),(0,l.jsxs)(D.Z,{className:"grid-rows-[2em,1fr] items-center grow",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] h-8",children:"Leverage"}),(0,l.jsxs)("div",{className:"mobile:text-md font-medium text-2xl text-white",children:[null==u?void 0:u.leverage.toFixed(2),"x"]})]}),(0,l.jsxs)(D.Z,{className:"grid-rows-[2em,1fr] items-center grow",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] h-8",children:"Deposit Ratio"}),(0,l.jsxs)(q.Z,{className:"mobile:text-md font-medium text-2xl text-white gap-2 mobile:gap-1",children:[(0,l.jsx)(eI.a,{prefix:(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)(M.Z,{token:null==m?void 0:m.base,size:v?"sm":"smi"}),(0,l.jsx)("div",{className:" text-[#abc4ff80] min-w-[4em] mr-1",children:null!==(o=null==m?void 0:null===(i=m.base)||void 0===i?void 0:i.symbol)&&void 0!==o?o:"--"})]}),suffix:(0,l.jsx)("div",{className:"text-[#abc4ff80]",children:(0,ec.Z)(null==u?void 0:u.positionPercentA)}),text:(0,l.jsx)("div",{className:"text-white justify-end",children:(0,ed.Z)(p)})}),(0,l.jsx)(eI.a,{prefix:(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)(M.Z,{token:null==m?void 0:m.quote,size:v?"sm":"smi"}),(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:null!==(r=null==m?void 0:null===(n=m.quote)||void 0===n?void 0:n.symbol)&&void 0!==r?r:"--"})]}),suffix:(0,l.jsx)("div",{className:"text-[#abc4ff80]",children:(0,ec.Z)(null==u?void 0:u.positionPercentB)}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ed.Z)(h)})})]})]}),(0,l.jsxs)(D.Z,{className:"grid-rows-[2em,1fr] items-center grow",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] h-8",children:"NFT"}),(0,l.jsx)("div",{className:"font-medium text-[#abc4ff80]",children:(0,l.jsx)(S.U,{textClassName:"text-xs",showDigitCount:v?8:6,canCopy:!0,canExternalLink:!0,children:null==u?void 0:u.nftMint})})]})]})}let ez=e=>Math.min(e+2,15);function eD(e){var t,i,n,s,o,r;let{className:d}=e;(0,eF.Z)();let[m,u,x,f,p]=(0,b.ZP)(e=>[e.currentAmmPool,e.chartPoints,e.coin1,e.coin2,e.timeBasis]),h=(0,c.ZP)(e=>e.isMobile),v=(0,b.ZP)(e=>e.targetUserPositionAccount),g=x||f?Math.max(null!==(n=null==x?void 0:x.decimals)&&void 0!==n?n:0,null!==(s=null==f?void 0:f.decimals)&&void 0!==s?s:0):6,[j,Z]=[v&&(0,eP.Z)(v.priceLower),v&&(0,eP.Z)(v.priceUpper)],N=m?[m.state[b.v$[p]].priceMin,m.state[b.v$[p]].priceMax]:[void 0,void 0];return(0,l.jsxs)(q.Z,{className:(0,a.m)("bg-[#141041] py-3 px-4 rounded-xl gap-4",d),children:[(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff]",children:"My Position"}),(0,l.jsx)(eY,{positionAccount:v})]}),(0,l.jsxs)(D.Z,{className:"items-center text-white mobile:text-sm",children:[(0,ef.B)(null==v?void 0:v.priceLower,{decimalLength:15,maxSignificantCount:ez(6)})," ","-"," ",(0,ef.B)(null==v?void 0:v.priceUpper,{decimalLength:15,maxSignificantCount:ez(6)})]}),(0,l.jsxs)("div",{className:"font-medium text-[#abc4ff] mobile:text-xs",children:[null!==(o=null==m?void 0:null===(t=m.quote)||void 0===t?void 0:t.symbol)&&void 0!==o?o:"--"," per ",null!==(r=null==m?void 0:null===(i=m.base)||void 0===i?void 0:i.symbol)&&void 0!==r?r:"--"]}),(0,l.jsx)("div",{className:"items-center grow ",children:(0,l.jsx)(eT.Z,{chartOptions:{isStable:(null==m?void 0:m.ammConfig.tradeFeeRate)===100,baseIn:!0,points:u?(0,eM.Mn)(u):[],initMinBoundaryX:j,initMaxBoundaryX:Z},priceMin:N[0],priceMax:N[1],currentPrice:m?m.currentPrice:void 0,priceLabel:"".concat(null==f?void 0:f.symbol," per ").concat(null==x?void 0:x.symbol),decimals:g,hideRangeLine:!0,hideRangeInput:!0,showCurrentPriceOnly:!0,timeBasis:p,height:h?100:150})}),(0,l.jsxs)(J.Z,{className:"items-center flex-wrap gap-2",children:[(0,l.jsx)(eI.a,{className:"border-1.5 border-[#abc4ff40] text-[#abc4ff] text-xs font-normal py-1.5 px-3 rounded-lg",prefix:(0,l.jsx)("div",{className:"w-3 h-3 bg-[#abc4ff] rounded-full mr-2"}),children:"Pool Liquidity"}),(0,l.jsx)(eI.a,{className:"border-1.5 border-[#abc4ff40] text-[#abc4ff] text-xs font-normal py-1.5 px-3 rounded-lg",prefix:(0,l.jsx)("div",{className:"w-3 h-3 bg-[#161b4a] rounded-full mr-2"}),children:"My Range"}),(0,l.jsx)(eI.a,{className:"border-1.5 border-[#abc4ff40] text-[#abc4ff] text-xs font-normal py-1.5 px-3 rounded-lg",prefix:(0,l.jsx)("div",{className:"w-3 h-3 bg-white rounded-full mr-2"}),children:"Current Price"})]})]})}function eO(e){var t,i,n,s,o,r,d;let{className:m}=e,u=(0,b.ZP)(e=>e.targetUserPositionAccount),x=(0,b.ZP)(e=>e.refreshConcentrated),f=(0,v.Z)(e=>e.connected),p=(0,C.ZP)(e=>e.tokenPrices),h=null!==(o=null==u?void 0:u.rewardInfos.map(e=>{var t,i;return{token:null===(t=e.penddingReward)||void 0===t?void 0:t.token,volume:(0,ex.dC)(e.penddingReward,p[(0,ea.ZP)(null===(i=e.penddingReward)||void 0===i?void 0:i.token.mint)]),amount:e.penddingReward}}))&&void 0!==o?o:[],j=u?[{token:null==u?void 0:null===(t=u.tokenFeeAmountA)||void 0===t?void 0:t.token,volume:(0,ex.dC)(null==u?void 0:u.tokenFeeAmountA,p[(0,ea.ZP)(null==u?void 0:null===(i=u.tokenFeeAmountA)||void 0===i?void 0:i.token.mint)]),amount:null==u?void 0:u.tokenFeeAmountA},{token:null==u?void 0:null===(n=u.tokenFeeAmountB)||void 0===n?void 0:n.token,volume:(0,ex.dC)(null==u?void 0:u.tokenFeeAmountB,p[(0,ea.ZP)(null==u?void 0:null===(s=u.tokenFeeAmountB)||void 0===s?void 0:s.token.mint)]),amount:null==u?void 0:u.tokenFeeAmountB}]:[],Z=h.concat(j).reduce((e,t)=>{let{volume:i}=t;return i?(0,ex.IH)(null!=e?e:(0,eP.Z)(0),i):e},void 0),N=(0,c.ZP)(e=>e.isMobile),P=(0,eu.$u)(Z),y=(0,c.ZP)(e=>e.isApprovePanelShown);return(0,l.jsxs)(q.Z,{className:(0,a.m)("bg-[#141041] py-3 px-4 rounded-xl gap-4",m),children:[(0,l.jsx)(J.Z,{className:"items-center gap-2",children:(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff]",children:"Pending Yield"})}),(0,l.jsxs)(J.Z,{className:"items-center gap-8",children:[(0,l.jsxs)("div",{className:"font-medium text-2xl text-white",children:["≈",(0,ed.Z)(Z)]}),(0,l.jsx)(L.Z,{className:"frosted-glass-teal",size:N?"sm":void 0,isLoading:y,onClick:()=>g().then(e=>{(null==e?void 0:e.allSuccess)&&x()}),validators:[{should:f,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:P}],children:"Harvest"})]}),(0,l.jsxs)(F.Z,{is:N?"Col":"Grid",className:"grid-cols-2 gap-6 mobile:gap-2 border-1.5 border-[#abc4ff40] py-3 px-4 rounded-xl",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] mt-2 mb-4",children:"Fees"}),(0,l.jsx)(D.Z,{className:"grow grid-cols-1 gap-2 mobile:gap-1",children:j.map(e=>{let{token:t,amount:i}=e;return(0,l.jsx)(eI.a,{prefix:(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)(M.Z,{token:t,size:"smi"}),(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[2em] mr-1",children:null!==(r=null==t?void 0:t.symbol)&&void 0!==r?r:"--"})]}),suffix:(0,l.jsx)("div",{title:(0,ef.B)(i),className:"grow overflow-hidden text-ellipsis text-white justify-end text-end",children:(0,ef.B)(i)})},(0,ea.ZP)(null==t?void 0:t.mint))})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] mt-2 mb-4",children:"Rewards"}),(0,l.jsx)(D.Z,{className:"grow grid-cols-1 gap-2",children:h.length?h.map(e=>{let{token:t,amount:i}=e;return(0,l.jsx)(eI.a,{prefix:(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)(M.Z,{token:t,size:"smi"}),(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[2em] mr-1",children:null!==(d=null==t?void 0:t.symbol)&&void 0!==d?d:"--"})]}),suffix:(0,l.jsx)("div",{title:(0,ef.B)(i),className:"grow overflow-hidden text-ellipsis text-white justify-end text-end",children:(0,ef.B)(i)})},(0,ea.ZP)(null==t?void 0:t.mint))}):(0,l.jsx)("div",{className:"text-[#abc4ff80] mobile:text-sm ",children:"(No Reward)"})})]})]})]})}function eU(e){let{className:t}=e,i=(0,b.ZP)(e=>e.targetUserPositionAccount),n=(0,eE.hy)({positionAccount:i}),s=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(q.Z,{className:(0,a.m)("bg-[#141041] py-3 px-4 rounded-xl gap-4",t),children:[(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff]",children:"Estimated APR"}),(0,l.jsx)(eS.T,{}),(0,l.jsx)(eq.n,{className:"ml-auto"})]}),(0,l.jsx)("div",{className:"font-medium text-2xl mobile:text-lg text-white",children:(0,ec.Z)(null==n?void 0:n.apr)}),(0,l.jsx)(D.Z,{className:"border-1.5 border-[#abc4ff40] py-3 px-4 rounded-xl",children:i&&(0,l.jsx)(eC.E,{type:"positionAccount",positionAccount:i,colCount:s?1:2})})]})}function eW(e){var t,i,n,s;let{className:o}=e,r=(0,b.ZP)(e=>e.currentAmmPool),d=(0,b.ZP)(e=>e.targetUserPositionAccount),m=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(J.Z,{className:(0,a.m)("justify-between gap-2 flex-wrap",o),children:[(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)(T.Z,{token1:null==r?void 0:r.base,token2:null==r?void 0:r.quote,size:m?"md":"lg"}),(0,l.jsxs)("div",{className:"font-medium text-2xl mobile:text-xl text-white",children:[null!==(n=null==r?void 0:null===(t=r.base)||void 0===t?void 0:t.symbol)&&void 0!==n?n:"--"," - ",null!==(s=null==r?void 0:null===(i=r.quote)||void 0===i?void 0:i.symbol)&&void 0!==s?s:"--"]}),(0,l.jsx)(eY,{positionAccount:d})]}),(0,l.jsxs)(J.Z,{className:"items-center gap-2 mobile:grow",children:[(0,l.jsx)(L.Z,{className:"frosted-glass-teal mobile:grow",onClick:()=>{b.ZP.setState({isAddDialogOpen:!0,currentAmmPool:r,targetUserPositionAccount:d,coin1:null==r?void 0:r.base,coin2:null==r?void 0:r.quote})},size:m?"sm":void 0,children:"Add Liquidity"}),(0,l.jsx)(L.Z,{className:"frosted-glass-teal ghost mobile:grow",size:m?"sm":void 0,onClick:()=>{b.ZP.setState({isRemoveDialogOpen:!0,currentAmmPool:r,targetUserPositionAccount:d,coin1:null==r?void 0:r.base,coin2:null==r?void 0:r.quote})},children:"Remove Liquidity"})]})]})}function eV(){let e=(0,b.ZP)(e=>e.isMyPositionDialogOpen);return(0,l.jsx)(eL.Z,{placement:"from-bottom",open:e,onClose:()=>{b.ZP.setState({isMyPositionDialogOpen:!1})},children:e=>{let{close:t}=e;return(0,l.jsxs)(I.Z,{className:"p-8 mobile:p-4 pb-2 rounded-3xl mobile:rounded-lg w-[min(912px,90vw)] max-h-[80vh] overflow-auto mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:[(0,l.jsxs)(J.Z,{className:"justify-between items-center gap-6 mobile:gap-3 mb-6 mobile:mb-3",children:[(0,l.jsx)(eW,{className:"grow"}),(0,l.jsx)(O.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:t})]}),(0,l.jsxs)(D.Z,{className:"gap-3 mobile:gap-2 grid-cols-2 mobile:grid-cols-1 w-[min(912px,100%)]",children:[(0,l.jsx)(eR,{className:"col-span-full"}),(0,l.jsx)(eD,{className:"col-span-1 row-span-2"}),(0,l.jsx)(eO,{}),(0,l.jsx)(eU,{})]}),(0,l.jsx)(eH,{})]})}})}function eH(e){let{className:t}=e,i=(0,b.ZP)(e=>e.currentAmmPool),n=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(E.Z,{openDirection:"upwards",className:"w-full mt-4",children:[(0,l.jsx)(E.Z.Body,{children:(0,l.jsx)("div",{className:"pb-4",children:(0,l.jsxs)("div",{className:(0,a.m)("bg-[#141041] py-3 px-4 rounded-xl gap-4 ",t),children:[(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] mb-4",children:"Pool Overview"}),(0,l.jsxs)(D.Z,{className:"grid-cols-5 mobile:grid-cols-2 gap-8 mobile:gap-4 mobile:text-sm",children:[(0,l.jsx)(eB,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"Fee Rate"}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ec.Z)(null==i?void 0:i.tradeFeeRate)})}),(0,l.jsx)(eB,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"Liquidity"}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ed.Z)(null==i?void 0:i.tvl)})}),(0,l.jsx)(eB,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"24h Volume"}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ed.Z)(null==i?void 0:i.volume24h)})}),(0,l.jsx)(eB,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"24h Fee"}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ed.Z)(null==i?void 0:i.volumeFee24h)})}),(0,l.jsx)(eB,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"Tick Spacing"}),text:(0,l.jsx)("div",{className:"text-white",children:null==i?void 0:i.ammConfig.tickSpacing})})]})]})})}),(0,l.jsx)(E.Z.Face,{children:e=>{let{isOpen:t}=e;return(0,l.jsxs)(J.Z,{className:"border-t-1.5 pt-4 pb-2  mobile:pt-2 mobile:pb-0 border-[#abc4ff40] w-full items-center justify-center text-sm font-medium text-[#abc4ff] cursor-pointer select-none",children:[(0,l.jsx)("div",{children:"Pool Overview"}),(0,l.jsx)(O.Z,{size:n?"xs":"sm",heroIconName:t?"chevron-up":"chevron-down",className:"ml-1"})]})}})]})}function eY(e){let{positionAccount:t}=e;return t?t.inRange?(0,l.jsxs)(J.Z,{className:"items-center bg-[#142B45] rounded text-xs text-[#39D0D8] py-0.5 px-1 ml-2",children:[(0,l.jsx)(O.Z,{size:"xs",iconSrc:"/icons/check-circle.svg"}),(0,l.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"In Range"})]}):(0,l.jsxs)(J.Z,{className:"items-center bg-[#DA2EEF]/10 rounded text-xs text-[#DA2EEF] py-0.5 px-1 ml-2",children:[(0,l.jsx)(O.Z,{size:"xs",iconSrc:"/icons/warn-stick.svg"}),(0,l.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"Out of Range"})]}):null}var eK=i(42186),e_=i(62952),e$=i(71375),eJ=i(55469);async function eQ(){var e;let t,{currentAmmPool:i=b.ZP.getState().currentAmmPool,targetUserPositionAccount:l=b.ZP.getState().targetUserPositionAccount}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{coin1:n,coin2:o,coin1Amount:a,coin2Amount:c,coin1SlippageAmount:r,coin2SlippageAmount:d,liquidity:m}=b.ZP.getState(),x=[null==l?void 0:l.tokenA,null==l?void 0:l.tokenB,...null!==(e=null==l?void 0:l.rewardInfos.map(e=>e.token))&&void 0!==e?e:[]].some(e=>(0,eZ.W)(e)&&e);if(x){let{hasConfirmed:e}=(0,eJ.e)({caseName:"increase",groupInfo:l?{ammPool:l.ammPool,priceLower:l.priceLower,priceUpper:l.priceUpper}:void 0,amount:(0,N.Do)([(0,e_.n)(n,a,{alreadyDecimaled:!0}),(0,e_.n)(o,c,{alreadyDecimaled:!0})])});t=await e}else t=!0;if(!t){f.Z.getState().logError("Canceled by User","The operation is canceled by user");return}return(0,h.ZP)(async e=>{let{transactionCollector:t,baseUtils:{connection:a,owner:c}}=e,{tokenAccountRawInfos:x}=v.Z.getState();(0,u.Z)(i,"not seleted amm pool"),(0,u.Z)(n,"not set coin1"),(0,u.Z)(r,"not set coin1Amount"),(0,u.Z)(o,"not set coin2"),(0,u.Z)(d,"not set coin2Amount"),(0,u.Z)((0,eu.$u)(m),"not set liquidity"),(0,u.Z)(l,"not set targetUserPositionAccount");let{innerTransactions:f}=await s.c2c.makeIncreasePositionFromLiquidityInstructionSimple({connection:a,liquidity:m,poolInfo:i.state,ownerInfo:{feePayer:c,wallet:c,tokenAccounts:x,useSOLBalance:(0,eK.Dn)(n)||(0,eK.Dn)(o)},ownerPosition:l.sdkParsed,computeBudgetConfig:await (0,p.u)(),checkCreateATAOwner:!0,amountMaxA:(0,e$.Z)(r,n.decimals,"up"),amountMaxB:(0,e$.Z)(d,o.decimals,"up")});t.add(f,{txHistoryInfo:{title:"Liquidity Added",description:"Added ".concat((0,ef.B)(r)," ").concat(n.symbol," and ").concat((0,ef.B)(d)," ").concat(o.symbol," to ").concat((0,ea.ZP)(l.poolId).slice(0,6))}})})}var eG=i(6547),eX=i(97664),e0=i(28948),e1=i(51488);function e2(){var e,t,i,o,a,r,d,m,u,x,f,p,h,g,j,N,y,w;(0,Z.Z)(),(0,P.Z)(()=>{b.ZP.setState({coin1Amount:void 0,coin2Amount:void 0,coin1AmountFee:void 0,coin2AmountFee:void 0,coin1ExpirationTime:void 0,coin2ExpirationTime:void 0})});let k=(0,v.Z)(e=>e.getBalance),A=(0,b.ZP)(e=>e.isAddDialogOpen),S=(0,b.ZP)(e=>e.refreshConcentrated),F=(0,v.Z)(e=>e.connected),T=(0,c.ZP)(e=>e.isApprovePanelShown),E=(0,n.useRef)(),R=(0,n.useRef)(),z=(0,n.useRef)(),U=(0,b.ZP)(e=>e.currentAmmPool),W=null==U?void 0:U.base,V=null==U?void 0:U.quote,H=null==U?void 0:U.currentPrice,Y=(0,b.ZP)(e=>e.targetUserPositionAccount),K=(0,b.ZP)(e=>e.coin1),_=(0,b.ZP)(e=>e.coin2),$=(0,b.ZP)(e=>e.liquidity),Q=K||_?Math.max(null!==(e=null==K?void 0:K.decimals)&&void 0!==e?e:0,null!==(t=null==_?void 0:_.decimals)&&void 0!==t?t:0):6,G=(0,C.ZP)(e=>e.tokenPrices),X=(0,b.ZP)(e=>e.coin1Amount),et=(0,b.ZP)(e=>e.coin2Amount);(0,b.ZP)(e=>e.coin1SlippageAmount),(0,b.ZP)(e=>e.coin2SlippageAmount);let ei=(0,em.aT)(null==W?void 0:W.mint,null==K?void 0:K.mint)?"coin1":"coin2",el="coin1"===ei?X:et,en="coin1"===ei?et:X,es=(0,n.useMemo)(()=>W&&el&&(0,eZ.W)(W)?(0,ej.w)({amount:(0,e_.n)(W,el,{alreadyDecimaled:!0})}):void 0,[W,el]),eo=(0,n.useMemo)(()=>V&&en&&(0,eZ.W)(V)?(0,ej.w)({amount:(0,e_.n)(V,en,{alreadyDecimaled:!0})}):void 0,[V,en]),ec=(0,eZ.W)(W)||(0,eZ.W)(V),[er,ep]=(0,n.useState)(!1),[eh,ev]=(0,n.useState)(!1),[eb,eg]=(0,n.useState)(!1),[eN,eP]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!U||!Y)return;let e=null==U?void 0:U.base,t=null==U?void 0:U.quote;b.ZP.setState({coin1:e,coin2:t,priceLowerTick:Y.tickLower,priceUpperTick:Y.tickUpper})},[U,Y]);let ey=G[(0,ea.ZP)(null==W?void 0:W.mint)],ew=G[(0,ea.ZP)(null==V?void 0:V.mint)],ek=(0,ex.dC)(el,ey),eA=(0,ex.dC)(en,ew),eC=(0,ex.IH)(ek,eA),eS=(0,c.ZP)(e=>e.isMobile),{Token2022FeeTooHighWarningChip:eF,isWarningChipOpen:eB}=(0,e1.I)([{token:W,amount:el},{token:V,amount:en}]),[eI,eM]=(0,n.useState)(!1);(0,n.useEffect)(()=>()=>eM(!1),[(0,ea.ZP)(null==W?void 0:W.mint)]);let[eT,eq]=(0,n.useState)(!1);return(0,n.useEffect)(()=>()=>eq(!1),[(0,ea.ZP)(null==V?void 0:V.mint)]),(0,l.jsx)(eL.Z,{placement:"from-bottom",open:A,onClose:()=>{b.ZP.setState({isAddDialogOpen:!1,coin1Amount:void 0,coin2Amount:void 0})},children:e=>{let{close:t}=e;return(0,l.jsxs)(I.Z,{className:"p-8 mobile:p-4 pb-2 rounded-3xl mobile:rounded-lg w-[min(456px,90vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:[(0,l.jsxs)(J.Z,{className:"justify-between items-center mb-6 mobile:mb-3",children:[(0,l.jsxs)("div",{className:"mobile:text-base text-xl font-semibold text-white",children:["Add Liquidity to ",null!==(i=null==W?void 0:W.symbol)&&void 0!==i?i:"--"," - ",null!==(o=null==V?void 0:V.symbol)&&void 0!==o?o:"--"," "]}),(0,l.jsx)(O.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:t})]}),(0,l.jsxs)(q.Z,{className:"gap-2 mobile:gap-1 border-1.5 rounded-xl border-[#abc4ff40] p-2.5 mobile:p-2 mb-4 mobile:mb-2",children:[(0,l.jsx)("div",{className:"font-medium text-sm text-[#abc4ff] mobile:pb-1",children:"My Position"}),(0,l.jsxs)(J.Z,{className:"items-center",children:[(0,l.jsx)(M.Z,{token:W,size:eS?"xs":"sm"}),(0,l.jsx)("div",{className:"ml-2 mr-auto text-sm mobile:text-xs text-[#abc4ff80]",children:null!==(a=null==W?void 0:W.symbol)&&void 0!==a?a:"--"}),(0,l.jsxs)("div",{className:"text-white font-medium text-sm mobile:text-xs",children:[(0,ef.B)(null==Y?void 0:Y.amountA)," ",null!==(r=null==W?void 0:W.symbol)&&void 0!==r?r:"--"]})]}),(0,l.jsxs)(J.Z,{className:"items-center",children:[(0,l.jsx)(M.Z,{token:V,size:eS?"xs":"sm"}),(0,l.jsx)("div",{className:"ml-2 mr-auto text-sm mobile:text-xs text-[#abc4ff80]",children:null!==(d=null==V?void 0:V.symbol)&&void 0!==d?d:"--"}),(0,l.jsxs)("div",{className:"text-white font-medium text-sm mobile:text-xs",children:[(0,ef.B)(null==Y?void 0:Y.amountB)," ",null!==(m=null==V?void 0:V.symbol)&&void 0!==m?m:"--"]})]})]}),(0,l.jsxs)(q.Z,{className:"gap-2 border-1.5 rounded-xl border-[#abc4ff40] p-2.5 mobile:p-2 mb-4 mobile:mb-2",children:[(0,l.jsxs)(J.Z,{className:"items-center py-1",children:[(0,l.jsx)("div",{className:"font-medium text-sm text-[#abc4ff] mr-auto",children:"Selected Range"}),(0,l.jsxs)(J.Z,{children:[(0,l.jsx)("div",{className:"text-[#abc4ff80] text-xs mr-2",children:"current Price"}),(0,l.jsxs)("div",{className:"text-white font-medium text-xs",children:[H?(0,ef.B)(H,{decimalLength:Q}):"0"," ",null!==(u=null==V?void 0:V.symbol)&&void 0!==u?u:"--"," ","per ",null!==(x=null==W?void 0:W.symbol)&&void 0!==x?x:"--"]})]})]}),(0,l.jsxs)(D.Z,{className:"grid-cols-2 gap-4 mobile:gap-2",children:[(0,l.jsxs)(q.Z,{className:"gap-2 border-1.5 rounded-xl border-[#39d0d866] items-center py-3",children:[(0,l.jsx)("div",{className:"text-[#abc4ff] text-sm",children:"Min Price"}),(0,l.jsx)("div",{className:"text-white text-xl font-medium",children:(0,ef.B)(null==Y?void 0:Y.priceLower)}),(0,l.jsxs)("div",{className:"text-[#abc4ff80] text-xs",children:[null!==(f=null==V?void 0:V.symbol)&&void 0!==f?f:"--"," per ",null!==(p=null==W?void 0:W.symbol)&&void 0!==p?p:"--"]})]}),(0,l.jsxs)(q.Z,{className:"gap-2 border-1.5 rounded-xl border-[#39d0d866] items-center py-3",children:[(0,l.jsx)("div",{className:"text-[#abc4ff] text-sm",children:"Max Price"}),(0,l.jsx)("div",{className:"text-white text-xl font-medium",children:(0,ef.B)(null==Y?void 0:Y.priceUpper)}),(0,l.jsxs)("div",{className:"text-[#abc4ff80] text-xs",children:[null!==(h=null==V?void 0:V.symbol)&&void 0!==h?h:"--"," per ",null!==(g=null==W?void 0:W.symbol)&&void 0!==g?g:"--"]})]})]})]}),(0,l.jsxs)(q.Z,{className:"gap-3 mobile:gap-2 mb-6 mobile:mb-2",children:[(0,l.jsx)(eX.Z,{hideTransferFee:!0,className:"p-4 mobile:py-2",componentRef:R,disabled:(0,eu.gt)(H,null==Y?void 0:Y.priceUpper),renderDisabledMask:(0,l.jsx)(e5,{}),haveCoinIcon:!0,topLeftLabel:"Amount",token:W,maxValue:W?(0,e_.n)(W,(0,ex.dC)(k(W),.985),{alreadyDecimaled:!0}):void 0,value:(0,ef.B)(el),onUserInput:e=>{"coin1"===ei?b.ZP.setState({coin1Amount:e,userCursorSide:"coin1"}):b.ZP.setState({coin2Amount:e,userCursorSide:"coin2"})},onInputAmountClampInBalanceChange:e=>{let{negative:t,outOfMax:i}=e;ev(t),ep(i)},onEnter:e=>{var t,i;e&&(null===(t=E.current)||void 0===t||null===(i=t.click)||void 0===i||i.call(t))}}),(0,l.jsx)(eX.Z,{hideTransferFee:!0,className:"p-4 mobile:py-2",componentRef:z,disabled:(0,eu.lt)(H,null==Y?void 0:Y.priceLower),renderDisabledMask:(0,l.jsx)(e5,{}),haveCoinIcon:!0,topLeftLabel:"Amount",token:V,maxValue:V?(0,e_.n)(V,(0,ex.dC)(k(V),.985),{alreadyDecimaled:!0}):void 0,value:(0,ef.B)(en),onUserInput:e=>{"coin1"===ei?b.ZP.setState({coin2Amount:e,userCursorSide:"coin2"}):b.ZP.setState({coin1Amount:e,userCursorSide:"coin1"})},onInputAmountClampInBalanceChange:e=>{let{negative:t,outOfMax:i}=e;eP(t),eg(i)},onEnter:e=>{var t,i;e&&(null===(t=E.current)||void 0===t||null===(i=t.click)||void 0===i||i.call(t))}}),eF({className:"pt-1"})]}),(0,l.jsx)(e0.Z,{show:(0,eu.$u)(el),children:(0,l.jsxs)(q.Z,{className:"gap-2 mobile:gap-1 border-1.5 rounded-xl border-[#abc4ff40] py-2.5 px-3 mb-4",children:[(0,l.jsxs)(q.Z,{className:"justify-between",children:[ec?(0,l.jsxs)(D.Z,{className:"mb-1 grid-cols-[2.5fr,2fr,2fr] items-center text-xs text-[#abc4ff]",children:[(0,l.jsx)("div",{}),(0,l.jsxs)(J.Z,{className:"justify-self-end items-center",children:[(0,l.jsx)("div",{children:"Token2022 Fee"}),(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(O.Z,{iconClassName:"ml-1",size:"xs",heroIconName:"question-mark-circle"}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[200px] space-y-1.5 text-[#abc4ff]",children:"Tokens with a transfer fee use the Token2022 program and have a fee programed for all token interactions."})})]})]}),(0,l.jsx)("div",{className:"justify-self-end",children:"Final Deposit"})]}):void 0,(0,l.jsx)(q.Z,{className:"gap-1",children:[{side:"base",isToken2022:(0,eZ.W)(W),token:W,info:es,rawAmount:el},{side:"quote",isToken2022:(0,eZ.W)(V),token:V,info:eo,rawAmount:en}].map(e=>{let{isToken2022:t,token:i,info:n,rawAmount:s,side:o}=e;return(0,l.jsxs)(D.Z,{className:"grid-cols-[2.5fr,2fr,2fr] items-center",children:[(0,l.jsxs)(J.Z,{className:"items-center gap-1 overflow-hidden",children:[(0,l.jsx)("div",{className:"font-medium text-white",children:null==i?void 0:i.symbol}),(0,l.jsx)(M.Z,{size:"sm",token:i}),t&&(0,l.jsx)(B.I,{})]}),(0,l.jsx)("div",{className:"justify-self-end font-medium text-xs text-[#abc4ff]",children:ec?t?(0,l.jsx)(eG.j,{promise:n,fallback:"--",children:e=>(null==e?void 0:e.fee)?(0,l.jsx)("div",{children:(0,ef.B)(e.fee)}):"-"}):"-":""}),(0,l.jsx)("div",{className:"justify-self-end font-medium text-white overflow-hidden",children:t&&(0,eu.$u)(s)?(0,l.jsx)(eG.j,{promise:n,fallback:"--",onFullfilled:()=>{"base"===o?eM(!0):eq(!0)},children:e=>(null==e?void 0:e.pure)?(0,l.jsx)("div",{children:(0,ef.B)(e.pure,{decimalLength:i?"auto ".concat(i.decimals):void 0})}):void 0}):(0,l.jsx)("div",{children:(0,ef.B)(s,{decimalLength:i?"auto ".concat(i.decimals):void 0})})})]},(0,ea.ZP)(null==i?void 0:i.mint))})})]}),(0,l.jsxs)(J.Z,{className:"items-center",children:[(0,l.jsx)("div",{className:"mr-auto text-sm mobile:text-xs text-[#abc4ff]",children:"Total Deposit"}),(0,l.jsx)("div",{className:"text-white font-medium text-sm",children:(0,ed.Z)(eC)})]})]})}),(0,l.jsxs)(J.Z,{className:"flex-col gap-1",children:[(0,l.jsx)(L.Z,{className:"frosted-glass frosted-glass-teal mobile:text-sm",size:eS?"sm":void 0,isLoading:T,componentRef:E,validators:[{should:F,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{not:eB},{should:(0,eu.$u)(el)||(0,eu.$u)(en)},{should:(!(0,eZ.W)(W)||eI)&&(!(0,eZ.W)(V)||eT),fallbackProps:{children:"Loading Token 2022 Info..."}},{not:null==$?void 0:$.eq(s.xEJ),fallbackProps:{children:"Token Amount Fail to Create Position"}},{should:!er,fallbackProps:{children:"".concat(null!==(j=null==W?void 0:W.symbol)&&void 0!==j?j:""," Amount Too Large")}},{should:!eh,fallbackProps:{children:"Negative ".concat(null!==(N=null==W?void 0:W.symbol)&&void 0!==N?N:""," Amount")}},{should:!eb,fallbackProps:{children:"".concat(null!==(y=null==V?void 0:V.symbol)&&void 0!==y?y:""," Amount Too Large")}},{should:!eN,fallbackProps:{children:"Negative ".concat(null!==(w=null==V?void 0:V.symbol)&&void 0!==w?w:""," Amount")}}],onClick:()=>{eQ().then(e=>{(null==e?void 0:e.allSuccess)&&(S(),b.ZP.setState({isAddDialogOpen:!1,coin1Amount:void 0,coin2Amount:void 0,coin1AmountFee:void 0,coin2AmountFee:void 0,coin1SlippageAmount:void 0,coin2SlippageAmount:void 0,coin1ExpirationTime:void 0,coin2ExpirationTime:void 0}))})},children:"Add Liquidity"}),(0,l.jsx)(L.Z,{type:"text",size:eS?"sm":void 0,className:"text-sm text-[#ABC4FF] opacity-50 backdrop-filter-none",onClick:t,children:"Cancel"})]})]})}})}function e5(){return(0,l.jsxs)("div",{className:"absolute text-sm flex flex-col border-1.5 border-[#abc4ff40] text-center justify-center items-center p-2 w-full h-full bg-[#141041] bg-opacity-80 z-10 rounded-xl",children:[(0,l.jsx)(O.Z,{className:"mb-1",heroIconName:"lock-closed",size:"sm"}),"Current price is outside your selected range. Single-asset deposit only."]})}var e4=i(47857),e6=i(9531),e9=i(27407);function e3(e){let[t,i]=(0,n.useState)(),[s,o]=(0,n.useState)(0),[c,r]=(0,n.useState)(0),{id:d,title:m,max:u,className:x,titleClassName:f,tagClassName:p,onChange:h,liquidity:v,tick:b}=(0,e9.Z)(e,t),g=(0,e4.z)(e=>{(0,y.kJ)(e)||(null==h||h(e),r(e),o(e/u))}),j=(0,e4.z)(e=>{o(e),r(u*e),null==h||h(u*e)});return(0,n.useEffect)(()=>{var e;let t=Number((0,ef.B)((0,ex.hi)(null!=v?v:0,(0,ex.dC)(u,b)),{decimalLength:"auto 4"}));o(t=t>1?1:t),r(null!==(e=Number((0,ef.B)(t*u,{decimalLength:"auto 2"})))&&void 0!==e?e:0)},[v]),(0,l.jsxs)("div",{className:(0,a.m)("w-full py-1 px-1",x),children:[(0,l.jsxs)(J.Z,{className:"w-full flex flex-row justify-between",children:[(0,l.jsxs)("div",{className:"w-full flex flex-row justify-start items-center ",children:[(0,l.jsx)("span",{className:(0,a.m)("text-[#ABC4FF] font-medium text-base mobile:text-sm",f),style:{marginRight:8},children:null!=m?m:"Amount"}),(0,l.jsxs)(J.Z,{className:"gap-1 mobile:gap-0.5",children:[(0,l.jsx)(e8,{tagName:"Max",className:p,percentageValue:1,onClick:j}),(0,l.jsx)(e8,{tagName:"75%",className:p,percentageValue:.75,onClick:j}),(0,l.jsx)(e8,{tagName:"50%",className:p,percentageValue:.5,onClick:j}),(0,l.jsx)(e8,{tagName:"25%",className:p,percentageValue:.25,onClick:j})]})]}),(0,l.jsx)("div",{className:"text-lg mobile:text-sm text-white font-medium flex items-center",children:(0,ec.Z)(s)})]}),(0,l.jsx)(e7,{className:"mt-5",max:u,onChange:g,value:c})]})}function e8(e){let{tagName:t,className:i,percentageValue:n,onClick:s}=e;return(0,l.jsx)("div",{className:(0,a.m)("text-[#ABC4FF] font-medium text-sm mobile:text-xs m-0.25 bg-[#14104180] rounded-lg mobile:rounded-md hover:bg-[#ABC4FF] hover:text-[#1B1659] py-1 px-3 mobile:px-2 clickable",i),onClick:()=>{s&&s(n)},children:t})}function e7(e){let{max:t,className:i,trackStyle:n,handleStyle:s,railStyle:o,onChange:c,onSettled:r,value:d,defaultValue:m,...u}=e;return(0,l.jsx)(J.Z,{className:(0,a.m)("w-full h-5, px-3",i),children:(0,l.jsx)(e6.Z,{min:0,max:t,step:.01,value:null!=d?d:void 0,trackStyle:{backgroundColor:"#36B9E2",height:2,...n},handleStyle:{borderColor:"transparent",height:24,width:24,marginTop:-12,backgroundColor:"#ABC4FF",opacity:1,boxShadow:"none",...s},railStyle:{backgroundColor:"#36B9E2",height:1,opacity:"0.2",...o},onChange:e=>{null==c||c(e)}})})}i(85213);var te=i(78083),tt=n.memo(function(e){var t;let{isAdd:i=!1}=e,o=(0,b.ZP)(e=>e.currentAmmPool),a=(0,b.ZP)(e=>e.targetUserPositionAccount),c=(0,b.ZP)(e=>e.coin1),r=(0,b.ZP)(e=>e.coin2),d=(0,b.ZP)(e=>e.liquidity);(0,u.Z)(c,"base token not been set"),(0,u.Z)(r,"quote token not been set");let m=(0,n.useMemo)(()=>{if(o&&a){var e;return null===(e=o.positionAccount)||void 0===e?void 0:e.find(e=>(0,ea.ZP)(e.nftMint)===(0,ea.ZP)(a.nftMint))}},[o,a]),x=(0,n.useMemo)(()=>null!==(t=(0,ex.hi)(null==m?void 0:m.liquidity,100))&&void 0!==t?t:(0,eP.Z)(0),[null==m?void 0:m.liquidity]),f=(0,n.useRef)(),p=(0,ew.f)(e=>{b.ZP.setState(e)},{throttleOption:{delay:200,invokeImmediatelyInInitual:!0}}),h=(0,e4.z)(e=>{var t;null===(t=f.current)||void 0===t||t.call(f);let{abort:i}=(0,te.t)(async t=>{var i,l;if(!e||(0,y.kJ)(e)||!o||!m)return;let[n,a]=await Promise.all([(0,eg.b)({mints:[o.state.mintA.mint,o.state.mintB.mint]}),(0,eb.$)()]);if(!t())return;let c=(0,e$.Z)((0,ex.dC)(e,x)),r=s.c2c.getAmountsFromLiquidity({poolInfo:o.state,liquidity:c,slippage:0,add:!1,tickLower:m.tickLower,tickUpper:m.tickUpper,token2022Infos:n,epochInfo:a});p({coin1Amount:(0,e_.n)(o.base,(0,ex.h9)(r.amountSlippageA.amount,null!==(i=r.amountSlippageA.fee)&&void 0!==i?i:0)),coin2Amount:(0,e_.n)(o.quote,(0,ex.h9)(r.amountSlippageB.amount,null!==(l=r.amountSlippageB.fee)&&void 0!==l?l:0)),coin1AmountFee:(0,e_.n)(o.base,r.amountSlippageA.fee),coin2AmountFee:(0,e_.n)(o.quote,r.amountSlippageB.fee),coin1ExpirationTime:r.amountSlippageA.expirationTime,coin2ExpirationTime:r.amountSlippageB.expirationTime,isInput:!1,liquidity:c})});f.current=i});return(0,l.jsx)(e3,{max:100,tick:x,className:"py-3 px-3 ring-1 mobile:ring-1 ring-[#abc4ff40] rounded-xl mobile:rounded-xl ",onChange:h,liquidity:d})}),ti=i(99111);function tl(e){var t,i,o,r,d,u;let{className:x,onClose:f}=e;(0,P.Z)(()=>{b.ZP.setState({coin1Amount:void 0,coin2Amount:void 0,coin1AmountFee:void 0,coin2AmountFee:void 0})});let p=(0,b.ZP)(e=>e.isRemoveDialogOpen),h=(0,b.ZP)(e=>e.refreshConcentrated),g=(0,v.Z)(e=>e.connected),j=(0,c.ZP)(e=>e.isApprovePanelShown),Z=(0,n.useRef)(),N=(0,n.useRef)(),y=(0,n.useRef)(),w=(0,b.ZP)(e=>e.currentAmmPool),k=null==w?void 0:w.base,A=null==w?void 0:w.quote,C=(0,b.ZP)(e=>e.targetUserPositionAccount),S=(0,b.ZP)(e=>e.coin1);(0,b.ZP)(e=>e.coin2);let F=(0,b.ZP)(e=>e.coin1Amount),B=(0,b.ZP)(e=>e.coin2Amount),M=(0,b.ZP)(e=>e.coin1AmountMin),T=(0,b.ZP)(e=>e.coin2AmountMin),E=(0,em.aT)(null==k?void 0:k.mint,null==S?void 0:S.mint)?"coin1":"coin2",[R,z]=(0,n.useState)(!1),[D,U]=(0,n.useState)(!1),[W,V]=(0,n.useState)(!1),[H,Y]=(0,n.useState)(!1),K=(0,b.ZP)(e=>e.liquidity),{getPendingTotal:_}=ey(C),$=(0,ti.Z)(()=>p?null==_?void 0:_():void 0,[p,_]),Q=(0,c.ZP)(e=>e.isMobile),[G,X]=(0,n.useState)({});(0,n.useEffect)(()=>{if(!w||!C)return;let e=null==w?void 0:w.base,t=null==w?void 0:w.quote;b.ZP.setState({coin1:e,coin2:t,priceLowerTick:C.tickLower,priceUpperTick:C.tickUpper})},[w,C]),(0,n.useEffect)(()=>{b.ZP.setState({coin1AmountMin:(0,ex.dC)(F,m.c)})},[F]),(0,n.useEffect)(()=>{b.ZP.setState({coin2AmountMin:(0,ex.dC)(B,m.c)})},[B]);let et=(0,n.useMemo)(()=>{if(w&&C){var e;return null===(e=w.positionAccount)||void 0===e?void 0:e.find(e=>(0,ea.ZP)(e.nftMint)===(0,ea.ZP)(C.nftMint))}},[w,C]),ei=(0,e4.z)(async()=>{if(!et||!w||!k||!A)return;let[e,t]=await Promise.all([(0,eg.b)({mints:[w.state.mintA.mint,w.state.mintB.mint].filter(eZ.W)}),(0,eb.$)()]);try{var i,l;let n=s.c2c.getAmountsFromLiquidity({poolInfo:w.state,liquidity:et.liquidity,slippage:0,add:!1,tickLower:et.tickLower,tickUpper:et.tickUpper,token2022Infos:e,epochInfo:t}),o=(0,e_.n)(w.base,(0,ex.h9)(n.amountSlippageA.amount,null!==(i=n.amountSlippageA.fee)&&void 0!==i?i:0)),a=(0,e_.n)(w.quote,(0,ex.h9)(n.amountSlippageB.amount,null!==(l=n.amountSlippageB.fee)&&void 0!==l?l:0)),c=(0,e_.n)(w.base,n.amountSlippageA.fee),r=(0,e_.n)(w.quote,n.amountSlippageB.fee);X({coin1Amount:o,coin2Amount:a,coin1AmountFee:c,coin2AmountFee:r})}catch(e){console.error(e)}});(0,n.useEffect)(()=>{ei()},[(0,ea.ZP)(null==et?void 0:et.nftMint),null==et?void 0:et.liquidity]);let el=(0,e4.z)(()=>{(null==et?void 0:et.liquidity)&&G.coin1Amount&&G.coin2Amount&&b.ZP.setState({coin1Amount:G.coin1Amount,coin2Amount:G.coin2Amount,coin1AmountFee:G.coin1AmountFee,coin2AmountFee:G.coin2AmountFee,isInput:!0,liquidity:et.liquidity})}),[en,es]=(0,n.useState)(!1);(0,n.useEffect)(()=>()=>es(!1),[(0,ea.ZP)(null==k?void 0:k.mint)]);let[eo,ec]=(0,n.useState)(!1);return(0,n.useEffect)(()=>()=>ec(!1),[(0,ea.ZP)(null==A?void 0:A.mint)]),(0,l.jsx)(eL.Z,{placement:"from-bottom",open:p,onClose:()=>{b.ZP.setState({isRemoveDialogOpen:!1,coin1Amount:void 0,coin2Amount:void 0,coin1AmountFee:void 0,coin2AmountFee:void 0})},children:e=>{let{close:n}=e;return(0,l.jsxs)(I.Z,{className:(0,a.m)("p-8 mobile:p-4 rounded-3xl w-[min(500px,90vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",x),size:"lg",children:[(0,l.jsxs)(J.Z,{className:"justify-between items-center mb-6 mobile:mb-3",children:[(0,l.jsxs)("div",{className:"mobile:text-base text-xl font-semibold text-white",children:["Remove Liquidity from ",null==k?void 0:k.symbol," - ",null==A?void 0:A.symbol]}),(0,l.jsx)(O.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:n})]}),(0,l.jsxs)(q.Z,{className:"gap-3 mb-6 mobile:mb-4",children:[(0,l.jsx)(eX.Z,{hideTransferFee:!0,componentRef:N,haveCoinIcon:!0,topLeftLabel:"Base",topRightLabel:"Deposited: ".concat((0,ef.B)(null==C?void 0:C.amountA)),maxValue:G.coin1Amount,canFillFullBalance:!0,token:k,value:(0,ef.B)(F,{decimalLength:"auto ".concat(null!==(t=null==k?void 0:k.decimals)&&void 0!==t?t:10)}),onUserInput:e=>{b.ZP.setState({isInput:!0}),"coin1"===E?b.ZP.setState({coin1Amount:e,userCursorSide:"coin1"}):b.ZP.setState({coin2Amount:e,userCursorSide:"coin2"})},onCalculateTransferFee:e=>{"coin1"===E?b.ZP.setState({coin1AmountFee:e}):b.ZP.setState({coin2AmountFee:e})},onInputAmountClampInBalanceChange:e=>{let{negative:t,outOfMax:i}=e;U(t),z(i)},onEnter:e=>{var t,i;e&&(null===(t=Z.current)||void 0===t||null===(i=t.click)||void 0===i||i.call(t))},onCustomMax:()=>{el()}}),(0,l.jsx)(eX.Z,{hideTransferFee:!0,componentRef:y,haveCoinIcon:!0,topLeftLabel:"Quote",topRightLabel:"Deposited: ".concat((0,ef.B)(null==C?void 0:C.amountB)),maxValue:G.coin2Amount,canFillFullBalance:!0,token:A,value:(0,ef.B)(B,{decimalLength:"auto ".concat(null!==(i=null==A?void 0:A.decimals)&&void 0!==i?i:10)}),onUserInput:e=>{b.ZP.setState({isInput:!0}),"coin1"===E?b.ZP.setState({coin2Amount:e,userCursorSide:"coin2"}):b.ZP.setState({coin1Amount:e,userCursorSide:"coin1"})},onCalculateTransferFee:e=>{"coin1"===E?b.ZP.setState({coin2AmountFee:e}):b.ZP.setState({coin1AmountFee:e})},onInputAmountClampInBalanceChange:e=>{let{negative:t,outOfMax:i}=e;Y(t),V(i)},onEnter:e=>{var t,i;e&&(null===(t=Z.current)||void 0===t||null===(i=t.click)||void 0===i||i.call(t))},onCustomMax:()=>{el()}}),(0,l.jsx)(tt,{}),(0,l.jsxs)("div",{className:"py-3 px-3 ring-1 mobile:ring-1 ring-[#abc4ff40] rounded-xl mobile:rounded-xl ",children:[(0,l.jsxs)(q.Z,{children:[(0,l.jsx)(J.Z,{className:"flex justify-start items-center text-[#ABC4FF] font-medium text-sm",children:(0,l.jsx)("div",{className:"text-base mobile:text-sm",children:"Pending Yield"})}),(0,l.jsx)(J.Z,{className:"flex justify-end items-center text-[#ABC4FF] font-medium text-sm",children:(0,l.jsx)("div",{className:"text-lg text-white",children:(0,ed.Z)($)})}),(0,l.jsxs)(e0.Z,{show:(0,eu.gt)(M,0)||(0,eu.gt)(T,0),children:[(0,l.jsxs)(J.Z,{className:"flex justify-start gap-1 items-center text-[#ABC4FF] font-medium text-sm",children:["Minimum Received",(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(O.Z,{size:"xs",heroIconName:"question-mark-circle",className:"cursor-help"}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[30em]",children:"The least amount of tokens you will receive. Tokens using the Token 2022 program may have transfer fees programmed for token interactions."})})]})]}),(0,l.jsxs)(q.Z,{className:"pt-2 gap-2",children:[(0,l.jsx)(tn,{token:k,amountWithoutFee:M,className:"px-1",onFullfill:()=>es(!0)}),(0,l.jsx)(tn,{token:A,amountWithoutFee:T,className:"px-1",onFullfill:()=>ec(!0)})]})]})]}),(0,l.jsx)(J.Z,{className:"flex justify-between items-center text-[#ABC4FF] font-medium text-sm"})]})]}),(0,l.jsxs)(J.Z,{className:"flex-col gap-1",children:[(0,l.jsx)(L.Z,{size:Q?"sm":void 0,className:"frosted-glass frosted-glass-teal mobile:text-sm",isLoading:j,componentRef:Z,validators:[{should:g,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:!R,fallbackProps:{children:"".concat(null!==(o=null==k?void 0:k.symbol)&&void 0!==o?o:""," Amount Too Large")}},{should:!D,fallbackProps:{children:"Negative ".concat(null!==(r=null==k?void 0:k.symbol)&&void 0!==r?r:""," Amount")}},{should:!W,fallbackProps:{children:"".concat(null!==(d=null==A?void 0:A.symbol)&&void 0!==d?d:""," Amount Too Large")}},{should:!H,fallbackProps:{children:"Negative ".concat(null!==(u=null==A?void 0:A.symbol)&&void 0!==u?u:""," Amount")}},{should:(0,eu.gt)(K,0),fallbackProps:{children:"Enter Amount"}},{should:(!(0,eZ.W)(k)||en)&&(!(0,eZ.W)(A)||eo),fallbackProps:{children:"Loading Token 2022 Info..."}}],onClick:()=>{(0,m.Z)().then(e=>{(null==e?void 0:e.allSuccess)&&(null==f||f(),h(),b.ZP.setState({isRemoveDialogOpen:!1,isMyPositionDialogOpen:!1,coin1Amount:void 0,coin2Amount:void 0,coin1AmountFee:void 0,coin2AmountFee:void 0}))})},children:"Withdraw Liquidity"}),(0,l.jsx)(L.Z,{size:Q?"sm":void 0,type:"text",className:"text-sm mobile:text-xs text-[#ABC4FF] opacity-50 backdrop-filter-none",onClick:n,children:"Cancel"})]})]})}})}function tn(e){var t;let{token:i,amountWithoutFee:n,className:s,onFullfill:o}=e,r=(0,c.ZP)(e=>e.isMobile),d=i&&n?(0,e_.n)(i,n,{alreadyDecimaled:!0}):void 0,m=d&&(0,eZ.W)(i)&&(0,ej.w)({amount:d});return(0,l.jsxs)(J.Z,{className:(0,a.m)("w-full justify-between",s),children:[(0,l.jsxs)(J.Z,{className:"gap-2 items-center",children:[(0,l.jsx)(M.Z,{size:r?"xs":"md",token:i}),null!==(t=null==i?void 0:i.symbol)&&void 0!==t?t:"--"]}),(0,l.jsx)(J.Z,{className:"text-lg text-white items-center",children:(0,eZ.W)(i)?(0,l.jsx)(eG.j,{promise:m,fallback:"calculating",onFullfilled:o,children:e=>e?(0,ef.B)(e.pure):"--"}):(0,ef.B)(d)})]})}function ts(){let e=(0,b.ZP)(e=>e.currentTab);return(0,P.Z)(()=>{let e=function(){var e,t;let i=(0,w.mu)(),l=String(null!==(t=null!==(e=i.ammId)&&void 0!==e?e:i.ammid)&&void 0!==t?t:"")||void 0;return(0,y.gm)(l)?l:void 0}();e&&b.ZP.setState(t=>({expandedItemIds:(0,N.jX)(t.expandedItemIds,e),searchText:e}))},{effectMethod:"isoLayoutEffect"}),(0,Z.Z)(),(0,r.q)(),(0,l.jsxs)(K.Z,{contentButtonPaddingShorter:!0,mobileBarTitle:{items:[{value:b.u0.ALL,barLabel:b.u0.ALL},{value:b.u0.MY_POOLS,barLabel:b.u0.MY_POOLS}],currentValue:e,onChange:e=>b.ZP.setState({currentTab:e}),urlSearchQueryKey:"tab",drawerTitle:"CONCENTRATED POOLS"},metaTitle:"Concentrated Pools - Raydium",children:[(0,l.jsx)(to,{}),(0,l.jsx)(tb,{}),(0,l.jsx)(eV,{}),(0,l.jsx)(e2,{}),(0,l.jsx)(tl,{})]})}function to(){let e=(0,b.ZP)(e=>e.tvl),t=(0,b.ZP)(e=>e.volume24h),i=!!(null!=e&&null!=t),n=(0,c.ZP)(e=>e.isMobile);return n?i?(0,l.jsxs)(J.Z,{className:"mx-auto my-2 text-base mobile:text-xs justify-self-start self-end text-[#abc4ff80] gap-4",children:[(0,l.jsxs)("div",{className:"whitespace-nowrap",children:["TVL: ",(0,l.jsxs)("span",{className:"font-medium text-[#abc4ff]",children:["$",(0,eo.Z)(e)]})]}),(0,l.jsxs)("div",{className:"whitespace-nowrap",children:["Volume24H: ",(0,l.jsxs)("span",{className:"font-medium text-[#abc4ff]",children:["$",(0,eo.Z)(t)]})]})]}):null:(0,l.jsxs)(D.Z,{className:"grid-cols-3 justify-between items-center pb-8 pt-0",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-semibold justify-self-start text-white",children:"Concentrated Pools"}),i&&(0,l.jsxs)(J.Z,{className:"title text-base mobile:text-xs justify-self-start self-end text-[#abc4ff80] gap-4",children:[(0,l.jsxs)("div",{className:"whitespace-nowrap",children:["TVL: ",(0,l.jsxs)("span",{className:"font-medium text-[#abc4ff]",children:["$",(0,eo.Z)(e)]})]}),(0,l.jsxs)("div",{className:"whitespace-nowrap",children:["Volume24H: ",(0,l.jsxs)("span",{className:"font-medium text-[#abc4ff]",children:["$",(0,eo.Z)(t)]})]})]})]}),(0,l.jsx)(ta,{}),(0,l.jsx)(tv,{})]})}function ta(e){let{className:t}=e,i=(0,b.ZP)(e=>e.currentTab),n=(0,c.ZP)(e=>e.isMobile);return n?(0,l.jsx)(X.Z,{currentValue:i,urlSearchQueryKey:"tab",values:(0,N.DB)([b.u0.ALL,b.u0.MY_POOLS]),onChange:e=>b.ZP.setState({currentTab:e}),className:t}):(0,l.jsx)(X.Z,{currentValue:i,urlSearchQueryKey:"tab",values:(0,N.DB)([b.u0.ALL,b.u0.MY_POOLS]),onChange:e=>b.ZP.setState({currentTab:e}),className:(0,a.m)("justify-self-center mobile:col-span-full",t)})}function tc(e){let{className:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(_.Z,{placement:"bottom-right",children:[(0,l.jsx)(_.Z.Button,{children:(0,l.jsx)("div",{className:(0,a.m)("mx-1 rounded-full p-2 text-[#abc4ff] clickable justify-self-start",t),children:(0,l.jsx)(O.Z,{className:"w-4 h-4",iconClassName:"w-4 h-4",heroIconName:"dots-vertical"})})}),(0,l.jsx)(_.Z.Panel,{children:(0,l.jsx)("div",{children:(0,l.jsx)(I.Z,{className:"flex flex-col py-3 px-4  max-h-[80vh] border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:(0,l.jsxs)(D.Z,{className:"grid-cols-1 items-center gap-2",children:[(0,l.jsx)(th,{}),(0,l.jsx)(tm,{}),(0,l.jsx)(tf,{}),(0,l.jsx)(td,{}),(0,l.jsx)(tv,{})]})})})})]})})}function tr(e){let{className:t}=e,i=(0,c.ZP)(e=>e.isMobile),n=(0,b.ZP)(e=>e.searchText);return(0,l.jsx)(U.Z,{value:n,className:(0,a.m)("px-2 py-2 mobile:py-1 gap-2 ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-xl mobile:rounded-lg pc:w-[12vw] mobile:w-auto",t),inputClassName:"font-medium text-sm mobile:text-xs text-[rgba(196,214,255,0.5)] placeholder-[rgba(196,214,255,0.5)]",prefix:(0,l.jsx)(O.Z,{heroIconName:"search",size:i?"sm":"smi",className:"text-[rgba(196,214,255,0.5)]"}),suffix:(0,l.jsx)(O.Z,{heroIconName:"x",size:i?"xs":"sm",className:"text-[rgba(196,214,255,0.5)] transition clickable ".concat(n?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>{b.ZP.setState({searchText:""})}}),placeholder:"Search All",onUserInput:e=>{b.ZP.setState({searchText:e})}})}function td(){let e=(0,c.ZP)(e=>e.isApprovePanelShown),t=(0,v.Z)(e=>e.connected),i=(0,b.ZP)(e=>e.refreshConcentrated),o=(0,c.ZP)(e=>e.isMobile),a=(0,b.ZP)(e=>e.hydratedAmmPools),r=(0,n.useMemo)(()=>a.some(e=>{var t;return null===(t=e.userPositionAccount)||void 0===t?void 0:t.find(e=>(0,eu.gt)(e.tokenFeeAmountB,s.xEJ)||(0,eu.gt)(e.tokenFeeAmountA,s.xEJ)||e.rewardInfos.find(e=>(0,eu.gt)(e.penddingReward,s.xEJ)))}),[a]);return(0,l.jsx)(L.Z,{className:"frosted-glass-teal",isLoading:e,validators:[{should:t},{should:r}],onClick:()=>j().then(e=>{(null==e?void 0:e.allSuccess)&&i()}),size:o?"xs":"sm",children:"Harvest All"})}function tm(){let e=(0,b.ZP)(e=>e.ownedPoolOnly),t=(0,v.Z)(e=>e.owner),i=(0,b.ZP)(e=>e.hydratedAmmPools),s=(0,v.Z)(e=>e.connected),o=(0,n.useMemo)(()=>{let e=!1;if(t){for(let l of i)if((0,em.aT)(l.creator,t)){e=!0;break}}return e},[t,i]);return s&&o?(0,l.jsxs)(J.Z,{className:"justify-self-end  mobile:justify-self-auto items-center",children:[(0,l.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] whitespace-nowrap font-medium text-sm mobile:text-xs",children:"Show Created"}),(0,l.jsx)(G.Z,{className:"ml-2 ",defaultChecked:e,onToggle:e=>b.ZP.setState({ownedPoolOnly:e})})]}):null}function tu(e){let{className:t,filterPoolCount:i,showCount:n=!1}=e;return(0,l.jsxs)(J.Z,{className:(0,a.m)(t,"flex justify-between items-center flex-wrap mr-4 gap-y-4"),children:[(0,l.jsxs)(q.Z,{children:[(0,l.jsxs)("div",{className:"flex items-end",children:[(0,l.jsx)("div",{className:"font-medium text-xl mobile:text-base text-white",children:"Concentrated Pools"}),n&&(0,l.jsxs)("div",{className:"font-normal text-sm mobile:text-base text-[rgba(196,214,255,.5)] ml-2 mb-1",children:["(Filtered Pools: ",i,")"]})]}),(0,l.jsxs)("div",{className:"font-medium text-[rgba(196,214,255,.5)] text-base mobile:text-sm",children:["Concentrate liquidity for increased capital efficiency."," ",(0,l.jsx)(W.Z,{className:"inline-block",href:"https://docs.raydium.io/raydium/concentrated-liquidity/what-is-concentrated-liquidity",children:"Learn more"})]})]}),(0,l.jsxs)(J.Z,{className:"gap-4 items-center",children:[(0,l.jsx)(tm,{}),(0,l.jsx)(td,{}),(0,l.jsx)(tf,{}),(0,l.jsx)(tr,{className:"h-[36px]"})]})]})}function tx(e){let{target:t}=e,i=(0,c.ZP)(e=>e.isMobile),s=(0,b.ZP)(e=>e.filter[t]),o=(0,b.ZP)(e=>e.setFilter),r=(0,b.ZP)(e=>e.resetFilter),d=(0,n.useCallback)(e=>{o(t,"min",String(e||""))},[t]),m=(0,ew.N)(d,{debouncedOptions:{delay:300}}),u=(0,n.useCallback)(e=>{o(t,"max",String(e||""))},[t]),x=(0,ew.N)(u,{debouncedOptions:{delay:300}}),f=(0,n.useMemo)(()=>s.min&&s.max&&(0,eu.gt)(s.min,s.max),[s]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(_.Z,{placement:"bottom",triggerBy:i?"press":"hover",children:[(0,l.jsx)(_.Z.Button,{children:(0,l.jsx)("div",{className:(0,a.m)("rounded-full px-1 clickable justify-self-start"),children:(0,l.jsx)(O.Z,{size:"sm",heroIconName:"funnel-solid",className:s.max||s.min?"text-[#abc4ff]":"text-[#abc4ff33]"})})}),(0,l.jsx)(_.Z.Panel,{children:(0,l.jsx)("div",{children:(0,l.jsxs)(I.Z,{className:"flex flex-col py-3 px-4  max-h-[80vh] border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card  items-center",size:"lg",children:[(0,l.jsxs)(D.Z,{className:"grid-cols-1 items-center gap-2",children:[(0,l.jsx)(z.Z,{className:"px-3 py-2 mobile:py-1 ring-inset ring-1 ".concat(f?"ring-[rgba(255,86,86,0.94)]":"ring-[rgba(196,214,255,0.5)]"," rounded-xl mobile:rounded-lg pc:w-[140px] mobile:w-auto"),placeholder:"0",decimalCount:2,onUserInput:m,value:s.min,prefix:"From:",prefixClassName:"mobile:text-xs text-sm font-medium text-[rgba(196,214,255,.5)] mr-1",inputClassName:"font-medium text-sm mobile:text-xs text-[rgba(196,214,255)] placeholder-[rgba(196,214,255,0.5)]"}),(0,l.jsx)(z.Z,{className:"px-3 py-2 mobile:py-1 ring-inset ring-1 ".concat(f?"ring-[rgba(255,86,86,0.94)]":"ring-[rgba(196,214,255,0.5)]"," rounded-xl mobile:rounded-lg pc:w-[140px] mobile:w-auto"),value:s.max,placeholder:"∞",decimalCount:2,onUserInput:x,prefix:"To:",prefixClassName:"mobile:text-xs text-sm font-medium text-[rgba(196,214,255,.5)] mr-1",inputClassName:"font-medium text-sm mobile:text-xs text-[rgba(196,214,255)] placeholder-[rgba(196,214,255,0.5)]"})]}),f&&(0,l.jsx)("div",{className:"text-[rgba(255,86,86,0.94)] mt-2",children:"filter value unavailable"}),(0,l.jsx)(L.Z,{size:"sm",className:"frosted-glass-teal mt-2 py-1 rounded-xl w-[140px]",onClick:()=>{r(t)},children:"Reset"})]})})})]})})}function tf(e){let{className:t}=e,i=(0,b.ZP)(e=>e.timeBasis);return(0,l.jsx)(Q.Z,{className:(0,a.m)("z-20",t),candidateValues:Object.values(b.fi),localStorageKey:"ui-time-basis",defaultValue:i,prefix:"Time Basis:",onChange:e=>{b.ZP.setState({timeBasis:null!=e?e:b.fi.DAY})}})}function tp(e){let{className:t,onChange:i}=e,n=(0,b.ZP)(e=>e.timeBasis);return(0,l.jsx)(Q.Z,{className:t,candidateValues:[{label:"Pool",value:"name"},{label:"Liquidity",value:"liquidity"},{label:"Volume ".concat(n),value:n===b.fi.DAY?"volume24h":n===b.fi.WEEK?"volume7d":"volume30d"},{label:"Fees ".concat(n),value:n===b.fi.DAY?"fee24h":n===b.fi.WEEK?"fee7d":"fee30d"},{label:"APR ".concat(n),value:n===b.fi.DAY?"apr24h":n===b.fi.WEEK?"apr7d":"apr30d"},{label:"Favorite",value:"favorite"}],prefix:"Sort by:",onChange:i})}function th(e){let{className:t}=e,i=(0,c.ZP)(e=>e.isMobile),s=(0,b.ZP)(e=>e.refreshConcentrated);return(0,n.useMemo)(()=>i?(0,l.jsxs)(J.Z,{className:(0,a.m)("items-center",t),children:[(0,l.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] font-medium text-sm mobile:text-xs",children:"Refresh Pools"}),(0,l.jsx)($.Z,{refreshKey:"clmm-pools",freshFunction:()=>{s()}})]}):(0,l.jsx)("div",{className:(0,a.m)("justify-self-end",t),children:(0,l.jsx)($.Z,{refreshKey:"clmm-pools",freshFunction:()=>{s()}})}),[i,s])}function tv(e){let{className:t}=e;return(0,l.jsxs)(J.Z,{className:(0,a.m)("justify-self-end mobile:justify-self-auto gap-1 py-1 flex-wrap items-center opacity-100 pointer-events-auto clickable transition",t),onClick:()=>{(0,A.Eh)("/clmm/create-pool")},children:[(0,l.jsx)(O.Z,{heroIconName:"plus-circle",className:"text-[#abc4ff] mobile:text-[#abc4ff80]",size:"sm"}),(0,l.jsx)("span",{className:"text-[#abc4ff] mobile:text-[#abc4ff80] font-medium text-sm mobile:text-xs",children:"Create Concentrated Pool"})]})}function tb(){let e=(0,b.ZP)(e=>e.hydratedAmmPools),t=(0,b.ZP)(e=>e.searchText),i=(0,b.ZP)(e=>e.timeBasis),s=(0,b.ZP)(e=>e.aprCalcMode),o=(0,b.ZP)(e=>e.currentTab),a=(0,b.ZP)(e=>e.ownedPoolOnly),r=(0,b.ZP)(e=>e.poolSortConfig),d=(0,b.ZP)(e=>e.filter),m=(0,v.Z)(e=>e.owner),u=(0,c.ZP)(e=>e.isMobile),[x]=(0,b.N3)(),[f,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)(void 0),[j,Z]=(0,n.useState)(!1),N=(0,n.useMemo)(()=>e.filter(e=>o!==b.u0.MY_POOLS||void 0!==e.userPositionAccount),[t,e,o]),P=(0,n.useMemo)(()=>N.filter(e=>!a||!m||(0,em.aT)(e.creator,m)),[N,a,m]),y=(0,n.useDeferredValue)((0,n.useMemo)(()=>(0,eh.K)(P,{text:t,matchConfigs:e=>{var t,i;return[e.name,{text:e.idString,entirely:!0},{text:(0,ea.ZP)(null===(t=e.base)||void 0===t?void 0:t.mint),entirely:!0},{text:(0,ea.ZP)(null===(i=e.quote)||void 0===i?void 0:i.mint),entirely:!0}]}}).sort((e,l)=>{if(!t)return 0;let n=i===b.fi.DAY?"volume24h":i===b.fi.WEEK?"volume7d":"volume30d";return e[n].gt(l[n])?-1:e[n].lt(l[n])?1:0}),[P,t,i])),{sortedData:w,setConfig:k,sortConfig:A,clearSortConfig:C}=(0,eA.Z)(y,{defaultSort:{key:"defaultKey",sortCompare:[e=>null==x?void 0:x.includes(e.idString)]}});(0,ek.Z)(e=>{let{runed:t}=e;void 0!==x&&t(),null!=x&&(k({key:"init",sortCompare:[e=>null==x?void 0:x.includes(e.idString)],mode:"decrease"}),t())},[x]),(0,n.useEffect)(()=>{A&&b.ZP.setState({poolSortConfig:{...A}})},[A]),(0,ek.Z)(e=>{let{runed:t}=e;r&&(k({...r}),t())},[r]),(0,n.useEffect)(()=>{A&&"name"!==A.key&&"liquidity"!==A.key?p(A.key.includes(i.toLowerCase())):p(!0)},[A,i]);let S=(0,ew.N)(()=>{w&&g(w)},{debouncedOptions:{delay:300}});(0,n.useEffect)(S,[w]);let F=(0,n.useMemo)(()=>{let e="24H"===i?"24h":"7D"===i?"7d":"30d";return{liquidity:"tvl",volume:"volume"+e,fees:"volumeFee"+e,apr:"totalApr"+e}},[i]),B=(0,n.useMemo)(()=>{let e=(0,ep.lw)(d,(e,t)=>!!e.max||!!e.min),t=Object.keys(e);return 0===t.length?(Z(!1),h):(Z(!0),null==h?void 0:h.filter(e=>{let i=!0;for(let l of t){let t="apr"===l,n=t?(0,ex.hi)(d[l].max,100):d[l].max,s=t?(0,ex.hi)(d[l].min,100):d[l].min;if(!s&&!n)continue;let o=e=>(0,ef.B)(e[F[l]]),a=(0,eu.G)(o(e),n),c=(0,eu.eg)(o(e),s);if(!(!s&&a||!n&&c||s&&n&&((0,eu.gt)(s,n)||(0,eu.lt)(n,s)))&&(!a||!c)){i=!1;break}}return i}))},[h,d,F]),L=(0,n.useMemo)(()=>(0,l.jsxs)(J.Z,{type:"grid-x",className:"mb-3 h-12 justify-between sticky -top-6 backdrop-filter z-10 backdrop-blur-md bg-[rgba(20,16,65,0.2)] mr-scrollbar rounded-xl mobile:rounded-lg gap-2 grid-cols-[auto,1.6fr,1fr,1fr,1fr,1fr,1fr,auto]",children:[(0,l.jsx)(J.Z,{className:"group w-20 pl-10 font-medium text-[#ABC4FF] text-sm items-center cursor-pointer  clickable clickable-filter-effect no-clicable-transform-effect overflow-hidden",onClick:()=>{k({key:"favorite",sortModeQueue:["decrease","none"],sortCompare:[e=>null==x?void 0:x.includes(e.idString),e=>e.tvl]})},children:(0,l.jsx)(O.Z,{className:"ml-1 ".concat((null==A?void 0:A.key)==="favorite"&&"none"!==A.mode?"opacity-100":"opacity-0 group-hover:opacity-30"," transition"),size:"sm",iconSrc:"/icons/msic-sort-only-down.svg"})}),(0,l.jsxs)(D.Z,{className:"grid-cols-[.4fr,1.2fr] clickable clickable-filter-effect no-clicable-transform-effect",children:[(0,l.jsx)("div",{}),(0,l.jsxs)(J.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer",onClick:()=>{k({key:"name",sortModeQueue:["increase","decrease","none"],sortCompare:e=>e.name})},children:["Pool",(0,l.jsx)(O.Z,{className:"ml-1",size:"sm",iconSrc:(null==A?void 0:A.key)==="name"&&"none"!==A.mode&&f?(null==A?void 0:A.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"})]})]}),(0,l.jsxs)(J.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect overflow-hidden",onClick:()=>{k({key:"liquidity",sortCompare:e=>e.tvl})},children:["Liquidity",(0,l.jsx)(O.Z,{className:"ml-1",size:"sm",iconSrc:(null==A?void 0:A.key)==="liquidity"&&"none"!==A.mode&&f?(null==A?void 0:A.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"}),(0,l.jsx)(tx,{target:"liquidity"})]}),(0,l.jsxs)(J.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect overflow-hidden",onClick:()=>{let e=i===b.fi.DAY?"volume24h":i===b.fi.WEEK?"volume7d":"volume30d";k({key:e,sortCompare:t=>t[e]})},children:["Volume ",i,(0,l.jsx)(O.Z,{className:"ml-1",size:"sm",iconSrc:((null==A?void 0:A.key)==="volume24h"||(null==A?void 0:A.key)==="volume7d"||(null==A?void 0:A.key)==="volume30d")&&"none"!==A.mode&&f?(null==A?void 0:A.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"}),(0,l.jsx)(tx,{target:"volume"})]}),(0,l.jsxs)(J.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>{let e=i===b.fi.DAY?"volumeFee24h":i===b.fi.WEEK?"volumeFee7d":"volumeFee30d";k({key:e,sortCompare:t=>t[e]})},children:["Fees ",i,(0,l.jsx)(O.Z,{className:"ml-1",size:"sm",iconSrc:((null==A?void 0:A.key)==="volumeFee24h"||(null==A?void 0:A.key)==="volumeFee7d"||(null==A?void 0:A.key)==="volumeFee30d")&&"none"!==A.mode&&f?(null==A?void 0:A.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"}),(0,l.jsx)(tx,{target:"fees"})]}),(0,l.jsx)(J.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect overflow-hidden",children:"Rewards"}),(0,l.jsxs)(J.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect  overflow-hidden",onClick:()=>{k({key:"24H"===i?"apr24h":"7D"===i?"apr7d":"apr30d",sortCompare:e=>e.state[i===b.fi.DAY?"day":i===b.fi.WEEK?"week":"month"].apr})},children:["APR ",i,(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(O.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,l.jsx)(ee.Z.Panel,{className:"max-w-[250px]",children:"This is the estimated APR for the whole pool. Your actual APR will vary according to the price range you select."})]}),(0,l.jsx)(O.Z,{className:"ml-1",size:"sm",iconSrc:(null==A?void 0:A.key.startsWith("apr"))&&"none"!==A.mode&&f?(null==A?void 0:A.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"}),(0,l.jsx)(tx,{target:"apr"})]}),(0,l.jsx)(th,{className:"pr-8 self-center"})]}),[A,i,s,f]),I=u?(0,l.jsx)("div",{children:(0,l.jsxs)(J.Z,{className:"mb-4",children:[(0,l.jsxs)(D.Z,{className:"grow gap-2 grid-cols-auto-fit",children:[(0,l.jsx)(tr,{}),(0,l.jsx)(tp,{onChange:e=>{e?k({key:e,sortCompare:"favorite"===e?e=>null==x?void 0:x.includes(e.idString):t=>t[e]}):C()}})]}),(0,l.jsx)(tc,{className:"self-center"})]})}):(0,l.jsx)("div",{children:(0,l.jsx)(J.Z,{className:"w-full justify-between pb-5 items-center",children:(0,l.jsx)(tu,{className:"flex-grow",filterPoolCount:null==B?void 0:B.length,showCount:j})})});return(0,l.jsxs)(R.Z,{haveMinHeight:!0,wrapperClassName:"flex-1 overflow-hidden flex flex-col",className:"p-10 pb-4 mobile:px-3 mobile:py-3 w-full flex flex-col flex-grow h-full",children:[I,!u&&L,(0,l.jsx)(tg,{sortedItems:B,searchedItemsLength:y.length})]})}function tg(e){let{sortedItems:t,searchedItemsLength:i}=e,n=(0,b.ZP)(e=>e.loading),s=(0,b.ZP)(e=>e.expandedItemIds),[o,a]=(0,b.N3)();return n||0!==i&&(0===i||(null==t?void 0:t.length)!==0)?t&&t.length?(0,l.jsx)(H.Z,{className:"gap-3 mobile:gap-2 text-[#ABC4FF] flex-1 -mx-2 px-2",children:t.map(e=>(0,l.jsx)(H.Z.Item,{children:(0,l.jsxs)(E.Z,{open:s.has(e.idString),onToggle:()=>b.ZP.setState(t=>({expandedItemIds:(0,ev.hU)(t.expandedItemIds,e.idString)})),children:[(0,l.jsx)(E.Z.Face,{children:t=>{let{isOpen:i}=t;return(0,l.jsx)(tj,{open:i,info:e,isFavourite:null==o?void 0:o.includes(e.idString),onUnFavorite:e=>{a(t=>(0,N.cl)(null!=t?t:[],e))},onStartFavorite:e=>{a(t=>(0,N.jX)(null!=t?t:[],e))}})}}),(0,l.jsx)(E.Z.Body,{children:t=>{let{isOpen:i}=t;return(0,l.jsx)(tP,{poolInfo:e,open:i})}})]})},e.idString))}):(0,l.jsx)("div",{className:"text-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:(0,l.jsx)(Y.Z,{})}):(0,l.jsx)("div",{className:"text-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:"(No results found)"})}function tj(e){let{open:t,info:i,isFavourite:s,onUnFavorite:o,onStartFavorite:r}=e,m=(0,c.ZP)(e=>e.isMobile),u=(0,c.ZP)(e=>e.isTablet),x=(0,b.ZP)(e=>e.timeBasis),f=(0,C.ZP)(e=>e.tokenListSettings),p=f["UnNamed Token List"].mints,{lpPrices:h}=(0,k.O)(),v=(0,C.ZP)(e=>e.tokenPrices),g=(0,n.useMemo)(()=>({...h,...v}),[h,v]),j=(0,n.useMemo)(()=>{let e=i.rewardInfos.filter(e=>e.endTime>new Date().getTime()-864e6).map((e,t)=>{var n,s,o,a;let c=(0,ei.tD)(e.endTime),r=(0,ei.ZM)(e.openTime),d=(0,ei.tD)(e.openTime-864e5);return(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(tZ,{rewardInfo:e}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsxs)("div",{children:[(0,l.jsxs)(J.Z,{className:"text-sm justify-between items-center min-w-[260px] gap-4",children:[(0,l.jsxs)(J.Z,{className:"gap-1.5 items-center",children:[(0,l.jsx)(M.Z,{size:m?"xs":"smi",token:e.rewardToken}),c?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-white",children:(0,eo.Z)((0,ef.B)(e.rewardPerWeek))}),(0,l.jsxs)("span",{className:"text-[#ABC4FF]",children:[null!==(o=null===(n=e.rewardToken)||void 0===n?void 0:n.symbol)&&void 0!==o?o:"--"," per week"]})]})]}),c?null:(0,l.jsx)("span",{className:"text-white/50",children:(0,ed.Z)((0,er.Z)(e.rewardPerWeek,null!==(a=g[(0,ea.ZP)(null===(s=e.rewardToken)||void 0===s?void 0:s.mint)])&&void 0!==a?a:null),{decimalPlace:0})})]}),(0,l.jsx)("div",{className:"mb-1 mt-1",children:e.openTime&&e.endTime&&(c?"Reward Ended":r?"Reward Not Started":"Reward Period")}),e.openTime&&r&&d&&(0,l.jsxs)("div",{className:"opacity-50",children:["Start in ",(0,el.dS)((0,et._3)(e.openTime))]}),e.openTime&&e.endTime&&(0,l.jsxs)("div",{className:"opacity-50",children:[(0,et.xn)(e.openTime,{hideHourMinuteSecond:!0})," ~"," ",(0,et.xn)(e.endTime,{hideHourMinuteSecond:!0})]}),e.tokenMint&&(0,l.jsx)(S.U,{showDigitCount:6,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"text-xs",className:"w-full opacity-50 mt-2 contrast-75",children:(0,ea.ZP)(e.tokenMint)}),(null==p?void 0:p.has((0,ea.ZP)(e.tokenMint)))&&(0,l.jsx)("div",{className:"max-w-[300px] mt-2",children:"This token does not currently have a ticker symbol. Check to ensure it is the token you want to interact with."})]},"".concat(i.idString,"-reward-detail-content-id-").concat(t))})]},"".concat(i.idString,"-reward-badge-id-").concat(t))});return(0,l.jsx)("div",{className:(0,a.m)("flex flex-wrap justify-start items-center gap-2",0===e.length?"h-4":""),children:e})},[i.idString,i.rewardInfos,m,g]),Z=(0,d.w)(i)?x===b.fi.DAY?{total:i.totalApr24h,itemList:[i.feeApr24h,...i.rewardApr24h]}:x===b.fi.WEEK?{total:i.totalApr7d,itemList:[i.feeApr7d,...i.rewardApr7d]}:{total:i.totalApr30d,itemList:[i.feeApr30d,...i.rewardApr30d]}:void 0,N=(0,l.jsxs)(J.Z,{type:"grid-x",className:"py-5 mobile:py-4 mobile:px-5 bg-[#141041] items-center gap-2 grid-cols-[auto,1.6fr,1fr,1fr,1fr,1fr,1fr,auto] mobile:grid-cols-[1fr,1fr,1fr,auto] rounded-t-3xl mobile:rounded-t-lg ".concat(t?"":"rounded-b-3xl mobile:rounded-b-lg"," transition-all"),children:[(0,l.jsx)("div",{className:"w-12 self-center ml-6 mr-2",children:s?(0,l.jsx)(O.Z,{iconSrc:"/icons/misc-star-filled.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==o||o(i.idString)},className:"clickable clickable-mask-offset-2 m-auto self-center"}):(0,l.jsx)(O.Z,{iconSrc:"/icons/misc-star-empty.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==r||r(i.idString)},className:"clickable clickable-mask-offset-2 opacity-30 hover:opacity-80 transition m-auto self-center"})}),(0,l.jsx)(tA,{info:i,className:"pl-0 overflow-hidden"}),(0,l.jsx)(tC,{name:"Liquidity",value:(0,d.w)(i)?(0,ed.Z)(i.tvl,{autoSuffix:u,decimalPlace:0}):void 0}),(0,l.jsx)(tC,{name:"Volume(".concat(x,")"),value:(0,d.w)(i)?x===b.fi.DAY?(0,ed.Z)(i.volume24h,{autoSuffix:u,decimalPlace:0}):x===b.fi.WEEK?(0,ed.Z)(i.volume7d,{autoSuffix:u,decimalPlace:0}):(0,ed.Z)(i.volume30d,{autoSuffix:u,decimalPlace:0}):void 0}),(0,l.jsx)(tC,{name:"Fees(".concat(x,")"),value:(0,d.w)(i)?x===b.fi.DAY?(0,ed.Z)(i.volumeFee24h,{autoSuffix:u,decimalPlace:0}):x===b.fi.WEEK?(0,ed.Z)(i.volumeFee7d,{autoSuffix:u,decimalPlace:0}):(0,ed.Z)(i.volumeFee30d,{autoSuffix:u,decimalPlace:0}):void 0}),(0,l.jsx)(tC,{name:"Rewards",value:j}),(0,l.jsx)(tC,{className:"overflow-hidden",name:"APR(".concat(x,")"),value:(0,l.jsx)("div",{style:{display:"inline-block",width:"100%"},children:(0,l.jsxs)(ee.Z,{panelClassName:"p-0 rounded-xl",children:[(0,l.jsxs)("div",{children:[(0,es.Q)(null==Z?void 0:Z.total),(0,l.jsx)(J.Z,{className:"items-center gap-2 mobile:gap-1 mt-1",children:(0,l.jsx)(tN,{className:"w-[80%]",aprValues:null==Z?void 0:Z.itemList,forceShow:!0})})]}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsx)("div",{className:"p-5",children:(0,l.jsx)(eC.E,{type:"poolInfo",poolInfo:i})})})]})})}),(0,l.jsx)(D.Z,{className:"w-9 h-9 mr-8 place-items-center",children:(0,l.jsx)(O.Z,{size:"sm",heroIconName:"".concat(t?"chevron-up":"chevron-down")})})]}),P=(0,l.jsxs)(E.Z,{open:t,children:[(0,l.jsx)(E.Z.Face,{children:(0,l.jsxs)(J.Z,{type:"grid-x",className:"py-3 px-3 items-center gap-2 grid-cols-[auto,1.5fr,1fr,1fr,auto] bg-[#141041] mobile:rounded-t-lg ".concat(t?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,l.jsx)("div",{className:"w-8 self-center ",children:s?(0,l.jsx)(O.Z,{className:"clickable m-auto self-center",iconSrc:"/icons/misc-star-filled.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==o||o(i.idString)},size:"sm"}):(0,l.jsx)(O.Z,{className:"clickable opacity-30 hover:opacity-80 transition clickable-mask-offset-2 m-auto self-center",iconSrc:"/icons/misc-star-empty.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==r||r(i.idString)},size:"sm"})}),(0,l.jsx)(tA,{info:i}),(0,l.jsx)(tC,{name:"Liquidity",value:(0,d.w)(i)?(0,ed.Z)(i.tvl,{autoSuffix:!0,decimalPlace:1}):void 0}),(0,l.jsx)(tC,{name:"Rewards",value:j}),(0,l.jsx)(tC,{name:"APR(".concat(x,")"),value:(0,ec.Z)(null==Z?void 0:Z.total)}),(0,l.jsx)(D.Z,{className:"w-6 h-6 place-items-center",children:(0,l.jsx)(O.Z,{size:"sm",heroIconName:"".concat(t?"chevron-up":"chevron-down")})})]})}),(0,l.jsx)(E.Z.Body,{children:(0,l.jsxs)(J.Z,{type:"grid-x",className:"py-4 px-5 pl-12 relative items-center gap-2 grid-cols-[1.5fr,1fr,1fr,auto]  bg-[#141041]",children:[(0,l.jsx)("div",{className:"absolute top-0 left-5 right-5 border-[rgba(171,196,255,.2)] border-t-1.5"}),(0,l.jsx)(tC,{name:"Volume(7d)",value:(0,d.w)(i)?(0,ed.Z)(i.volume7d,{autoSuffix:!0,decimalPlace:0}):void 0}),(0,l.jsx)(tC,{name:"Volume(24h)",value:(0,d.w)(i)?(0,ed.Z)(i.volume24h,{autoSuffix:!0,decimalPlace:0}):void 0}),(0,l.jsx)(tC,{name:"Fees(7d)",value:(0,d.w)(i)?(0,ed.Z)(i.volumeFee7d,{autoSuffix:!0,decimalPlace:0}):void 0}),(0,l.jsx)(D.Z,{className:"w-6 h-6 place-items-center"})]})})]});return m?P:N}function tZ(e){let{rewardInfo:t,size:i}=e,n=(0,c.ZP)(e=>e.isMobile),s=(0,ei.tD)(t.endTime),o=(0,ei.ZM)(t.openTime);return(0,l.jsx)(J.Z,{className:"ring-1 ring-inset ring-[#abc4ff80] p-1 mobile:p-[1px] rounded-full items-center gap-2 overflow-hidden ".concat(s?"opacity-30 contrast-40":o?"opacity-50":""," "),children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(M.Z,{size:null!=i?i:n?"xs":"smi",token:t.rewardToken,className:o?"blur-sm":""}),s&&(0,l.jsx)("div",{className:"absolute h-[1.5px] w-full top-1/2 -translate-y-1/2 rotate-45 bg-[#abc4ff80] scale-x-125"}),o&&(0,l.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 opacity-70",children:(0,l.jsx)(O.Z,{heroIconName:"dots-horizontal",size:n?"sm":"md"})})]})})}function tN(e){let{className:t,aprValues:i,forceShow:s=!1}=e,o=["#abc4ff","#39d0d8","#2b6aff"];if(!i&&!s)return null;let c=i?i.reduce((e,t)=>(0,ex.IH)(e,t),0):1,r=(0,n.useMemo)(()=>{if(!i)return!1;for(let e of i)if(!(0,eu.eq)(e,0))return!1;return!0},[i]);return(0,l.jsx)(J.Z,{className:(0,a.m)("w-full gap-1",t),children:i?r?(0,l.jsx)("div",{className:"h-2 rounded-full",style:{width:"100%",backgroundColor:"#abc4ff33"}}):i.map((e,t)=>(0,eu.$u)(e)?(0,l.jsx)("div",{className:"h-2 rounded-full",style:{width:(0,ec.Z)((0,ex.hi)(e,c)),backgroundColor:o[t]}},t):null):null})}function tP(e){let{poolInfo:t,open:i}=e,s=(0,v.Z)(e=>e.owner),{lpPrices:a}=(0,k.O)(),r=(0,C.ZP)(e=>e.tokenPrices),d=(0,n.useMemo)(()=>({...a,...r}),[a,r]),m=(0,c.ZP)(e=>e.isMobile),u=(0,n.useMemo)(()=>{let e=t.rewardInfos.length>0;return(0,l.jsxs)(q.Z,{className:"py-5 px-8 mobile:py-2 justify-center rounded-b-3xl mobile:rounded-b-lg items-center",children:[(0,l.jsx)("div",{className:"mb-3 text-xs",children:t.creator.equals(null!=s?s:o.nh.default)?"You created this pool. You can create a farm, or create a new position":"Want to open a new position?"}),(0,l.jsxs)(J.Z,{className:"justify-center items-center gap-2",children:[!e&&t.creator.equals(null!=s?s:o.nh.default)&&(0,l.jsx)(L.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",onClick:()=>{b.ZP.setState({coin1:t.base,coin2:t.quote,chartPoints:[],lazyLoadChart:!0,currentAmmPool:t}),(0,A.Eh)("/clmm/edit-farm",{queryProps:{farmId:t.idString}})},children:"Create Farm"}),(0,l.jsx)(L.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",onClick:()=>{b.ZP.setState({coin1:t.base,coin2:t.quote,chartPoints:[],lazyLoadChart:!0,currentAmmPool:t}),(0,A.Eh)("/clmm/create-position")},children:"Create Position"}),(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(O.Z,{size:"sm",iconSrc:"/icons/msic-swap-h.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,A.Eh)("/swap",{queryProps:{coin1:t.base,coin2:t.quote}})}}),(0,l.jsx)(ee.Z.Panel,{children:"Swap"})]})]})]})},[t,m]),x=(0,n.useMemo)(()=>(0,l.jsxs)(q.Z,{className:"w-full pl-8 pt-5 pb-5 mobile:py-2 mobile:px-2",children:[(0,l.jsxs)(J.Z,{className:"items-center gap-2 mb-5 mobile:mb-2",children:[(0,l.jsx)(O.Z,{size:m?"xs":"sm",iconSrc:"/icons/entry-icon-farms.svg",className:"opacity-75"}),(0,l.jsx)("div",{className:"font-medium text-sm mobile:text-xs text-[#abc4ff80]",children:"Linked Farm"})]}),(0,l.jsxs)(F.Z,{is:m?"Col":"Row",className:"w-full justify-between items-center",children:[(0,l.jsxs)(F.Z,{is:m?"Col":"Row",className:"".concat(m?"":"flex justify-between","  mobile:w-full ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-3xl mobile:rounded-lg p-6 mobile:p-3 items-center"),style:1===t.rewardInfos.length?{minWidth:"calc((100% - 124px - 32px - 4px) / 2)"}:{width:"100%"},children:[(0,l.jsxs)("div",{style:{width:"".concat(m?"100%":"default")},children:[(0,l.jsx)(J.Z,{className:"font-medium text-sm mobile:text-xs text-[#abc4ff80] mb-2 mobile:w-full",children:"Weekly Rate"}),(0,l.jsx)(J.Z,{className:"flex-wrap gap-8 mobile:gap-3",children:t.rewardInfos.map(e=>{var t,i;let n=(0,ei.tD)(e.endTime);return(0,l.jsxs)(q.Z,{className:"gap-1 mobile:gap-0.5 mobile:w-full mobile:items-center",children:[(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)(tZ,{rewardInfo:e,size:m?"xs":"sm"}),(0,l.jsxs)(J.Z,{className:"items-center gap-1",children:[(0,l.jsx)("div",{className:"font-medium mobile:text-sm text-white",children:n?"--":(0,eo.Z)(e.rewardPerWeek,{fractionLength:0})}),(0,l.jsx)("div",{className:"font-medium mobile:text-sm text-[#abc4ff80]",children:null!==(i=null===(t=e.rewardToken)||void 0===t?void 0:t.symbol)&&void 0!==i?i:"--"}),n&&(0,l.jsx)(B.C,{className:"ml-1",cssColor:"#DA2EEF",children:"Ended"})]})]}),(0,l.jsxs)("div",{className:"font-medium text-sm mobile:text-xs text-[#abc4ff80]",children:[(0,et.xn)(e.openTime,{hideUTCBadge:!0,hideHourMinuteSecond:!0})," -"," ",(0,et.xn)(e.endTime,{hideUTCBadge:!0,hideHourMinuteSecond:!0})]})]},(0,ea.ZP)(e.tokenMint))})})]}),(0,l.jsx)(L.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs mobile:mt-3",onClick:()=>{b.ZP.setState({coin1:t.base,coin2:t.quote,chartPoints:[],lazyLoadChart:!0,currentAmmPool:t}),(0,A.Eh)("/clmm/edit-farm",{queryProps:{farmId:t.idString}})},children:"Edit Farm"})]}),u]})]}),[u,m,t]);return(0,l.jsxs)(F.Z,{is:"Col",className:"justify-between rounded-b-3xl mobile:rounded-b-lg",style:{background:"linear-gradient(126.6deg, rgba(171, 196, 255, 0.12), rgb(171 196 255 / 4%) 100%)"},children:[t.userPositionAccount&&(0,l.jsx)(l.Fragment,{children:t.userPositionAccount.sort((e,t)=>{var i,l;return Number((0,ef.B)((0,ex.lu)(null===(i=e.getLiquidityVolume)||void 0===i?void 0:i.call(e,r).wholeLiquidity,null===(l=t.getLiquidityVolume)||void 0===l?void 0:l.call(t,r).wholeLiquidity)))}).map(e=>{var n,s,o,a,c,m,u,x,f,p,h,v,b,g;let j="--",Z=(0,ef.B)(e.amountA,{decimalLength:"auto 5"}),N=(0,ef.B)(e.amountB,{decimalLength:"auto 5"}),P=(0,ef.B)(e.priceLower,{decimalLength:"auto ".concat(null!==(x=null===(n=e.tokenB)||void 0===n?void 0:n.decimals)&&void 0!==x?x:5)}),y=(0,ef.B)(e.priceUpper,{decimalLength:"auto ".concat(null!==(f=null===(s=e.tokenB)||void 0===s?void 0:s.decimals)&&void 0!==f?f:5)});P&&y&&(j=P+" - "+y);let w=(0,er.Z)(e.amountA,null!==(p=d[(0,ea.ZP)(null===(o=e.tokenA)||void 0===o?void 0:o.mint)])&&void 0!==p?p:null),k=(0,er.Z)(e.amountB,null!==(h=d[(0,ea.ZP)(null===(a=e.tokenB)||void 0===a?void 0:a.mint)])&&void 0!==h?h:null),{wholeLiquidity:A}=null!==(v=null===(c=e.getLiquidityVolume)||void 0===c?void 0:c.call(e,r))&&void 0!==v?v:{},C=(0,er.Z)(e.tokenFeeAmountA,null!==(b=d[(0,ea.ZP)(null===(m=e.tokenA)||void 0===m?void 0:m.mint)])&&void 0!==b?b:null),S=(0,er.Z)(e.tokenFeeAmountB,null!==(g=d[(0,ea.ZP)(null===(u=e.tokenB)||void 0===u?void 0:u.mint)])&&void 0!==g?g:null),F=C.add(S);F&&(0,ed.Z)(F);let B=new Map;return e.rewardInfos.forEach(e=>{if(e.token){var t;B.set(e.token,(0,er.Z)(e.penddingReward,null!==(t=d[(0,ea.ZP)(e.token.mint)])&&void 0!==t?t:null))}}),(0,l.jsx)(ty,{open:i,poolInfo:t,userPositionAccount:e,myPosition:j,amountA:Z,amountB:N,myPositionVolume:(0,ed.Z)(A),coinAPrice:w,coinBPrice:k,inRange:e.inRange,rewardAPrice:C,rewardBPrice:S,rewardInfoPrice:B},e.nftMint.toString())})}),t.rewardInfos.length>0&&s&&t.rewardInfos.find(e=>e.creator.equals(s))?(0,l.jsx)(F.Z,{is:m?"Col":"Row",children:x}):(0,l.jsx)(F.Z,{children:u})]})}function ty(e){var t,i,s,r,d,u;let{open:x,poolInfo:p,userPositionAccount:h,myPosition:j,amountA:Z,amountB:N,myPositionVolume:P,coinAPrice:y,coinBPrice:w,inRange:k,rewardAPrice:C,rewardBPrice:S,rewardInfoPrice:B}=e,I=(0,c.ZP)(e=>e.isMobile),M=(0,c.ZP)(e=>e.isApprovePanelShown),{isHarvestable:T,getPendingTotal:E}=ey(h),R=(0,b.ZP)(e=>e.refreshConcentrated),z=(0,f.Z)(e=>e.logInfo),D=(0,v.Z)(e=>e.connected),U=(null==h?void 0:null===(t=h.amountA)||void 0===t?void 0:t.isZero())&&(null==h?void 0:null===(i=h.amountB)||void 0===i?void 0:i.isZero()),W=(0,ti.Z)(()=>x?null==E?void 0:E():void 0,[x,E]),H=(0,n.useMemo)(()=>{if(p&&h){var e;return null===(e=p.positionAccount)||void 0===e?void 0:e.find(e=>(0,ea.ZP)(e.nftMint)===(0,ea.ZP)(e.nftMint))}},[p,h]),Y=(0,n.useMemo)(()=>{var e,t;let i="bg-[#142B45]",n="text-[#39D0D8]",s="/icons/check-circle.svg",o="In Range";return k||(i="bg-[#DA2EEF]/10",n="text-[#DA2EEF]",s="/icons/warn-stick.svg",o="Out of Range"),(0,l.jsxs)(ee.Z,{darkGradient:!0,panelClassName:"p-0 rounded-xl",children:[(0,l.jsxs)(J.Z,{className:(0,a.m)("items-center rounded text-xs mobile:text-2xs py-0.5 px-1 ml-2",i,n),children:[(0,l.jsx)(O.Z,{size:"xs",iconSrc:s}),(0,l.jsx)("div",{className:"font-normal",style:{marginLeft:4},children:o})]}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsxs)("div",{className:"max-w-[300px] py-3 px-5",children:[(0,l.jsx)("div",{className:"font-medium text-[#ABC4FF] text-2xs",children:"Current Price"}),(0,l.jsxs)(J.Z,{className:"gap-5  mt-1",children:[(0,l.jsx)("div",{className:"text-xs text-white",children:(0,ef.B)(p.currentPrice,{decimalLength:"auto 5"})}),(0,l.jsxs)("div",{className:"text-[#ABC4FF] text-xs",children:[null===(e=p.quote)||void 0===e?void 0:e.symbol," per ",null===(t=p.base)||void 0===t?void 0:t.symbol]})]})]})})]})},[k,p.currentPrice,null===(s=p.base)||void 0===s?void 0:s.symbol,null===(r=p.quote)||void 0===r?void 0:r.symbol]);return(0,l.jsx)(F.Z,{is:I?"Col":"Row",children:(0,l.jsx)(J.Z,{className:"w-full pt-5 px-8 mobile:py-3 mobile:px-2 mobile:m-0",children:(0,l.jsxs)("div",{className:"flex w-full pb-5 ".concat(I?"flex-col":"flex-row"),style:{borderBottom:"1px solid rgba(171, 196, 255, .1)"},children:[(0,l.jsxs)(F.Z,{is:I?"Col":"Row",className:"gap-[8px] mobile:gap-3 mobile:grid-cols-2-auto flex-grow justify-between",children:[(0,l.jsxs)(F.Z,{is:I?"div":"Row",className:"".concat(I?"flex-auto justify-between":"grid grid-cols-5"," w-1/2 mobile:w-full ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-3xl mobile:rounded-lg p-6 mobile:p-3  items-center"),children:[(0,l.jsxs)(q.Z,{className:"".concat(I?"":"col-span-2"," mobile:mb-2 mobile:pb-2"),style:{borderBottom:I?"1px solid rgba(171, 196, 255, .1)":"none"},children:[(0,l.jsxs)("div",{className:"flex justify-start mobile:justify-between text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:["Price Range ",h?Y:null]}),(0,l.jsx)("div",{className:"text-white font-medium text-base mobile:text-sm mt-3 mobile:mt-1",children:null!=j?j:"--"}),(0,l.jsxs)("div",{className:" text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mt-2 mobile:mt-1",children:[null===(d=p.quote)||void 0===d?void 0:d.symbol," per ",null===(u=p.base)||void 0===u?void 0:u.symbol]})]}),(0,l.jsxs)(q.Z,{className:"".concat(I?"":"col-span-2"),children:[(0,l.jsxs)("div",{className:"flex justify-start items-center text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs gap-1",children:["My Position",h?(0,l.jsxs)(ee.Z,{darkGradient:!0,panelClassName:"p-0 rounded-xl",children:[(0,l.jsx)(O.Z,{className:" cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsxs)("div",{className:"max-w-[300px] py-3 px-5",children:[p.base&&(0,l.jsx)(tk,{token:p.base,tokenAmount:Z,tokenPrice:y}),p.quote&&(0,l.jsx)(tk,{token:p.quote,tokenAmount:N,tokenPrice:w})]})})]}):null]}),(0,l.jsx)("div",{className:"text-white font-medium text-base mobile:text-sm mt-3 mobile:mt-1",children:null!=P?P:"--"}),(0,l.jsx)(J.Z,{className:"items-center gap-1 text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mt-2 mobile:mt-1",children:h?(0,l.jsxs)(l.Fragment,{children:[" ",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(e)return e instanceof o.nh&&(e=(0,ea.ZP)(e)),e.substring(0,t)+"..."+e.substring(e.length-i,e.length)}(null==h?void 0:h.nftMint,6)," ",(0,l.jsx)(O.Z,{size:"sm",className:"clickable text-[rgba(171,196,255,1)] font-semibold",heroIconName:"clipboard-copy",onClick:e=>{let{ev:t}=e;t.stopPropagation(),(0,en.Z)((0,ea.ZP)(null==h?void 0:h.nftMint)),z("Account has been copied!")}}),(0,l.jsx)(V.Z,{className:"flex items-center",hrefDetail:"".concat(null==h?void 0:h.nftMint),type:"account",children:(0,l.jsx)(O.Z,{size:"sm",className:"clickable text-[rgba(171,196,255,1)] font-semibold",inline:!0,heroIconName:"external-link"})})]}):(0,l.jsx)(l.Fragment,{children:"\xa0"})})]}),(0,l.jsx)(F.Z,{is:I?"Row":"Col",className:I?"flex justify-center items-center pt-3":"col-span-1",children:(0,l.jsx)("div",{className:"flex justify-end shrink",children:(0,l.jsx)(L.Z,{className:"frosted-glass-teal",size:I?"xs":void 0,disabled:!h,validators:[{should:D,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:h,forceActive:!0,fallbackProps:{onClick:()=>{b.ZP.setState({coin1:p.base,coin2:p.quote,currentAmmPool:p}),(0,A.Eh)("/clmm/create-position",{queryProps:{}})},children:"Create Position"}}],onClick:()=>{b.ZP.setState({isMyPositionDialogOpen:!0,currentAmmPool:p,targetUserPositionAccount:h,coin1:p.base,coin2:p.quote})},children:"Manage"})})})]}),(0,l.jsxs)(F.Z,{is:I?"div":"Row",className:"flex-auto w-1/2 mobile:w-full justify-between ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-3xl mobile:rounded-lg p-6 mobile:p-3  items-center",children:[(0,l.jsxs)(q.Z,{children:[(0,l.jsxs)("div",{className:"flex justify-start items-center text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs gap-1",children:["Pending Yield",h?(0,l.jsxs)(ee.Z,{darkGradient:!0,panelClassName:"p-0 rounded-xl",children:[(0,l.jsx)(O.Z,{className:"cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsxs)("div",{className:"min-w-[250px] py-[6px] px-5",children:[h.tokenFeeAmountA||h.tokenFeeAmountB?(0,l.jsx)("div",{className:"pt-3 pb-1",children:"Fees"}):null,p.base&&(0,l.jsx)(tk,{token:p.base,tokenAmount:(0,ef.B)(h.tokenFeeAmountA,{decimalLength:"auto 5"}),tokenPrice:C,suffix:""}),p.quote&&(0,l.jsx)(tk,{token:p.quote,tokenAmount:(0,ef.B)(h.tokenFeeAmountB,{decimalLength:"auto 5"}),tokenPrice:S,suffix:""}),h.rewardInfos.length>0?(0,l.jsx)("div",{className:"pt-3 pb-1",children:"Rewards"}):null,h.rewardInfos&&h.rewardInfos.map((e,t)=>{var i;return(0,l.jsx)(tk,{token:e.token,tokenAmount:(0,ef.B)(e.penddingReward,{decimalLength:"auto 5"}),tokenPrice:e.token&&(null==B?void 0:B.get(e.token)),suffix:""},"personal-rewardInfo-reward-".concat(t,"-").concat((0,ea.ZP)(null===(i=e.token)||void 0===i?void 0:i.mint)))})]})})]}):null]}),(0,l.jsxs)("div",{className:"text-white font-medium text-base mobile:text-sm mt-3 mobile:mt-1",children:["≈",(0,ed.Z)(W)]}),h&&(0,l.jsx)(tw,{poolInfo:p,positionInfo:h})]}),(0,l.jsx)(F.Z,{is:I?"Row":"Col",className:I?"flex justify-center items-center pt-3":"",children:(0,l.jsx)(L.Z,{className:"frosted-glass-teal ",size:I?"xs":void 0,isLoading:M,validators:[{should:D,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:T}],onClick:()=>g({currentAmmPool:p,targetUserPositionAccount:h}).then(e=>{(null==e?void 0:e.allSuccess)&&R()}),children:"Harvest"})})]})]}),(0,l.jsx)(J.Z,{className:"pl-8 ".concat(I?"pr-8 pt-5":"","   gap-3 items-center self-center justify-center mobile:w-full"),children:I?(0,l.jsxs)(J.Z,{className:"gap-5 mobile:gap-4",children:[(0,l.jsx)(O.Z,{size:"sm",heroIconName:"plus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] opacity-100 clickable clickable-filter-effect ".concat(h?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{b.ZP.setState({isAddDialogOpen:!0,currentAmmPool:p,targetUserPositionAccount:h})}}),U?(0,l.jsx)(O.Z,{size:"sm",heroIconName:"x",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] ".concat(h?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{b.ZP.setState({liquidity:null==H?void 0:H.liquidity,currentAmmPool:p,targetUserPositionAccount:h}),setTimeout(()=>{(0,m.Z)({closePosition:!0}).then(e=>{(null==e?void 0:e.allSuccess)&&(R(),b.ZP.setState({coin1Amount:void 0,coin2Amount:void 0}))})},10)}}):(0,l.jsx)(O.Z,{size:"sm",iconSrc:"/icons/pools-remove-liquidity-entry.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] ".concat(h?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{b.ZP.setState({isRemoveDialogOpen:!0,currentAmmPool:p,targetUserPositionAccount:h})}})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(O.Z,{size:"smi",heroIconName:"plus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] opacity-100 clickable clickable-filter-effect ".concat(h?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{b.ZP.setState({isAddDialogOpen:!0,currentAmmPool:p,targetUserPositionAccount:h})}}),(0,l.jsx)(ee.Z.Panel,{children:"Add Liquidity"})]}),U?(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(O.Z,{size:"smi",heroIconName:"x",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] ".concat(h?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{b.ZP.setState({liquidity:null==H?void 0:H.liquidity,currentAmmPool:p,targetUserPositionAccount:h}),setTimeout(()=>{(0,m.Z)({closePosition:!0}).then(e=>{(null==e?void 0:e.allSuccess)&&(R(),b.ZP.setState({coin1Amount:void 0,coin2Amount:void 0}))})},10)}}),(0,l.jsx)(ee.Z.Panel,{children:"Close Position"})]}):(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(O.Z,{size:"smi",iconSrc:"/icons/pools-remove-liquidity-entry.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] ".concat(h?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{b.ZP.setState({isRemoveDialogOpen:!0,currentAmmPool:p,targetUserPositionAccount:h})}}),(0,l.jsx)(ee.Z.Panel,{children:"Remove Liquidity"})]})]})})]})})})}function tw(e){let{poolInfo:t,positionInfo:i}=e,s=(0,b.ZP)(e=>e.timeBasis),o=(0,C.ZP)(e=>e.tokenPrices),a=(0,C.ZP)(e=>e.tokens),c=(0,ep.xh)(a,e=>e.decimals),r=(0,x.ZP)(e=>e.chainTimeOffset),d=(0,b.ZP)(e=>e.aprCalcMode),m=(0,n.useMemo)(()=>null==i?void 0:i.getApr({tokenPrices:o,tokenDecimals:c,timeBasis:s.toLowerCase(),planType:d,chainTimeOffsetMs:r}),[r,s,d]);return(0,l.jsxs)(J.Z,{className:"items-center gap-2",children:[(0,l.jsx)("div",{className:"text-[#abc4ff80] text-sm font-medium mobile:text-xs",children:"APR"}),(0,l.jsx)(eS.T,{iconClassName:"opacity-50"}),(0,l.jsx)("div",{className:"text-white text-sm font-medium mobile:text-xs",children:(0,ec.Z)(null==m?void 0:m.apr)}),(0,eu.$u)(m.apr)&&(0,l.jsxs)(ee.Z,{panelClassName:"p-0 rounded-xl",children:[(0,l.jsx)(J.Z,{className:"items-center gap-2 mobile:gap-1 mt-1",children:m&&(0,l.jsx)(tN,{className:"w-28",aprValues:[m.fee.apr,...m.rewards.map(e=>e.apr)]})}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsx)("div",{className:"p-5",children:m&&(0,l.jsx)(eC.E,{type:"positionAccount",colCount:2,positionAccount:i})})})]})]})}function tk(e){let{token:t,tokenAmount:i,tokenPrice:n,suffix:s="",customIcon:o,customKey:c,customValue:r,className:d}=e;return(0,l.jsxs)(J.Z,{className:(0,a.m)("py-2 gap-8 justify-between items-center font-medium text-[12px] ",d),children:[(0,l.jsxs)(J.Z,{className:"flex items-center justify-start gap-[6px]",children:[o||(0,l.jsx)(M.Z,{token:t,size:"smi"}),(0,l.jsxs)("div",{className:" text-[#ABC4FF]",children:[c||(t?t.symbol:null)," ",s]})]}),(0,l.jsx)(J.Z,{className:"flex justify-end gap-1",children:r||(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-white",children:i}),(0,l.jsxs)("div",{className:"text-[#ABC4FF]",children:["(",(0,ed.Z)(n),")"]})]})})]})}function tA(e){let{info:t,className:i}=e,n=(0,c.ZP)(e=>e.isMobile);return(0,b.ZP)(e=>e.timeBasis),(0,l.jsxs)(F.Z,{is:n?"Col":"Row",className:(0,a.m)("clickable flex-wrap items-center mobile:items-start",i),children:[(0,l.jsx)(T.Z,{className:"justify-self-center mr-2",size:n?"sm":"md",token1:null==t?void 0:t.base,token2:null==t?void 0:t.quote}),(0,l.jsx)(J.Z,{className:"mobile:text-xs font-medium mobile:mt-px items-center flex-wrap gap-2",children:(0,l.jsxs)(q.Z,{children:[(0,l.jsxs)(J.Z,{className:"items-center",children:[(0,l.jsx)("div",{children:null==t?void 0:t.name}),(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(O.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,l.jsx)(ee.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:[null==t?void 0:t.base,null==t?void 0:t.quote].map((e,t)=>e?(0,l.jsxs)(J.Z,{className:"gap-2",children:[(0,l.jsx)(M.Z,{size:"xs",token:e}),(0,l.jsx)(S.U,{className:"grow",showDigitCount:5,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs text-[#abc4ff] justify-start ",iconClassName:"text-[#abc4ff]",children:(0,ea.ZP)(e.mint)})]},t):null)})})]})]}),(0,l.jsxs)("div",{className:"font-medium text-xs text-[#ABC4FF]/50",children:["Fee ",(0,ec.Z)(null==t?void 0:t.tradeFeeRate)]})]})})]})}function tC(e){let{name:t,value:i,className:n}=e,s=(0,c.ZP)(e=>e.isMobile);return s?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-1 text-[rgba(171,196,255,0.5)] font-medium text-2xs",children:t}),(0,l.jsx)("div",{className:"text-xs",children:i||"--"})]}):(0,l.jsx)("div",{className:(0,a.m)("tablet:text-sm",n),children:i||"--"})}}},function(e){e.O(0,[4740,9916,6181,7571,8667,7664,4109,5469,6099,1164,4683,9774,2888,179],function(){return e(e.s=91902)}),_N_E=e.O()}]);