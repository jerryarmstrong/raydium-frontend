(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5009],{10073:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clmm/create-position",function(){return n(58987)}])},6262:function(e,t,n){"use strict";n.d(t,{Ek:function(){return c},TL:function(){return u},vt:function(){return d},yc:function(){return m}});var i=n(5593),l=n(27713),s=n(4465),o=n(51523),r=n(84207);function a(e){let t=i.c2c.getPriceAndTick(e);return(0,l.JS)(t)}function c(e){let t=i.c2c.getTickPrice(e);return(0,l.JS)(t)}function d(e){let{coin1:t,coin2:n,reverse:i,ammPool:s,maxDecimals:c}=e;if(s)try{var d,m;let e=c||(t||n?Math.max(null!==(d=null==t?void 0:t.decimals)&&void 0!==d?d:0,null!==(m=null==n?void 0:n.decimals)&&void 0!==m?m:0):6),u=100===s.ammConfig.tradeFeeRate,p=u?.01:.2,x=(0,l.eZ)(null==s?void 0:s.state.currentPrice),f=(0,o.kg)(x?(0,o.dC)(x,1-p):0,1/10**e),h=(0,o.kg)(x?(0,o.dC)(x,1+p):0,1/10**e),{price:b,tick:v}=a({poolInfo:s.state,baseIn:!0,price:(0,l.I2)((0,r.Z)(f))}),{price:Z,tick:g}=a({poolInfo:s.state,baseIn:!0,price:(0,l.I2)((0,r.Z)(h))});if(i)return{priceLowerTick:g,priceLower:(0,o.hi)(1,Z),priceUpperTick:v,priceUpper:(0,o.hi)(1,b)};return{priceLowerTick:v,priceLower:b,priceUpperTick:g,priceUpper:Z}}catch(e){return}}function m(e){let{p:t,coin1:n,coin2:i,reverse:o,ammPool:c,maxDecimals:d}=e,m=o?i:n;try{let{price:e,tick:n}=a({poolInfo:c.state,baseIn:(0,s.aT)(c.state.mintA.mint,null==m?void 0:m.mint),price:(0,l.I2)((0,r.Z)(Math.max(Number(t),1/10**(null!=d?d:6))))});return{price:e,tick:n}}catch(e){return}}function u(e){let{min:t,max:n,coin1:i,coin2:l,reverse:s,ammPool:o,maxDecimals:r}=e,a=m({p:t,coin1:i,coin2:l,ammPool:o,reverse:s,maxDecimals:r}),c=m({p:n,coin1:i,coin2:l,ammPool:o,reverse:s,maxDecimals:r});return{priceLower:a.price,priceLowerTick:a.tick,priceUpper:c.price,priceUpperTick:c.tick}}},13039:function(e,t,n){"use strict";n.d(t,{B:function(){return v},Z:function(){return b}});var i=n(5593),l=n(8667),s=n(53002),o=n(34003),r=n(71375),a=n(72573),c=n(96662),d=n(42186),m=n(475),u=n(94678),p=n(62952),x=n(94355),f=n(14200),h=n(55469);async function b(){let e,{currentAmmPool:t=u.ZP.getState().currentAmmPool,coin1:n=u.ZP.getState().coin1,coin2:i=u.ZP.getState().coin2,coin1Amount:s=u.ZP.getState().coin1Amount,coin2Amount:o=u.ZP.getState().coin2Amount,coin1SlippageAmount:r=u.ZP.getState().coin1SlippageAmount,coin2SlippageAmount:c=u.ZP.getState().coin2SlippageAmount,priceLower:d=u.ZP.getState().priceLower,priceUpper:m=u.ZP.getState().priceUpper,priceLowerTick:b=u.ZP.getState().priceLowerTick,priceUpperTick:Z=u.ZP.getState().priceUpperTick,liquidity:g=u.ZP.getState().liquidity,onSuccess:j}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=(0,p.n)(n,s,{alreadyDecimaled:!0}),P=(0,p.n)(i,o,{alreadyDecimaled:!0}),k=[n,i].some(e=>(0,f.W)(e));if(k){let{hasConfirmed:l}=(0,h.e)({amount:[(0,f.W)(n)?y:void 0,(0,f.W)(i)?P:void 0],groupInfo:t&&d&&m?{ammPool:t,priceLower:d,priceUpper:m}:void 0,caseName:"openPosition"});e=await l}else e=!0;if(!e){x.Z.getState().logError("Canceled by User","The operation is canceled by user");return}return(0,l.ZP)(async e=>{var l,u;let{transactionCollector:p}=e,{innerTransactions:x,nftAddress:f}=await v({currentAmmPool:t,coin1:n,coin2:i,coin1Amount:s,coin2Amount:o,coin1SlippageAmount:r,coin2SlippageAmount:c,liquidity:g,priceLower:d,priceUpper:m,priceLowerTick:b,priceUpperTick:Z});p.add(x,{onTxAllSuccess(){null==j||j({nftAddress:f})},txHistoryInfo:{title:"Position Created",forceErrorTitle:"Error creating position",description:"Added ".concat((0,a.B)(s)," ").concat(null!==(l=null==n?void 0:n.symbol)&&void 0!==l?l:"--"," and ").concat((0,a.B)(o)," ").concat(null!==(u=null==i?void 0:i.symbol)&&void 0!==u?u:"--")}})})}async function v(){let{priceLower:e=u.ZP.getState().priceLower,priceUpper:t=u.ZP.getState().priceUpper,coin1:n=u.ZP.getState().coin1,coin2:l=u.ZP.getState().coin2,coin1Amount:a=u.ZP.getState().coin1Amount,coin2Amount:p=u.ZP.getState().coin2Amount,coin1SlippageAmount:x=u.ZP.getState().coin1SlippageAmount,coin2SlippageAmount:f=u.ZP.getState().coin2SlippageAmount,liquidity:h=u.ZP.getState().liquidity,priceLowerTick:b=u.ZP.getState().priceLowerTick,priceUpperTick:v=u.ZP.getState().priceUpperTick,currentAmmPool:Z=u.ZP.getState().currentAmmPool}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.ZP.getState(),{tokenAccountRawInfos:g}=s.Z.getState(),{connection:j}=c.ZP.getState(),{owner:y}=s.Z.getState();(0,o.Z)(j,"no rpc connection"),(0,o.Z)(y,"wallet not connected"),(0,o.Z)(Z,"not seleted amm pool"),(0,o.Z)(void 0!==v,"not set priceUpperTick"),(0,o.Z)(void 0!==b,"not set priceLowerTick"),(0,o.Z)(t,"not set priceUpper"),(0,o.Z)(e,"not set priceLower"),(0,o.Z)(n,"not set coin1"),(0,o.Z)(x,"not set coin1Amount"),(0,o.Z)(l,"not set coin2"),(0,o.Z)(f,"not set coin2Amount"),(0,o.Z)(h,"not set liquidity");let P=(0,d.Dn)(n)||(0,d.Dn)(l),k=Z.state.mintA.mint.equals(n.mint),N=(0,r.Z)(x,n.decimals,"up"),w=(0,r.Z)(f,l.decimals,"up"),{innerTransactions:S,address:C}=await i.c2c.makeOpenPositionFromLiquidityInstructionSimple({connection:j,liquidity:h,poolInfo:Z.state,ownerInfo:{feePayer:y,wallet:y,tokenAccounts:g,useSOLBalance:P},tickLower:Math.min(b,v),tickUpper:Math.max(b,v),amountMaxA:k?N:w,amountMaxB:k?w:N,slippage:.015,computeBudgetConfig:await (0,m.u)(),checkCreateATAOwner:!0});return{innerTransactions:S,nftAddress:String(C.nftMint)}}},7931:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var i=n(67294),l=n(12839);function s(e,t,n){var s;let o="all .4s cubic-bezier(0.4, 0, 0.2, 1)",[r,a]=(0,i.useState)(null!==(s=null==n?void 0:n.defaultHasWrapped)&&void 0!==s&&s);(0,i.useEffect)(function(){if(l.N9||!(null==n?void 0:n.defaultHasWrapped))return;let i=e.current,s=t.current;if(!i||!s)return;let o=i.getBoundingClientRect(),r=s.getBoundingClientRect(),a=r.top-o.top,c=o.top<r.top?1:-1;i.style.setProperty("transition",""),s.style.setProperty("transition",""),i.style.setProperty("transform","translateY(".concat(a*c,"px)")),s.style.setProperty("transform","translateY(".concat(-a*c,"px)"))},[]);let c=(0,i.useCallback)(()=>{let n=e.current,i=t.current;if(!n||!i)return;let l=n.getBoundingClientRect(),s=i.getBoundingClientRect(),c=s.top-l.top,d=l.top<s.top?1:-1;n.style.setProperty("transition",o),i.style.setProperty("transition",o),r?(n.style.setProperty("transform","translateY(0px)"),i.style.setProperty("transform","translateY(0px)"),a(!1)):(n.style.setProperty("transform","translateY(".concat(c*d,"px)")),i.style.setProperty("transform","translateY(".concat(-c*d,"px)")),a(!0))},[r,e,t]),d=(0,i.useCallback)(()=>{let n=e.current,i=t.current;n&&i&&(n.style.setProperty("transition",o),i.style.setProperty("transition",o),n.style.setProperty("transform","translateY(0px)"),i.style.setProperty("transform","translateY(0px)"))},[r,e,t]);return(0,i.useEffect)(()=>{let n=e.current,i=t.current,l=()=>{null==n||n.style.setProperty("pointerEvents","none")},s=()=>{null==n||n.style.setProperty("pointerEvents","")};return null==n||n.addEventListener("transitionstart",l),null==n||n.addEventListener("transitionend",s),null==i||i.addEventListener("transitionstart",l),null==i||i.addEventListener("transitionend",s),()=>{null==n||n.removeEventListener("transitionstart",l),null==n||n.removeEventListener("transitionend",s),null==i||i.removeEventListener("transitionstart",l),null==i||i.removeEventListener("transitionend",s)}},[e,t]),[r,{toggleSwap:c,resetSwapPosition:d}]}},58625:function(e,t,n){"use strict";n.d(t,{a:function(){return x}});var i=n(85893),l=n(53002),s=n(51523),o=n(81451),r=n(42186),a=n(72573),c=n(48162),d=n(28948),m=n(51800),u=n(92618),p=n(66180);function x(e){let{solLeastBalance:t,className:n,tooltipText:x}=e,f=(0,l.Z)(e=>e.solBalance),h=(0,s.hi)(f,10**r.Bk);return(0,i.jsx)(d.U,{children:h&&(0,o.lt)(h,null!=t?t:r.kn)&&(0,o.eg)(h,0)&&(0,i.jsxs)(m.Z,{className:(0,p.m)("text-sm mt-2 text-[#D8CB39] items-center justify-center",n),children:["SOL balance: ",(0,a.B)(h)," ",(0,i.jsxs)(u.Z,{placement:"bottom-right",children:[(0,i.jsx)(c.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,i.jsx)(u.Z.Panel,{children:(0,i.jsx)("p",{className:"w-80",children:null!=x?x:"SOL is needed for Solana network fees. A minimum balance of ".concat(null!=t?t:r.kn," SOL is\n                recommended to avoid failed transactions. This swap will leave you with less than \n                ").concat(null!=t?t:r.kn," SOL.")})})]})]})})}},58987:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eT}});var i=n(85893),l=n(67294),s=n(5593),o=n(90482),r=n(66180),a=n(91371),c=n(6262),d=n(13039),m=n(94678),u=n(52784),p=n(76961),x=n(31166),f=n(11163),h=n(94355),b=n(56603),v=n(4465),Z=n(16938),g=n(26842),j=n(99779),y=n(96662),P=n(25222),k=n(80582);function N(e){var t,n;let i={ammId:String(null!==(n=null!==(t=e.ammId)&&void 0!==t?t:e.ammid)&&void 0!==n?n:"")};return(0,Z.dI)(i)}var w=n(31555),S=n(27713),C=n(53002),T=n(43067),A=n(97664),L=n(54592),F=n(88132),E=n(28948),I=n(60421),B=n(48162),M=n(57571),R=n(33674),D=n(51800),U=n(3363),z=n(18074),q=n(62952),O=n(95865),W=n(81451),_=n(8951),H=n(14209),$=n(51523),Y=n(71375),V=n(84207),X=n(72573),J=n(32825),Q=n(47857),K=n(7931),G=n(92224),ee=n(99023),et=n(40816),en=n(54531);let ei="mobile:justify-center mobile:w-1/2";function el(e){let{coin1:t,coin2:n,fee:s,focusSide:o,onChangeFocus:r}=e,a=(0,l.useMemo)(()=>{let e=[];return t&&e.push({label:"".concat(t.symbol||"Unknown"," price"),value:t.id,className:ei}),n&&e.push({label:"".concat(n.symbol||"Unknown"," price"),value:n.id,className:ei}),e},[t,n]),c=(0,l.useCallback)(e=>{r(e.value===n.id?"coin2":"coin1")},[n]);return(0,i.jsxs)("div",{className:"flex justify-between items-center mb-[27px] mobile:flex-col mobile:items-baseline mobile:mb-3",children:[(0,i.jsxs)("div",{className:"flex items-center mobile:mb-2",children:[(0,i.jsx)(en.Z,{size:"lg",token1:t,token2:n}),(0,i.jsxs)("span",{className:"ml-2 text-xl font-medium mobile:text-lg text-white",children:[(null==t?void 0:t.symbol)||"-"," / ",(null==n?void 0:n.symbol)||"-"]}),(0,i.jsxs)("div",{className:"px-2.5 py-1 ml-2 rounded-lg text-sm text-secondary-title bg-active-tab-bg",children:["Pool Fee ",s||"-"]})]}),(0,i.jsx)("div",{className:"flex items-center mobile:w-full",children:t&&n&&(0,i.jsx)(et.Z,{classNames:"ml-4 mobile:w-full mobile:ml-0",tabs:a,selectedValue:"coin1"===o?t.id:null==n?void 0:n.id,onChange:c})})]})}var es=n(58625),eo=n(54103),er=n(67858),ea=n(96256);function ec(){return(0,i.jsxs)("div",{className:"absolute text-sm flex flex-col border-1.5 border-[#abc4ff40] text-center justify-center items-center p-2 w-full h-full bg-[#141041] bg-opacity-80 z-10 rounded-xl",children:[(0,i.jsx)(B.Z,{className:"mb-1",heroIconName:"lock-closed",size:"sm"}),"Current price is outside your selected range. Single-asset deposit only."]})}var ed=n(71122),em=n(83496),eu=n(14200),ep=n(6547),ex=n(11601),ef=n(70745),eh=n(92618),eb=n(51488),ev=n(99522),eZ=n(6994),eg=n(65927),ej=n(40471),ey=n(48678),eP=n(96398);function ek(e){var t,n;let{open:s,haveEnoughCoin1:o,haveEnoughCoin2:c,coin1:d,coin2:m,coin1Amount:u,coin1AmountFee:p,coin2Amount:x,coin2AmountFee:f,decimals:h,currentPrice:b,position:v,gettedNFTAddress:Z,totalDeposit:g,feeRate:j,inRange:y,onBackToAllMyPools:P,onConfirm:k,onClose:N,onRefreshSnapshot:w,isSnapshotDataFresh:S}=e,C=function(e){let[t,n]=(0,l.useState)(!1);return(0,eP.L)(()=>{n(!1)},[e.restartState]),(0,eP.L)(()=>{e.freshState&&n(!0)},[e.freshState]),t}({freshState:S,restartState:s}),A=(0,l.useRef)(!1),F=Math.min(null!=h?h:6,6),E=(0,a.ZP)(e=>e.isApprovePanelShown),I=(0,l.useCallback)(e=>{null==k||k(e),A.current=!0},[N]),M=!!Z,R=(0,l.useCallback)(()=>{N()},[N]);return(0,i.jsx)(eg.Z,{open:s,onClose:R,children:e=>{let{close:l}=e;return(0,i.jsx)(eZ.Z,{className:(0,r.m)("p-6 mobile:py-4 mobile:px-2 rounded-3xl w-[min(480px,95vw)] mx-8 border-1.5 border-[rgba(171,196,255,0.2)]  bg-cyberpunk-card-bg shadow-cyberpunk-card"),size:"lg",children:M?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(D.Z,{className:"justify-between items-center mb-6 mobile:mb-3",children:[(0,i.jsx)("div",{className:"text-xl font-semibold text-white mobile:text-base",children:"Deposit Confirmed"}),(0,i.jsx)(B.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:l})]}),(0,i.jsxs)("div",{className:"my-4 mx-4 space-y-4",children:[(0,i.jsx)("div",{className:"text-sm text-[#ABC4FF] font-medium",children:"A new NFT representing your Concentrated Liquidity position is now in your wallet."}),(0,i.jsxs)(L.Z,{className:"gap-2 items-center",children:[(0,i.jsx)(ej.Z,{src:"https://cloudflare-ipfs.com/ipfs/Qme9ErqmQaznzpfDACncEW48NyXJPFP7HgzfoNdto9xQ9P/02.jpg",className:"h-44 w-44"}),(0,i.jsxs)(D.Z,{className:"text-sm text-[#ABC4FF] font-medium gap-2",children:[(0,i.jsx)("div",{children:"NFT Mint:"}),(0,i.jsx)(ev.U,{canCopy:!0,canExternalLink:!0,addressType:"token",children:Z})]})]}),(0,i.jsxs)("div",{className:"text-sm text-[#ABC4FF] font-medium",children:[(0,i.jsx)("strong",{className:"text-base",children:"DO NOT"})," burn this NFT or you will be unable to remove liquidity! If you send the NFT to another wallet, only the new wallet will be able to remove liquidity."]})]}),(0,i.jsx)(L.Z,{className:"items-center mt-5 mobile:mt-3",children:(0,i.jsx)("div",{className:"self-stretch",children:(0,i.jsx)(L.Z,{children:(0,i.jsx)(T.Z,{className:"frosted-glass-teal",onClick:P,children:"View My Pools"})})})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(D.Z,{className:"justify-between items-center mb-6 mobile:mb-3",children:[(0,i.jsxs)("div",{className:"text-xl font-semibold text-white mobile:text-base",children:["Preview Deposit to ",null==d?void 0:d.symbol," / ",null==m?void 0:m.symbol]}),(0,i.jsx)(B.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:l})]}),(0,i.jsxs)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,i.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"My Position"}),(0,i.jsxs)("div",{className:"text-sm flex leading-[18px] flex-col pt-2.5",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-2.5",children:[(0,i.jsxs)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:[(0,i.jsx)(ef.Z,{className:"inline-block mr-1",size:"sm",token:d}),null==d?void 0:d.symbol]}),(0,i.jsxs)(L.Z,{className:"items-end",children:[(0,i.jsxs)("span",{children:[(0,X.B)(u)," ",null==d?void 0:d.symbol]}),(0,W.$u)(p)&&(0,i.jsxs)(D.Z,{className:"text-xs text-[#abc4ff80] gap-0.5 items-center",children:[(0,i.jsxs)("span",{children:["Position: ",(0,X.B)((0,$.h9)(u,p))," + "]}),(0,i.jsxs)(D.Z,{className:"text-[#D8CB39] font-medium gap-0.5 items-center",children:[(0,i.jsx)("span",{children:"Fee"}),(0,i.jsxs)(eh.Z,{children:[(0,i.jsx)(B.Z,{size:"xs",heroIconName:"information-circle"}),(0,i.jsx)(eh.Z.Panel,{children:(0,i.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:"This token uses the Token-2022 program and includes a transfer fee set by the token creator. These are the final deposit amounts for the position and the transfer fee."})})]}),(0,i.jsxs)("span",{children:[": ",(0,X.B)(p)]})]})]})]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:[(0,i.jsx)(ef.Z,{className:"inline-block mr-1",size:"sm",token:m}),null==m?void 0:m.symbol]}),(0,i.jsxs)(L.Z,{className:"items-end",children:[(0,i.jsxs)("span",{children:[(0,X.B)(x)," ",null==m?void 0:m.symbol]}),(0,W.$u)(f)&&(0,i.jsxs)(D.Z,{className:"text-xs text-[#abc4ff80] gap-0.5 items-center",children:[(0,i.jsxs)("span",{children:["Position: ",(0,X.B)((0,$.h9)(x,f))," + "]}),(0,i.jsxs)(D.Z,{className:"text-[#D8CB39] font-medium gap-0.5 items-center",children:[(0,i.jsx)("span",{children:"Fee"}),(0,i.jsxs)(eh.Z,{children:[(0,i.jsx)(B.Z,{size:"xs",heroIconName:"information-circle"}),(0,i.jsx)(eh.Z.Panel,{children:(0,i.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:"This token uses the Token-2022 program and includes a transfer fee set by the token creator. These are the final deposit amounts for the position and the transfer fee."})})]}),(0,i.jsxs)("span",{children:[": ",(0,X.B)(f)]})]})]})]})]}),(0,i.jsxs)("div",{className:"flex justify-between mt-2 pl-1",children:[(0,i.jsx)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:"Fee tier"}),(0,i.jsx)("span",{children:(0,z.Z)((j||0)/1e6)})]})]})]}),(0,i.jsxs)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,i.jsxs)("div",{className:"text-sm flex justify-between items-end leading-[18px] font-medium mb-2 mobile:text-xs",children:[(0,i.jsx)("span",{className:"flex text-sm text-secondary-title leading-[18px] mr-2",children:"Current Price"}),b?(0,ey.C)((0,X.B)(b,{decimalLength:F})):"0"," ",null==m?void 0:m.symbol," per ",null==d?void 0:d.symbol]}),(0,i.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,i.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Selected Range"}),(0,i.jsx)("span",{children:y?(0,i.jsxs)(D.Z,{className:"items-center bg-[#142B45] rounded text-xs text-[#39D0D8] py-0.5 px-1 ml-2",children:[(0,i.jsx)(B.Z,{size:"xs",iconSrc:"/icons/check-circle.svg"}),(0,i.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"In Range"})]}):(0,i.jsxs)(D.Z,{className:"items-center bg-[#DA2EEF]/10 rounded text-xs text-[#DA2EEF] py-0.5 px-1 ml-2",children:[(0,i.jsx)(B.Z,{size:"xs",iconSrc:"/icons/warn-stick.svg"}),(0,i.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"Out of Range"})]})})]}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)("div",{className:"border-1.5 justify-center text-center flex-1 border-light-blue-opacity rounded-xl p-3 mobile:p-2",children:[(0,i.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Min Price"}),(0,i.jsx)("div",{className:"text-xl my-3",children:(0,X.B)(null==v?void 0:v.min,{decimalLength:F})}),(0,i.jsxs)("div",{className:"text-sm text-[#abc4ff80]",children:[null==m?void 0:m.symbol," per ",null==d?void 0:d.symbol]})]}),(0,i.jsxs)("div",{className:"border-1.5 justify-center text-center flex-1 border-light-blue-opacity rounded-xl p-3 mobile:p-2",children:[(0,i.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Max Price"}),(0,i.jsx)("div",{className:"text-xl my-3",children:(0,X.B)(null==v?void 0:v.max,{decimalLength:F})}),(0,i.jsxs)("div",{className:"text-sm text-[#abc4ff80]",children:[null==m?void 0:m.symbol," per ",null==d?void 0:d.symbol]})]})]})]}),(0,i.jsx)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Total Deposit"}),(0,i.jsx)("span",{className:"text-lg",children:g})]})}),(0,i.jsx)(L.Z,{className:"items-center mt-5 mobile:mt-3",children:(0,i.jsx)("div",{className:"self-stretch",children:(0,i.jsx)(L.Z,{children:(0,i.jsx)(T.Z,{className:"frosted-glass-teal",isLoading:E,validators:[{should:S,forceActive:!0,fallbackProps:{onClick:()=>{w()},children:"Refresh Position"}},C?{should:y,fallbackProps:{children:"Out of Range"}}:void 0,{should:o,fallbackProps:{children:"Insufficient ".concat(null!==(t=null==d?void 0:d.symbol)&&void 0!==t?t:""," balance")}},{should:c,fallbackProps:{children:"Insufficient ".concat(null!==(n=null==m?void 0:m.symbol)&&void 0!==n?n:""," balance")}}],onClick:()=>I(l),children:"Confirm Deposit"})})})})]})})}})}var eN=n(74365),ew=n(63675);let{ContextProvider:eS,useStore:eC}=(0,J.Z)({hasAcceptedPriceChange:!1,coinInputBox1ComponentRef:(0,l.createRef)(),coinInputBox2ComponentRef:(0,l.createRef)(),liquidityButtonComponentRef:(0,l.createRef)()});function eT(){return(0,i.jsxs)(eS,{children:[(0,i.jsx)(eF,{}),(0,i.jsxs)(M.Z,{mobileBarTitle:"Concentrated",metaTitle:"Concentrated - Raydium",children:[(0,i.jsx)(eA,{}),(0,i.jsx)(eE,{})]})]})}function eA(){return(0,i.jsx)(D.Z,{className:(0,r.m)("-mt-4 mobile:mt-0.5 mb-8 mobile:mb-2 sticky z-auto -top-4 mobile:top-0 mobile:-translate-y-2 mobile:bg-[#0f0b2f] mobile:hidden items-center justify-between"),children:(0,i.jsx)(T.Z,{type:"text",className:"text-sm text-[#ABC4FF] opacity-50 px-0",prefix:(0,i.jsx)(B.Z,{heroIconName:"chevron-left",size:"sm"}),onClick:()=>{(0,w.ES)("/clmm/pools")},children:"Back to all pools"})})}function eL(){return(0,i.jsx)(D.Z,{className:(0,r.m)("-mt-4 mobile:mt-0.5 mb-8 mobile:mb-2 sticky z-10 -top-4 mobile:top-0 mobile:-translate-y-2 mobile:bg-[#0f0b2f] items-center justify-between"),children:(0,i.jsx)(T.Z,{type:"text",className:"text-sm text-[#ABC4FF] px-0",prefix:(0,i.jsx)(B.Z,{heroIconName:"chevron-left"}),onClick:()=>{(0,w.ES)("/clmm/pools")}})})}function eF(){return!function(){let{query:e,pathname:t,replace:n}=(0,f.useRouter)(),i=(0,m.ZP)(e=>e.hydratedAmmPools),s=(0,m.ZP)(e=>e.currentAmmPool),o=(0,y.ZP)(e=>e.connection),r=(0,x.ZP)(e=>e.getToken),c=(0,a.ZP)(e=>e.inCleanUrlMode),[d,u]=(0,l.useState)(!1),p=(0,l.useCallback)(e=>i.find(t=>t.idString===e),[i]);(0,l.useEffect)(()=>{t.includes("/clmm/create-position")||u(!1)},[t]),(0,l.useEffect)(()=>{let e=()=>u(!1);return null==globalThis||globalThis.addEventListener("beforeunload",e),()=>null==globalThis?void 0:globalThis.removeEventListener("beforeunload",e)},[]),(0,g.Z)(async()=>{if(!t.includes("/clmm/create-position")||!o||d)return;let{logWarning:n}=h.Z.getState(),{ammId:l}=N(e);if(l&&i.length>0){let e=l?p(l):void 0,t=(0,P.w)(e);e&&t?m.ZP.setState({currentAmmPool:e,coin1:e.base,coin2:e.quote}):(m.ZP.setState({coin1:r(k.PD),coin2:r(k.LA)}),i.length>0&&n("can't find Liquidity pool with url ammId"))}i.length>0&&u(!0)},[d,o,t,e,i,p]);let w=(0,l.useCallback)((0,b.P)((e,t)=>{n({pathname:e,query:t},void 0,{shallow:!0})},{delay:500}),[n]);(0,j.P)(()=>{if(!t.includes("/clmm/create-position")||!d||c)return;let n=N(e),i=(0,Z.dI)({ammId:null==s?void 0:s.idString}),l=!(0,v.Ek)(n,i);l&&w(t,i)},[d,c,s,e,t])}(),(0,u.Z)(),(0,p.Z)(),!function(){(0,x.ZP)(e=>e.getToken);let e=(0,x.ZP)(e=>e.tokens);(0,l.useEffect)(()=>{let{coin1:t,coin2:n,currentAmmPool:i}=m.ZP.getState();!t&&!n&&Object.keys(e).length&&i&&m.ZP.setState({coin1:i.base,coin2:i.quote})},[e])}(),null}function eE(){var e,t,n,r,u,p,f;let h=(0,C.Z)(e=>e.getBalance),b=(0,C.Z)(e=>e.balances),[Z,g,y]=(0,m.ZP)(e=>[e.chartPoints,e.loadChartPointsAct,e.lazyLoadChart]),P=(0,C.Z)(e=>e.connected),[k,{off:N,on:M}]=(0,G.ZP)(!1),J=(0,a.ZP)(e=>e.isApprovePanelShown),et=(0,C.Z)(e=>e.checkWalletHasEnoughBalance),en=(0,m.ZP)(e=>e.timeBasis),ei=(0,m.ZP)(e=>e.coin1),eo=(0,m.ZP)(e=>e.coin1Amount);(0,m.ZP)(e=>e.coin1SlippageAmount);let er=(0,m.ZP)(e=>e.coin1AmountFee),ea=(0,m.ZP)(e=>e.coin2),ed=(0,m.ZP)(e=>e.coin2Amount),ev=(0,m.ZP)(e=>e.coin2AmountFee);(0,m.ZP)(e=>e.coin2SlippageAmount);let eZ=(0,m.ZP)(e=>e.focusSide),eg="coin1"===eZ,ej=(0,m.ZP)(e=>e.liquidity),ey=(0,m.ZP)(e=>e.currentAmmPool),eP=(0,m.ZP)(e=>e.hydratedAmmPools),eS=(0,m.ZP)(e=>e.priceUpper),eT=(0,m.ZP)(e=>e.priceLower),eA=(0,m.ZP)(e=>e.refreshConcentrated),eF=(0,x.ZP)(e=>e.refreshTokenPrice),[eE,eB]=(0,l.useState)({}),eM="".concat(null==ey?void 0:ey.idString,"-").concat(eZ),eR=function(e){let t=(0,l.useRef)();return(0,l.useEffect)(()=>{t.current=e},[e]),t.current}(eM),eD=(0,l.useRef)(),eU=(0,l.useRef)({lower:void 0,upper:void 0}),ez=ei||ea?Math.max(null!==(n=null==ei?void 0:ei.decimals)&&void 0!==n?n:0,null!==(r=null==ea?void 0:ea.decimals)&&void 0!==r?r:0):6,eq=(0,v.aT)(null==ey?void 0:ey.state.mintA.mint,ei),eO=eg&&eq||!eq&&!eg,eW=(0,l.useMemo)(()=>{let e=Z?(0,ee.Mn)(Z):void 0;return eO?e:e?e.map(e=>({x:1/e.x,y:e.y})).reverse():void 0},[Z,eO]),e_=(0,l.useMemo)(()=>Math.pow(-1,eq?eg?0:1:eg?1:0),[eq,eg]),eH=ey?[ey.state[m.v$[en]].priceMin,ey.state[m.v$[en]].priceMax]:[void 0,void 0];eO||(eH.reverse(),eH[0]=eH[0]?1/eH[0]:eH[0],eH[1]=eH[1]?1/eH[1]:eH[1]);let{coinInputBox1ComponentRef:e$,coinInputBox2ComponentRef:eY,liquidityButtonComponentRef:eV}=eC(),eX=(0,l.useRef)(null),eJ=(0,l.useRef)(null),[,{toggleSwap:eQ}]=(0,K.H)(eX,eJ);(0,j.P)(e=>{let[t]=e;t&&t!==eZ&&eQ()},[eZ]);let eK=(0,l.useMemo)(()=>ey?(0,S.eZ)(eO?ey.state.currentPrice:new o.Z(1).div(ey.state.currentPrice)):void 0,[null==ey?void 0:ey.state.currentPrice.toFixed(),eZ]);ey&&(0,S.eZ)(ey.state.currentPrice);let eG=ey&&eK&&void 0!==eT&&void 0!==eS?[(0,Y.Z)(eS||0,ez).lt((0,Y.Z)(eK||0,ez)),(0,Y.Z)(eT||0,ez).gt((0,Y.Z)(eK||0,ez))]:[!1,!1];eg||eG.reverse();let[e0,e1]=eG;(0,l.useEffect)(()=>{y&&ey&&g(ey.idString)},[null==ey?void 0:ey.idString,g,y]),(0,l.useEffect)(()=>{e0&&m.ZP.setState({coin1Amount:"0"}),e1&&m.ZP.setState({coin2Amount:"0"})},[e0,e1]),(0,l.useEffect)(()=>()=>m.ZP.setState({lazyLoadChart:!1,focusSide:"coin1",userCursorSide:"coin1"}),[]);let e2=ei&&(!(0,W.$u)(eo)||et((0,q.n)(ei,eo,{alreadyDecimaled:!0}))),e4=ea&&(!(0,W.$u)(ed)||et((0,q.n)(ea,ed,{alreadyDecimaled:!0}))),e5=(0,l.useRef)(null);(0,l.useEffect)(()=>{m.ZP.setState({scrollToInputBox:()=>{var e;return null===(e=e5.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"center"})}})},[e5]);let e3=(0,H.db)((null===(e=null==ey?void 0:ey.state.currentPrice)||void 0===e?void 0:e.toFixed(20))||"")+2,e8=(0,l.useMemo)(()=>(0,c.vt)({coin1:ei,coin2:ea,ammPool:ey,reverse:!eO,maxDecimals:Math.max(ez,e3)}),[ei,ea,ey,eO,ez,e3]);(0,l.useEffect)(()=>{eM!==eR&&e8&&(m.ZP.setState(e8),eU.current.lower=e8.priceLowerTick,eU.current.upper=e8.priceUpperTick)},[e8,eM,eR]);let[e6,e9]=(0,l.useState)([]),e7=(0,l.useCallback)(e=>e9(t=>[null==e?void 0:e.toExact(),t[1]]),[]),te=(0,l.useCallback)(e=>e9(t=>[t[0],null==e?void 0:e.toExact()]),[]),tt=e6.filter(e=>!!e).reduce((e,t)=>e.add((0,V.Z)(t)),(0,V.Z)(0)),tn=(0,l.useMemo)(()=>ei&&eo&&(0,eu.W)(ei)?(0,em.w)({amount:(0,q.n)(ei,eo,{alreadyDecimaled:!0})}):void 0,[ei,eo]),ti=(0,l.useMemo)(()=>ea&&ed&&(0,eu.W)(ea)?(0,em.w)({amount:(0,q.n)(ea,ed,{alreadyDecimaled:!0})}):void 0,[ea,ed]),tl=(0,eu.W)(ei)||(0,eu.W)(ea),ts=(0,Q.z)(e=>{let t={price:e.min,tick:eU.current.lower};if(!ey)return t;if(e[ew.e6.Min]>=e[ew.e6.Max]){let e=eg?ei:ea,t=eU.current.upper-ey.state.tickSpacing*e_,{price:n,tick:i}=(0,c.Ek)({poolInfo:ey.state,baseIn:(0,v.aT)(ey.state.mintA.mint,null==e?void 0:e.mint),tick:t});return eU.current.lower=i,m.ZP.setState({priceLowerTick:i,priceLower:n}),{price:(0,_.V)({val:n.toFixed(10)}),tick:i}}return t}),to=(0,l.useCallback)(e=>{let{side:t,userInput:n,...i}=e;if(!ey||!ei||!ea||isNaN(i.min)||isNaN(i.max))return;let l=(0,c.TL)({...i,coin1:ei,coin2:ea,ammPool:ey,reverse:!eg,maxDecimals:Math.max(ez,e3)}),s=t===ew.e6.Min,o=s?"priceLowerTick":"priceUpperTick";return n&&t?(eU.current[s?"lower":"upper"]=l[o],s&&m.ZP.setState({priceLowerTick:l[o],priceLower:l.priceLower}),s||m.ZP.setState({priceUpperTick:l[o],priceUpper:l.priceUpper})):(eU.current={lower:l.priceLowerTick,upper:l.priceUpperTick},m.ZP.setState(l)),l},[(0,U.ZP)(null==ei?void 0:ei.mint),(0,U.ZP)(null==ea?void 0:ea.mint),null==ey?void 0:ey.idString,eg,e3,ez]),tr=(0,l.useCallback)(e=>{let{p:t,isMin:n,isIncrease:i}=e;if(!ey||!ei||!ea)return;let l=eg?ei:ea,s=n?"lower":"upper",o=eU.current[s]+(i?ey.state.tickSpacing:-1*ey.state.tickSpacing)*e_,{price:r}=(0,c.Ek)({poolInfo:ey.state,baseIn:(0,v.aT)(ey.state.mintA.mint,null==l?void 0:l.mint),tick:o});return n&&(0,W.eg)(r.toFixed(20),eD.current.getPosition().max.toFixed(20))?(0,V.Z)(t):(eU.current[s]=o,n&&m.ZP.setState({priceLower:r,priceLowerTick:o}),n||m.ZP.setState({priceUpper:r,priceUpperTick:o}),r)},[null==ei?void 0:ei.mint,null==ea?void 0:ea.mint,null==ey?void 0:ey.idString,e_,ez]),ta=(0,Q.z)(()=>{eB({...m.ZP.getState(),coin1:ei,coin2:ea,coin1Amount:eo,coin2Amount:ed,coin1AmountFee:er,coin2AmountFee:ev,decimals:ez,totalDeposit:(0,O.Z)(tt),feeRate:null==ey?void 0:ey.ammConfig.tradeFeeRate,inRange:!eG.some(e=>e),currentPrice:ey?(0,S.eZ)(eq?ey.state.currentPrice:new o.Z(1).div(ey.state.currentPrice)):void 0,currentAmmPool:ey})}),tc=(0,l.useMemo)(()=>(0,W.eq)(eE.coin1Amount,eo)&&(0,W.eq)(eE.coin2Amount,ed),[eo,ed,eE]),td=(0,l.useCallback)(()=>{ta(),M()},[M,ei,ea,eo,ed,ez,tt,ey,eG]),tm=(0,l.useMemo)(()=>({isStable:(null==ey?void 0:ey.ammConfig.tradeFeeRate)===100,baseIn:eO,points:eW||[],initMinBoundaryX:null==e8?void 0:e8.priceLower,initMaxBoundaryX:null==e8?void 0:e8.priceUpper}),[eW,e8,null==ey?void 0:ey.ammConfig.tradeFeeRate,eO]),[tu,tp]=(0,l.useState)(),{Token2022FeeTooHighWarningChip:tx,isWarningChipOpen:tf}=(0,eb.I)([{token:ei,amount:eo},{token:ea,amount:ed}]),th=(0,l.useMemo)(()=>ei&&h(ei)?(0,q.n)(ei,(0,$.dC)(h(ei),.985),{alreadyDecimaled:!0}):void 0,[ei,h,b]),tb=(0,l.useMemo)(()=>ea&&h(ea)?(0,q.n)(ea,(0,$.dC)(h(ea),.985),{alreadyDecimaled:!0}):void 0,[ea,h,b]),[tv,tZ]=(0,l.useState)(!1);(0,l.useEffect)(()=>()=>tZ(!1),[(0,U.ZP)(null==ei?void 0:ei.mint)]);let[tg,tj]=(0,l.useState)(!1);return(0,l.useEffect)(()=>()=>tj(!1),[(0,U.ZP)(null==ea?void 0:ea.mint)]),(0,i.jsxs)(F.Z,{domRef:e5,wrapperClassName:"w-[min(912px,100%)] self-center cyberpunk-bg-light",className:"p-6 mobile:py-5 mobile:px-3",children:[(0,i.jsx)("div",{className:"absolute -left-8 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,i.jsx)(eL,{})}),(0,i.jsx)(el,{coin1:ei,coin2:ea,fee:(0,z.Z)(null==ey?void 0:ey.tradeFeeRate,{exact:!0}),focusSide:eZ,onChangeFocus:e=>m.ZP.setState({focusSide:e})}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row flex-gap-1 gap-3 mb-3",children:[(0,i.jsxs)(L.Z,{className:"gap-5 bg-dark-blue rounded-xl flex flex-col w-full sm:w-1/2 px-3 py-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between align-top mb-3",children:[(0,i.jsx)("div",{className:"text-base leading-[22px] text-secondary-title ",children:"Deposit Amount"}),(0,i.jsx)(R.Z,{disabled:k,refreshKey:"clmm-pools",freshFunction:()=>{eF(),eA()}})]}),(0,i.jsxs)("div",{ref:eX,className:"relative",children:[e0&&(0,i.jsx)(ec,{}),(0,i.jsx)(A.Z,{hideTransferFee:!0,className:"mb-4 py-2 mobile:py-1 px-3 mobile:px-2 border-1.5 border-[#abc4ff40]",disabled:J,disabledInput:!ey||e0,noDisableStyle:!0,componentRef:e$,value:ey?(0,X.B)(eo):void 0,haveHalfButton:!0,HTMLTitleTooltip:(0,U.ZP)(null==ei?void 0:ei.mint),topLeftLabel:ei?"".concat((0,U.ZP)(ei.mint).slice(0,5),"...").concat((0,U.ZP)(ei.mint).slice(-5)):void 0,haveCoinIcon:!0,maxValue:th,onPriceChange:e7,disableTokenSelect:!0,onUserInput:e=>{m.ZP.setState({coin1Amount:e,userCursorSide:"coin1"})},onEnter:e=>{var t,n,i,l;e&&(ea||null===(t=eY.current)||void 0===t||null===(n=t.selectToken)||void 0===n||n.call(t),ea&&ed&&(null===(i=eV.current)||void 0===i||null===(l=i.click)||void 0===l||l.call(i)))},token:ei})]}),(0,i.jsxs)("div",{ref:eJ,className:"relative",children:[e1&&(0,i.jsx)(ec,{}),(0,i.jsx)(A.Z,{hideTransferFee:!0,className:"py-2 mobile:py-1 px-3 mobile:px-2 border-1.5 border-[#abc4ff40]",componentRef:eY,disabled:J,disabledInput:!ey||e1,noDisableStyle:!0,value:ey?(0,X.B)(ed):void 0,HTMLTitleTooltip:(0,U.ZP)(null==ea?void 0:ea.mint),topLeftLabel:ea?"".concat((0,U.ZP)(ea.mint).slice(0,5),"...").concat((0,U.ZP)(ea.mint).slice(-5)):void 0,haveHalfButton:!0,haveCoinIcon:!0,maxValue:tb,onPriceChange:te,disableTokenSelect:!0,onEnter:e=>{var t,n,i,l;e&&(ei||null===(t=e$.current)||void 0===t||null===(n=t.selectToken)||void 0===n||n.call(t),ei&&eo&&(null===(i=eV.current)||void 0===i||null===(l=i.click)||void 0===l||l.call(i)))},onUserInput:e=>{m.ZP.setState({coin2Amount:e,userCursorSide:"coin2"})},token:ea})]}),tx({className:"pt-2"})]}),(0,i.jsxs)(L.Z,{className:"gap-4 border-1.5 border-[#abc4ff40]  rounded-xl p-3",children:[(0,i.jsxs)(L.Z,{className:"justify-between",children:[tl?(0,i.jsxs)(I.Z,{className:"mb-1 grid-cols-[2.5fr,2fr,2fr] items-center text-xs text-[#abc4ff]",children:[(0,i.jsx)("div",{}),(0,i.jsxs)(D.Z,{className:"justify-self-end items-center",children:[(0,i.jsx)("div",{children:"Token2022 Fee"}),(0,i.jsxs)(eh.Z,{children:[(0,i.jsx)(B.Z,{iconClassName:"ml-1",size:"xs",heroIconName:"question-mark-circle"}),(0,i.jsx)(eh.Z.Panel,{children:(0,i.jsx)("div",{className:"max-w-[200px] space-y-1.5 text-[#abc4ff]",children:"Tokens with a transfer fee below use the Token2022 program and have programmed a fee on all token interactions."})})]})]}),(0,i.jsx)("div",{className:"justify-self-end",children:"Final Deposit"})]}):void 0,(0,i.jsx)(L.Z,{className:"gap-1",children:[{side:"1",isToken2022:(0,eu.W)(ei),token:ei,disabled:e0,info:tn,rawAmount:eo},{side:"2",isToken2022:(0,eu.W)(ea),token:ea,disabled:e1,info:ti,rawAmount:ed}].map(e=>{let{isToken2022:t,token:n,disabled:l,info:s,rawAmount:o,side:r}=e;return l||!n?void 0:(0,i.jsxs)(I.Z,{className:"grid-cols-[2.5fr,2fr,2fr] items-center",children:[(0,i.jsxs)(D.Z,{className:"items-center gap-1 overflow-hidden",children:[(0,i.jsx)("div",{className:"font-medium text-white",children:null==n?void 0:n.symbol}),(0,i.jsx)(ef.Z,{size:"sm",token:n}),t&&(0,i.jsx)(ex.I,{})]}),(0,i.jsx)("div",{className:"justify-self-end font-medium text-xs text-[#abc4ff] ",children:tl?t?(0,i.jsx)(ep.j,{promise:s,fallback:"--",children:e=>(null==e?void 0:e.fee)?(0,i.jsx)("div",{children:(0,X.B)(e.fee)}):"-"}):"-":""}),(0,i.jsx)("div",{className:"justify-self-end font-medium text-white overflow-hidden",children:t&&(0,W.$u)(o)?(0,i.jsx)(ep.j,{promise:s,fallback:"--",onFullfilled:()=>{"1"===r?tZ(!0):tj(!0)},children:e=>(null==e?void 0:e.pure)?(0,i.jsx)("div",{children:(0,X.B)(e.pure,{decimalLength:n?"auto ".concat(n.decimals):void 0})}):void 0}):(0,i.jsx)("div",{children:(0,X.B)(o,{decimalLength:n?"auto ".concat(n.decimals):void 0})})})]},(0,U.ZP)(null==n?void 0:n.mint))})})]}),(0,i.jsxs)(D.Z,{className:"justify-between",children:[(0,i.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Total Deposit"}),(0,i.jsx)("span",{className:"text-lg leading-[18px]",children:ey&&((0,W.$u)(eo)||(0,W.$u)(ed))?(0,O.Z)(tt):"--"})]})]}),e0||e1?(0,i.jsx)(E.U,{children:(0,i.jsxs)("div",{className:"flex items-center p-3 bg-[#2C2B57] rounded-xl text-sm text-[#D6CC56]",children:[(0,i.jsx)(B.Z,{size:"sm",className:"mr-1.5",heroIconName:"exclamation-circle"}),"Your position will not trade or earn fees until price moves into your range."]})}):"",(0,i.jsx)(T.Z,{className:"frosted-glass-teal w-full mt-auto",componentRef:eV,isLoading:J,validators:[{should:P,forceActive:!0,fallbackProps:{onClick:()=>a.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:ey,fallbackProps:{children:"Pool Not Found"}},{should:(0,W.gt)((0,$.lu)(eS,eT),(0,$.hi)(eK,1e3)),fallbackProps:{children:"Range too small"}},{should:ei&&ea,fallbackProps:{children:"Select a token"}},{not:tf},{should:(0,W.$u)(eo)||(0,W.$u)(ed),fallbackProps:{children:"Enter an amount"}},{should:(!(0,eu.W)(ei)||tv)&&(!(0,eu.W)(ea)||tg),fallbackProps:{children:"Loading Token 2022 Info..."}},{not:null==ej?void 0:ej.eq(s.xEJ),fallbackProps:{children:"Token Amount Fail to Create Position"}},{should:e2,fallbackProps:{children:"Insufficient ".concat(null!==(u=null==ei?void 0:ei.symbol)&&void 0!==u?u:""," balance")}},{should:e4,fallbackProps:{children:"Insufficient ".concat(null!==(p=null==ea?void 0:ea.symbol)&&void 0!==p?p:""," balance")}}],onClick:()=>{td()},children:"Preview"}),(0,i.jsx)(es.a,{})]}),(0,i.jsxs)("div",{className:"relative bg-dark-blue min-h-[180px] rounded-xl w-full sm:w-1/2 px-3 py-4 ".concat(ey?"":"pointer-events-none select-none"),children:[!ey&&(0,i.jsx)("div",{className:"absolute inset-0 z-10 grid grid-child-center backdrop-blur-md text-[#abc4ff]",children:eP.length?"Pool Not Found":"Loading..."}),(0,i.jsx)(eN.Z,{poolFocusKey:eM,title:(0,i.jsx)("div",{className:"text-base leading-[22px] text-secondary-title mb-3",children:"Set Price Range"}),ref:eD,chartOptions:tm,currentPrice:eK,priceMin:eH[0],priceMax:eH[1],priceLabel:eg?"".concat(null==ea?void 0:ea.symbol," per ").concat(null==ei?void 0:ei.symbol):"".concat(null==ei?void 0:ei.symbol," per ").concat(null==ea?void 0:ea.symbol),timeBasis:en,decimals:ez,onPositionChange:to,onInDecrease:tr,onAdjustMin:ts,showZoom:!0,height:200}),(0,i.jsx)(eI,{})]})]}),(0,i.jsx)(ek,{onRefreshSnapshot:ta,isSnapshotDataFresh:tc,haveEnoughCoin1:e2,haveEnoughCoin2:e4,open:k,coin1:eE.coin1,coin2:eE.coin2,coin1Amount:eE.coin1Amount,coin1AmountFee:eE.coin1AmountFee,coin2Amount:eE.coin2Amount,coin2AmountFee:eE.coin2AmountFee,decimals:eE.decimals,position:null===(t=eD.current)||void 0===t?void 0:t.getPosition(),totalDeposit:null!==(f=eE.totalDeposit)&&void 0!==f?f:(0,O.Z)(0),feeRate:eE.feeRate,inRange:eE.inRange,currentPrice:eE.currentPrice,gettedNFTAddress:tu,onConfirm:e=>(0,d.Z)({...eE,onSuccess(e){let{nftAddress:t}=e;tp(t)}}),onBackToAllMyPools:()=>{eA(),(0,w.Eh)("/clmm/pools",{queryProps:{currentTab:m.u0.MY_POOLS}})},onClose:()=>{N(),tp(void 0)}})]})}function eI(e){let{className:t}=e,n=(0,m.ZP)(e=>e.currentAmmPool),l=(0,ed.HU)({ammPool:n}),s=(0,a.ZP)(e=>e.isMobile);return(0,i.jsxs)(L.Z,{className:(0,r.m)("bg-[#141041] py-3 my-1 rounded-xl gap-2",t),children:[(0,i.jsxs)(D.Z,{className:"items-center gap-2",children:[(0,i.jsx)("div",{className:"text-base leading-[22px] text-secondary-title",children:"Estimated APR"}),(0,i.jsx)(er.T,{}),(0,i.jsx)("div",{className:"font-medium text-base mobile:text-sm text-white",children:(0,z.Z)(null==l?void 0:l.apr)}),(0,i.jsx)(ea.n,{className:"ml-auto"})]}),n&&(0,i.jsx)(I.Z,{className:"border-1.5 border-[#abc4ff40] py-3 px-4 rounded-xl",children:(0,i.jsx)(eo.E,{type:"poolTickInfo",colCount:s?1:2,poolInfo:n})})]})}}},function(e){e.O(0,[4740,9916,7571,8667,7664,4109,5469,1164,4683,9774,2888,179],function(){return e(e.s=10073)}),_N_E=e.O()}]);