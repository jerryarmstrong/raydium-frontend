(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5355],{71716:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clmm/create-pool",function(){return n(34472)}])},6262:function(e,t,n){"use strict";n.d(t,{Ek:function(){return c},TL:function(){return u},vt:function(){return d},yc:function(){return m}});var i=n(5593),s=n(27713),l=n(4465),o=n(51523),a=n(84207);function r(e){let t=i.c2c.getPriceAndTick(e);return(0,s.JS)(t)}function c(e){let t=i.c2c.getTickPrice(e);return(0,s.JS)(t)}function d(e){let{coin1:t,coin2:n,reverse:i,ammPool:l,maxDecimals:c}=e;if(l)try{var d,m;let e=c||(t||n?Math.max(null!==(d=null==t?void 0:t.decimals)&&void 0!==d?d:0,null!==(m=null==n?void 0:n.decimals)&&void 0!==m?m:0):6),u=100===l.ammConfig.tradeFeeRate,p=u?.01:.2,x=(0,s.eZ)(null==l?void 0:l.state.currentPrice),f=(0,o.kg)(x?(0,o.dC)(x,1-p):0,1/10**e),v=(0,o.kg)(x?(0,o.dC)(x,1+p):0,1/10**e),{price:h,tick:b}=r({poolInfo:l.state,baseIn:!0,price:(0,s.I2)((0,a.Z)(f))}),{price:g,tick:Z}=r({poolInfo:l.state,baseIn:!0,price:(0,s.I2)((0,a.Z)(v))});if(i)return{priceLowerTick:Z,priceLower:(0,o.hi)(1,g),priceUpperTick:b,priceUpper:(0,o.hi)(1,h)};return{priceLowerTick:b,priceLower:h,priceUpperTick:Z,priceUpper:g}}catch(e){return}}function m(e){let{p:t,coin1:n,coin2:i,reverse:o,ammPool:c,maxDecimals:d}=e,m=o?i:n;try{let{price:e,tick:n}=r({poolInfo:c.state,baseIn:(0,l.aT)(c.state.mintA.mint,null==m?void 0:m.mint),price:(0,s.I2)((0,a.Z)(Math.max(Number(t),1/10**(null!=d?d:6))))});return{price:e,tick:n}}catch(e){return}}function u(e){let{min:t,max:n,coin1:i,coin2:s,reverse:l,ammPool:o,maxDecimals:a}=e,r=m({p:t,coin1:i,coin2:s,ammPool:o,reverse:l,maxDecimals:a}),c=m({p:n,coin1:i,coin2:s,ammPool:o,reverse:l,maxDecimals:a});return{priceLower:r.price,priceLowerTick:r.tick,priceUpper:c.price,priceUpperTick:c.tick}}},13039:function(e,t,n){"use strict";n.d(t,{B:function(){return b},Z:function(){return h}});var i=n(5593),s=n(8667),l=n(53002),o=n(34003),a=n(71375),r=n(72573),c=n(96662),d=n(42186),m=n(475),u=n(94678),p=n(62952),x=n(94355),f=n(14200),v=n(55469);async function h(){let e,{currentAmmPool:t=u.ZP.getState().currentAmmPool,coin1:n=u.ZP.getState().coin1,coin2:i=u.ZP.getState().coin2,coin1Amount:l=u.ZP.getState().coin1Amount,coin2Amount:o=u.ZP.getState().coin2Amount,coin1SlippageAmount:a=u.ZP.getState().coin1SlippageAmount,coin2SlippageAmount:c=u.ZP.getState().coin2SlippageAmount,priceLower:d=u.ZP.getState().priceLower,priceUpper:m=u.ZP.getState().priceUpper,priceLowerTick:h=u.ZP.getState().priceLowerTick,priceUpperTick:g=u.ZP.getState().priceUpperTick,liquidity:Z=u.ZP.getState().liquidity,onSuccess:j}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=(0,p.n)(n,l,{alreadyDecimaled:!0}),P=(0,p.n)(i,o,{alreadyDecimaled:!0}),S=[n,i].some(e=>(0,f.W)(e));if(S){let{hasConfirmed:s}=(0,v.e)({amount:[(0,f.W)(n)?y:void 0,(0,f.W)(i)?P:void 0],groupInfo:t&&d&&m?{ammPool:t,priceLower:d,priceUpper:m}:void 0,caseName:"openPosition"});e=await s}else e=!0;if(!e){x.Z.getState().logError("Canceled by User","The operation is canceled by user");return}return(0,s.ZP)(async e=>{var s,u;let{transactionCollector:p}=e,{innerTransactions:x,nftAddress:f}=await b({currentAmmPool:t,coin1:n,coin2:i,coin1Amount:l,coin2Amount:o,coin1SlippageAmount:a,coin2SlippageAmount:c,liquidity:Z,priceLower:d,priceUpper:m,priceLowerTick:h,priceUpperTick:g});p.add(x,{onTxAllSuccess(){null==j||j({nftAddress:f})},txHistoryInfo:{title:"Position Created",forceErrorTitle:"Error creating position",description:"Added ".concat((0,r.B)(l)," ").concat(null!==(s=null==n?void 0:n.symbol)&&void 0!==s?s:"--"," and ").concat((0,r.B)(o)," ").concat(null!==(u=null==i?void 0:i.symbol)&&void 0!==u?u:"--")}})})}async function b(){let{priceLower:e=u.ZP.getState().priceLower,priceUpper:t=u.ZP.getState().priceUpper,coin1:n=u.ZP.getState().coin1,coin2:s=u.ZP.getState().coin2,coin1Amount:r=u.ZP.getState().coin1Amount,coin2Amount:p=u.ZP.getState().coin2Amount,coin1SlippageAmount:x=u.ZP.getState().coin1SlippageAmount,coin2SlippageAmount:f=u.ZP.getState().coin2SlippageAmount,liquidity:v=u.ZP.getState().liquidity,priceLowerTick:h=u.ZP.getState().priceLowerTick,priceUpperTick:b=u.ZP.getState().priceUpperTick,currentAmmPool:g=u.ZP.getState().currentAmmPool}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.ZP.getState(),{tokenAccountRawInfos:Z}=l.Z.getState(),{connection:j}=c.ZP.getState(),{owner:y}=l.Z.getState();(0,o.Z)(j,"no rpc connection"),(0,o.Z)(y,"wallet not connected"),(0,o.Z)(g,"not seleted amm pool"),(0,o.Z)(void 0!==b,"not set priceUpperTick"),(0,o.Z)(void 0!==h,"not set priceLowerTick"),(0,o.Z)(t,"not set priceUpper"),(0,o.Z)(e,"not set priceLower"),(0,o.Z)(n,"not set coin1"),(0,o.Z)(x,"not set coin1Amount"),(0,o.Z)(s,"not set coin2"),(0,o.Z)(f,"not set coin2Amount"),(0,o.Z)(v,"not set liquidity");let P=(0,d.Dn)(n)||(0,d.Dn)(s),S=g.state.mintA.mint.equals(n.mint),N=(0,a.Z)(x,n.decimals,"up"),k=(0,a.Z)(f,s.decimals,"up"),{innerTransactions:w,address:C}=await i.c2c.makeOpenPositionFromLiquidityInstructionSimple({connection:j,liquidity:v,poolInfo:g.state,ownerInfo:{feePayer:y,wallet:y,tokenAccounts:Z,useSOLBalance:P},tickLower:Math.min(h,b),tickUpper:Math.max(h,b),amountMaxA:S?N:k,amountMaxB:S?k:N,slippage:.015,computeBudgetConfig:await (0,m.u)(),checkCreateATAOwner:!0});return{innerTransactions:w,nftAddress:String(C.nftMint)}}},475:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var i=n(62512);async function s(){var e;let t=await (0,i.Z)("https://solanacompass.com/api/fees",{cacheFreshTime:3e5}),{avg:n}=null!==(e=null==t?void 0:t[15])&&void 0!==e?e:{};if(n)return{units:4e5,microLamports:Math.min(Math.ceil(1e6*n/4e5),25e3)}}},54531:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(85893);n(67294);var s=n(66180),l=n(70745),o=n(51800);function a(e){let{token1:t,token2:n,size:a,className:r,CoinAvatar1:c,CoinAvatar2:d}=e;return(0,i.jsxs)(o.Z,{className:(0,s.m)("-space-x-1",r),children:[(0,i.jsx)(l.Z,{size:a,token:t,...c}),(0,i.jsx)(l.Z,{size:a,token:n,...d})]})}},40816:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(85893),s=n(67294),l=n(66180);function o(e){let{classNames:t,tabs:n,selectedValue:o,onChange:a,tabClassName:r}=e,c=(0,s.useCallback)(e=>{null==a||a(n.find(t=>t.value===e.currentTarget.dataset.val))},[a,n]);return(0,i.jsx)("div",{className:(0,l.m)("flex rounded-lg p-1 bg-dark-blue",t),children:n.map(e=>{let t=o===e.value;return(0,i.jsx)("div",{onClick:t?void 0:c,"data-val":e.value,className:(0,l.m)("flex text-xs text-[#39D0D8] ".concat(t?"bg-active-tab-bg cursor-default":"cursor-pointer opacity-50"),e.className),children:(0,i.jsx)("div",{className:"py-1 px-2.5",children:e.label})},e.value)})})}},18074:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(81451),s=n(51523),l=n(84207),o=n(72573),a=n(99881);function r(e,t){try{var n,r;let c=(0,l.Z)(null!=e?e:0),d=c.mul((null==t?void 0:t.alreadyPercented)?1:100).toFixed(null!==(n=null==t?void 0:t.fixed)&&void 0!==n?n:2);if((0,i.eq)(c,0))return"0%";if(!(null==t?void 0:t.exact)&&d===0..toFixed(null!==(r=null==t?void 0:t.fixed)&&void 0!==r?r:2))return(null==t?void 0:t.alwaysSigned)?"<+0.01%":"<0.01%";return(null==t?void 0:t.alwaysSigned)?"".concat((0,i.gt)(d,0)?"+":"-").concat((0,a.Z)((0,i.gt)(d,0)?(0,o.B)(d):(0,o.B)((0,s.dC)(d,-1))),"%"):"".concat((0,a.Z)(d,{fractionLength:null==t?void 0:t.fixed}),"%")}catch(e){return"0%"}}},7931:function(e,t,n){"use strict";n.d(t,{H:function(){return l}});var i=n(67294),s=n(12839);function l(e,t,n){var l;let o="all .4s cubic-bezier(0.4, 0, 0.2, 1)",[a,r]=(0,i.useState)(null!==(l=null==n?void 0:n.defaultHasWrapped)&&void 0!==l&&l);(0,i.useEffect)(function(){if(s.N9||!(null==n?void 0:n.defaultHasWrapped))return;let i=e.current,l=t.current;if(!i||!l)return;let o=i.getBoundingClientRect(),a=l.getBoundingClientRect(),r=a.top-o.top,c=o.top<a.top?1:-1;i.style.setProperty("transition",""),l.style.setProperty("transition",""),i.style.setProperty("transform","translateY(".concat(r*c,"px)")),l.style.setProperty("transform","translateY(".concat(-r*c,"px)"))},[]);let c=(0,i.useCallback)(()=>{let n=e.current,i=t.current;if(!n||!i)return;let s=n.getBoundingClientRect(),l=i.getBoundingClientRect(),c=l.top-s.top,d=s.top<l.top?1:-1;n.style.setProperty("transition",o),i.style.setProperty("transition",o),a?(n.style.setProperty("transform","translateY(0px)"),i.style.setProperty("transform","translateY(0px)"),r(!1)):(n.style.setProperty("transform","translateY(".concat(c*d,"px)")),i.style.setProperty("transform","translateY(".concat(-c*d,"px)")),r(!0))},[a,e,t]),d=(0,i.useCallback)(()=>{let n=e.current,i=t.current;n&&i&&(n.style.setProperty("transition",o),i.style.setProperty("transition",o),n.style.setProperty("transform","translateY(0px)"),i.style.setProperty("transform","translateY(0px)"))},[a,e,t]);return(0,i.useEffect)(()=>{let n=e.current,i=t.current,s=()=>{null==n||n.style.setProperty("pointerEvents","none")},l=()=>{null==n||n.style.setProperty("pointerEvents","")};return null==n||n.addEventListener("transitionstart",s),null==n||n.addEventListener("transitionend",l),null==i||i.addEventListener("transitionstart",s),null==i||i.addEventListener("transitionend",l),()=>{null==n||n.removeEventListener("transitionstart",s),null==n||n.removeEventListener("transitionend",l),null==i||i.removeEventListener("transitionstart",s),null==i||i.removeEventListener("transitionend",l)}},[e,t]),[a,{toggleSwap:c,resetSwapPosition:d}]}},58625:function(e,t,n){"use strict";n.d(t,{a:function(){return x}});var i=n(85893),s=n(53002),l=n(51523),o=n(81451),a=n(42186),r=n(72573),c=n(48162),d=n(28948),m=n(51800),u=n(92618),p=n(66180);function x(e){let{solLeastBalance:t,className:n,tooltipText:x}=e,f=(0,s.Z)(e=>e.solBalance),v=(0,l.hi)(f,10**a.Bk);return(0,i.jsx)(d.U,{children:v&&(0,o.lt)(v,null!=t?t:a.kn)&&(0,o.eg)(v,0)&&(0,i.jsxs)(m.Z,{className:(0,p.m)("text-sm mt-2 text-[#D8CB39] items-center justify-center",n),children:["SOL balance: ",(0,r.B)(v)," ",(0,i.jsxs)(u.Z,{placement:"bottom-right",children:[(0,i.jsx)(c.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,i.jsx)(u.Z.Panel,{children:(0,i.jsx)("p",{className:"w-80",children:null!=x?x:"SOL is needed for Solana network fees. A minimum balance of ".concat(null!=t?t:a.kn," SOL is\n                recommended to avoid failed transactions. This swap will leave you with less than \n                ").concat(null!=t?t:a.kn," SOL.")})})]})]})})}},34472:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eI}});var i,s,l=n(85893),o=n(91371),a=n(62512),r=n(72616),c=n(51523),d=n(26842),m=n(94678),u=n(59277);function p(){let e=(0,m.ZP)(e=>e.availableAmmConfigFeeOptions),t=(0,o.ZP)(e=>e.inDev),n=(0,u.ZP)(e=>e.apiUrls.ammV3Configs);(0,d.Z)(async()=>{if(null==e?void 0:e.length)return;let i=await (0,a.Z)(n),s=t?{AjUvAGNuLJiXXGRQ1uiH4v6fBUJm1zwjBwyfK1qe27Ce:{id:"AjUvAGNuLJiXXGRQ1uiH4v6fBUJm1zwjBwyfK1qe27Ce",index:0,protocolFeeRate:12e3,tradeFeeRate:100,fundFeeRate:100,fundOwner:"",tickSpacing:1,description:"Dev"},ABPi23j9qDjCeK5WwutWn6XG8sMRV7AiG1Z5bP8cViuz:{id:"ABPi23j9qDjCeK5WwutWn6XG8sMRV7AiG1Z5bP8cViuz",index:0,protocolFeeRate:12e3,tradeFeeRate:2500,fundFeeRate:2500,fundOwner:"",tickSpacing:60,description:"Dev"},"85JxuepKfJsmb29ZKThuod3yeBS4dXmsCQUbeo1utpeX":{id:"85JxuepKfJsmb29ZKThuod3yeBS4dXmsCQUbeo1utpeX",index:0,protocolFeeRate:12e3,tradeFeeRate:100,fundFeeRate:100,fundOwner:"",tickSpacing:10,description:"Dev"}}:null==i?void 0:i.data;s&&m.ZP.setState({availableAmmConfigFeeOptions:Object.values(s).map(e=>({...e,original:e,protocolFeeRate:(0,r.y)((0,c.hi)(e.protocolFeeRate,1e4),{alreadyDecimaled:!0}),tradeFeeRate:(0,r.y)((0,c.hi)(e.tradeFeeRate,1e4),{alreadyDecimaled:!0})}))})},[t,n])}var x=n(76961),f=n(31555),v=n(43067),h=n(54592),b=n(48162),g=n(57571),Z=n(51800),j=n(67294),y=n(5593),P=n(90482),S=n(66180),N=n(6262),k=n(34003),w=n(8667),C=n(13039),T=n(94355),A=n(14200),L=n(55469),F=n(62952);async function I(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.ZP.getState(),{coin1:n,coin2:i,coin1Amount:s,coin2Amount:l}=t,o=(0,F.n)(n,s,{alreadyDecimaled:!0}),a=(0,F.n)(i,l,{alreadyDecimaled:!0}),r=[n,i].some(e=>(0,A.W)(e)&&e);if(r){let{hasConfirmed:t}=(0,L.e)({amount:[o,a]});e=await t}else e=!0;if(!e){T.Z.getState().logError("Canceled by User","The operation is canceled by user");return}return(0,w.ZP)(async e=>{let{transactionCollector:n}=e,{tempDataCache:i}=m.ZP.getState();(0,k.Z)(i,"should create pool first");let{innerTransactions:s}=await (0,C.B)(t);n.add(i,{txHistoryInfo:{title:"Create pool",description:"create clmm pool"}}),n.add(s,{txHistoryInfo:{title:"Open pool position",description:"Open clmm pool position"}})})}var B=n(81451),U=n(71375),D=n(84207),M=n(72573),R=n(47511),E=n(96662),z=n(27713),O=n(475),q=n(19036),H=n(53002),W=n(1684);async function _(e){var t;let{timestamp:n}=e,{coin1:i,coin2:s,userSelectedAmmConfigFeeOption:l,userSettedCurrentPrice:o,focusSide:a,ammPoolStartTime:r}=m.ZP.getState(),{connection:d}=E.ZP.getState(),{owner:p}=H.Z.getState(),{programIds:x}=u.ZP.getState();(0,k.Z)(d,"connection is not ready"),(0,k.Z)(i,"not set coin1"),(0,k.Z)(s,"not set coin2"),(0,k.Z)(l,"not set userSelectedAmmConfigFeeOption"),(0,k.Z)(o,"not set userSettedCurrentPrice");let f=(0,B.$u)(o)?"coin1"===a?(0,D.Z)(o):(0,c.hi)(1,o):(0,D.Z)(0),v=(0,U.Z)((null!==(t=null==r?void 0:r.getTime())&&void 0!==t?t:0)/1e3),h=(0,A.D)(i.mint),b=(0,A.D)(s.mint),{innerTransactions:g,address:Z}=await y.c2c.makeCreatePoolInstructionSimple({connection:d,programId:x.CLMM,mint1:{programId:h,mint:i.mint,decimals:i.decimals},mint2:{programId:b,mint:s.mint,decimals:s.decimals},ammConfig:(0,q.R)(l.original),initialPrice:(0,z.I2)(f,15),owner:null!=p?p:R.nh.default,computeBudgetConfig:await (0,O.u)(),startTime:v}),j=y.c2c.makeMockPoolInfo({ammConfig:(0,q.R)(l.original),mint1:{programId:h,mint:i.mint,decimals:i.decimals},mint2:{programId:b,mint:s.mint,decimals:s.decimals},owner:null!=p?p:R.nh.default,programId:x.CLMM,createPoolInstructionSimpleAddress:Z,initialPrice:(0,z.I2)(f,15),startTime:v});return{mockedPoolInfo:j,makePoolInstruction:g}}var X=n(6994),J=n(70745),V=n(54531),$=n(97664),K=n(25194),Y=n(28948),G=n(60421),Q=n(72259),ee=n(18074),et=n(95865),en=n(4465),ei=n(14209),es=n(22305),el=n(47857),eo=n(99779),ea=n(7931),er=n(92224),ec=n(51488),ed=n(99023),em=n(58625),eu=n(87980),ep=n(52784),ex=n(3363),ef=n(92618);function ev(e){let{className:t}=e,n=(0,m.ZP)(e=>e.selectableAmmPools),i=null==n?void 0:n.map(e=>(0,ex.ZP)(e.ammConfig.id)),s=(0,m.ZP)(e=>e.userSelectedAmmConfigFeeOption),o=(0,m.ZP)(e=>e.availableAmmConfigFeeOptions);return p(),(0,ep.Z)(!0),!function(){let e=(0,m.ZP)(e=>e.coin1),t=(0,m.ZP)(e=>e.coin2),n=(0,m.ZP)(e=>e.selectableAmmPools),i=null==n?void 0:n.map(e=>(0,ex.ZP)(e.ammConfig.id)),s=(0,m.ZP)(e=>e.availableAmmConfigFeeOptions),l=null==s?void 0:s.filter(e=>!(null==i?void 0:i.includes(e.id))),o=null==l?void 0:l.map(e=>e.id).join("_");(0,j.useEffect)(()=>{if(l&&e&&t){let e=l.find(e=>(0,B.eq)(e.tradeFeeRate,.0025));m.ZP.setState({userSelectedAmmConfigFeeOption:e})}else m.ZP.setState({userSelectedAmmConfigFeeOption:void 0})},[o,e,t])}(),(0,l.jsx)(eh,{configs:o,current:s,existIds:i,className:t})}function eh(e){let{configs:t,current:n,existIds:i,className:s}=e,o=(0,m.ZP)(e=>e.coin1),a=(0,m.ZP)(e=>e.coin2);return(0,l.jsx)(Z.Z,{className:(0,S.m)("gap-2 item-grow",s),children:null==t?void 0:t.map(e=>{let t=e.id===(null==n?void 0:n.id),s=null==i?void 0:i.includes(e.id),r=o&&a&&!s;return(0,l.jsxs)(ef.Z,{className:"grow",disable:!s,children:[(0,l.jsxs)("div",{className:"relative grow items-stretch px-1.5 py-2 ".concat(t?"ring-inset ring-1.5 ring-[#abc4ff]":"ring-inset ring-1.5 ring-[#abc4ff60]"," rounded-xl ").concat(r?"clickable-no-transform select-none":"opacity-30 cursor-not-allowed"),onClick:()=>{r&&m.ZP.setState({userSelectedAmmConfigFeeOption:e})},children:[t?(0,l.jsx)("div",{className:"absolute p-0.5 rounded-full right-1 top-1 -translate-y-1/2 translate-x-1/2 z-10 text-[#abc4ff] bg-[#18225d]",children:(0,l.jsx)(b.Z,{heroIconName:"check-circle",size:"smi"})}):null,(0,l.jsx)("div",{className:"text-white font-medium text-sm mb-2",children:(0,ee.Z)(e.tradeFeeRate,{fixed:4})}),(0,l.jsx)("div",{className:"text-[#abc4ff80] text-xs",children:e.description})]}),(0,l.jsx)(ef.Z.Panel,{children:"Already created"})]},e.id)})})}var eb=n(65927),eg=n(48678),eZ=n(56419);let ej=e=>Math.min(e+2,15);function ey(e){var t,n,i,s;let{startTime:o,open:a,coin1:r,coin2:d,coin1Amount:m,coin2Amount:u,coin1AmountFee:p,coin2AmountFee:x,focusSide:f,decimals:g,currentPrice:y,position:P,totalDeposit:N,inRange:k,feeRate:w,onConfirm:C,onClose:T}=e,A=j.useRef(!1),L=Math.min(g,6),F=j.useCallback(e=>{null==C||C(e),A.current=!0},[T]),I=j.useCallback(()=>{T()},[T]),U=(0,M.B)(null==P?void 0:P.min,{decimalLength:15,maxSignificantCount:ej(L)}),D=(0,M.B)(null==P?void 0:P.max,{decimalLength:15,maxSignificantCount:ej(L)}),R=(null!==(i=null===(t=(0,es.Z)(U).dec)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>10,E=(null!==(s=null===(n=(0,es.Z)(D).dec)||void 0===n?void 0:n.length)&&void 0!==s?s:0)>10;return(0,l.jsx)(eb.Z,{open:a,onClose:I,children:e=>{var t,n;let{close:i}=e;return(0,l.jsxs)(X.Z,{className:(0,S.m)("p-6 mobile:py-4 mobile:px-2 rounded-3xl w-[min(480px,95vw)] mx-8 border-1.5 border-[rgba(171,196,255,0.2)]  bg-cyberpunk-card-bg shadow-cyberpunk-card"),size:"lg",children:[(0,l.jsxs)(Z.Z,{className:"justify-between items-center mb-6 mobile:mb-3",children:[(0,l.jsxs)("div",{className:"text-xl font-semibold text-white mobile:text-base",children:["Preview Deposit to ",null==r?void 0:r.symbol," / ",null==d?void 0:d.symbol]}),(0,l.jsx)(b.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:i})]}),(0,l.jsxs)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"My Position"}),(0,l.jsxs)("div",{className:"text-sm flex leading-[18px] flex-col pt-2.5",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2.5",children:[(0,l.jsxs)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:[(0,l.jsx)(J.Z,{className:"inline-block mr-1",size:"sm",token:r}),null==r?void 0:r.symbol]}),(0,l.jsxs)(h.Z,{className:"items-end",children:[(0,l.jsxs)("span",{children:[(0,M.B)(m)," ",null==r?void 0:r.symbol]}),(0,B.$u)(p)&&(0,l.jsxs)(Z.Z,{className:"text-xs text-[#abc4ff80] gap-0.5 items-center",children:[(0,l.jsxs)("span",{children:["Position: ",(0,M.B)((0,c.h9)(m,p))," + "]}),(0,l.jsxs)(Z.Z,{className:"text-[#D8CB39] font-medium gap-0.5 items-center",children:[(0,l.jsx)("span",{children:"Fee"}),(0,l.jsxs)(ef.Z,{children:[(0,l.jsx)(b.Z,{size:"xs",heroIconName:"information-circle"}),(0,l.jsx)(ef.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:"This token uses the Token-2022 program and includes a transfer fee set by the token creator. These are the final deposit amounts for the position and the transfer fee."})})]}),(0,l.jsxs)("span",{children:[": ",(0,M.B)(p)]})]})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:[(0,l.jsx)(J.Z,{className:"inline-block mr-1",size:"sm",token:d}),null==d?void 0:d.symbol]}),(0,l.jsxs)(h.Z,{className:"items-end",children:[(0,l.jsxs)("span",{children:[(0,M.B)(u)," ",null==d?void 0:d.symbol]}),(0,B.$u)(x)&&(0,l.jsxs)(Z.Z,{className:"text-xs text-[#abc4ff80] gap-0.5 items-center",children:[(0,l.jsxs)("span",{children:["Position: ",(0,M.B)((0,c.h9)(u,x))," + "]}),(0,l.jsxs)(Z.Z,{className:"text-[#D8CB39] font-medium gap-0.5 items-center",children:[(0,l.jsx)("span",{children:"Fee"}),(0,l.jsxs)(ef.Z,{children:[(0,l.jsx)(b.Z,{size:"xs",heroIconName:"information-circle"}),(0,l.jsx)(ef.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:"This token uses the Token-2022 program and includes a transfer fee set by the token creator. These are the final deposit amounts for the position and the transfer fee."})})]}),(0,l.jsxs)("span",{children:[": ",(0,M.B)(x)]})]})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between mt-2 pl-1",children:[(0,l.jsx)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:"Fee tier"}),(0,l.jsx)("span",{children:w})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsxs)("div",{className:"text-sm flex justify-between leading-[18px] mb-2 font-medium mobile:text-xs",children:[(0,l.jsx)("span",{className:"flex text-sm leading-[18px] text-secondary-title mr-2",children:"Current Price"}),y?(0,eg.C)((0,M.B)(y,{decimalLength:15})):"0"," ",null===(t="coin1"===f?d:r)||void 0===t?void 0:t.symbol," per ",null===(n="coin1"===f?r:d)||void 0===n?void 0:n.symbol]}),(0,l.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Selected Range"}),(0,l.jsx)("span",{children:k?(0,l.jsxs)(Z.Z,{className:"items-center bg-[#142B45] rounded text-xs text-[#39D0D8] py-0.5 px-1 ml-2",children:[(0,l.jsx)(b.Z,{size:"xs",iconSrc:"/icons/check-circle.svg"}),(0,l.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"In Range"})]}):(0,l.jsxs)(Z.Z,{className:"items-center bg-[#DA2EEF]/10 rounded text-xs text-[#DA2EEF] py-0.5 px-1 ml-2",children:[(0,l.jsx)(b.Z,{size:"xs",iconSrc:"/icons/warn-stick.svg"}),(0,l.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"Out of Range"})]})})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("div",{className:"border-1.5 justify-center text-center flex-1 border-light-blue-opacity rounded-xl p-3 mobile:p-2",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Min Price"}),(0,l.jsx)("div",{className:"my-3 ".concat(R?"text-lg mobile:text-sm":"text-xl mobile:text-base"),children:U}),(0,l.jsxs)("div",{className:"text-sm text-[#abc4ff80]",children:[null==d?void 0:d.symbol," per ",null==r?void 0:r.symbol]})]}),(0,l.jsxs)("div",{className:"border-1.5 justify-center text-center flex-1 border-light-blue-opacity rounded-xl p-3 mobile:p-2",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Max Price"}),(0,l.jsx)("div",{className:"my-3 ".concat(E?"text-lg mobile:text-sm":"text-xl mobile:text-base"),children:D}),(0,l.jsxs)("div",{className:"text-sm text-[#abc4ff80]",children:[null==d?void 0:d.symbol," per ",null==r?void 0:r.symbol]})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Total Deposit"}),(0,l.jsx)("span",{className:"text-lg",children:N})]}),o&&(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Start Time"}),(0,l.jsx)("span",{className:"",children:(0,eZ.xn)(o)})]})]}),(0,l.jsx)(h.Z,{className:"items-center mt-5 mobile:mt-3",children:(0,l.jsx)("div",{className:"self-stretch",children:(0,l.jsx)(h.Z,{children:(0,l.jsx)(v.Z,{className:"frosted-glass-teal",onClick:()=>F(i),children:"Create Pool and Deposit"})})})})]})}})}function eP(){return(0,l.jsx)("div",{className:"flex mb-4 px-5 h-[91px] mobile:h-[75px] items-center text-secondary-title opacity-50 bg-dark-blue rounded-xl",children:"Select Token"})}function eS(){return(0,l.jsxs)("div",{className:"absolute text-sm flex flex-col text-center justify-center items-center p-2 w-full h-full bg-[#141041] bg-opacity-80 z-10 rounded-xl",children:[(0,l.jsx)(b.Z,{className:"mb-1",heroIconName:"lock-closed",size:"sm"}),"Current price is outside your selected range. Single-asset deposit only."]})}function eN(e){let{decimals:t,minValue:n,maxValue:i,onPriceChange:o,onInDecrease:a,onBlur:r}=e;return(0,l.jsxs)("div",{className:"flex gap-2.5",children:[(0,l.jsx)(Q.Z,{className:"grow",label:"Min Price",decimalMode:!0,showPlusMinusControls:!0,decimalCount:t,value:n,maxN:i?Number(i):void 0,onBlur:()=>null==r?void 0:r({side:s.Low,val:n}),increaseFn:()=>a({val:n,side:s.Low,isIncrease:!0}),decreaseFn:()=>a({val:n,side:s.Low,isIncrease:!1}),onUserInput:(e,t)=>{let{triggerBy:n}=t;e&&"increase-decrease"!==n&&o({val:e,side:s.Low})}}),(0,l.jsx)(Q.Z,{className:"grow",label:"Max Price",decimalMode:!0,showPlusMinusControls:!0,decimalCount:t,value:i,minN:n?Number(n):void 0,onBlur:()=>null==r?void 0:r({side:s.Upper,val:i}),increaseFn:()=>a({val:i,side:s.Upper,isIncrease:!0}),decreaseFn:()=>a({val:i,side:s.Upper,isIncrease:!1}),onUserInput:(e,t)=>{let{triggerBy:n}=t;e&&"increase-decrease"!==n&&o({val:e,side:s.Upper})}})]})}(i=s||(s={})).Low="priceLower",i.Upper="priceUpper";var ek=n(40816);let ew="mobile:justify-center mobile:w-1/2";function eC(e){let{coin1:t,coin2:n,focusSide:i,onChangeFocus:s}=e,o=(0,j.useMemo)(()=>{let e=[];return t&&e.push({label:"".concat(t.symbol||"Unknown"," price"),value:t.id,className:ew}),n&&e.push({label:"".concat(n.symbol||"Unknown"," price"),value:n.id,className:ew}),e},[t,n]),a=(0,j.useCallback)(e=>{s(e.value===n.id?"coin2":"coin1")},[n]);return(0,l.jsx)("div",{className:"flex justify-between items-center mobile:flex-col mobile:items-baseline mobile:mb-3",children:t&&n&&(0,l.jsx)(ek.Z,{classNames:"ml-4 mobile:w-full mobile:ml-0",tabs:o,selectedValue:"coin1"===i?t.id:null==n?void 0:n.id,onChange:a})})}let eT=e=>{let{side:t,price:n,tick:i}=e;return t===s.Low?{[t]:n,priceLowerTick:i}:{[t]:n,priceUpperTick:i}};function eA(){var e,t,n,i,a,r,d,u,p;!function(){let{coin1:e,coin2:t,userSelectedAmmConfigFeeOption:n,userSettedCurrentPrice:i,ammPoolStartTime:s}=(0,m.ZP)(),l=(0,E.ZP)(e=>e.connection),o=(0,H.Z)(e=>e.owner),a=(0,j.useRef)(-1);(0,j.useEffect)(()=>{if(l&&e&&t&&i&&n){let e=globalThis.performance.now();a.current=Math.max(e,a.current),_({timestamp:globalThis.performance.now()}).then(t=>{let{mockedPoolInfo:n,makePoolInstruction:i}=t;a.current<=e&&m.ZP.setState({tempDataCache:i,currentAmmPool:(0,W.Z)({state:n})})}).catch(()=>{m.ZP.setState({tempDataCache:void 0,currentAmmPool:void 0})})}},[(0,M.B)(i),e,t,n,i,s,o,l])}();let[x,{off:g,on:k}]=(0,er.ZP)(!1),w=(0,o.ZP)(e=>e.isMobile),C=(0,H.Z)(e=>e.connected),A=(0,H.Z)(e=>e.checkWalletHasEnoughBalance),L=(0,T.Z)(e=>e.popConfirm),R=(0,o.ZP)(e=>e.isApprovePanelShown),z=(0,m.ZP)(e=>e.currentAmmPool),O=(0,m.ZP)(e=>e.coin1),q=(0,m.ZP)(e=>e.coin2),J=(0,m.ZP)(e=>e.coin1Amount),eu=(0,m.ZP)(e=>e.coin2Amount);(0,m.ZP)(e=>e.coin1AmountFee),(0,m.ZP)(e=>e.coin2AmountFee);let ep=(0,m.ZP)(e=>e.liquidity),ex=(0,m.ZP)(e=>e.focusSide),ef="coin1"===ex,eh=(0,m.ZP)(e=>e.priceLower),eb=(0,m.ZP)(e=>e.priceUpper),eg=(0,m.ZP)(e=>e.ammPoolStartTime),eZ=(0,m.ZP)(e=>e.userSettedCurrentPrice),ej=(0,m.ZP)(e=>e.userSelectedAmmConfigFeeOption),ek=(null===(e=(0,es.Z)((0,ei.Lu)((null==eZ?void 0:eZ.toString())||"")).dec)||void 0===e?void 0:e.length)||0,ew=(0,j.useRef)({[s.Low]:void 0,[s.Upper]:void 0}),eA=(0,j.useRef)(),eF=(0,j.useRef)(),[eI,eB]=(0,j.useState)([]),[eU,eD]=(0,j.useState)({[s.Low]:void 0,[s.Upper]:void 0}),eM=(0,j.useCallback)(e=>eB(t=>[new P.Z((null==e?void 0:e.numerator.toString())||0).div((null==e?void 0:e.denominator.toString())||1).toFixed(20),t[1]]),[]),eR=(0,j.useCallback)(e=>eB(t=>[t[0],new P.Z((null==e?void 0:e.numerator.toString())||0).div((null==e?void 0:e.denominator.toString())||1).toFixed(20)]),[]),eE="".concat(null==z?void 0:z.idString,"-").concat(ex),ez=(0,j.useMemo)(()=>eI.filter(e=>!!e).reduce((e,t)=>e.add((0,D.Z)(t)),(0,D.Z)(0)),[eI]),eO=O||q?Math.max(null!==(n=null==O?void 0:O.decimals)&&void 0!==n?n:0,null!==(i=null==q?void 0:q.decimals)&&void 0!==i?i:0):6,eq=(0,en.aT)(null==z?void 0:z.state.mintA.mint,O),eH=(0,j.useMemo)(()=>Math.pow(-1,eq?ef?0:1:ef?1:0),[eq,ef]),[eW,e_]=(0,j.useState)({}),eX=(0,el.z)(()=>{e_({...m.ZP.getState()}),k()});(0,j.useEffect)(()=>{z&&(eF.current=z)},[z]),(0,j.useEffect)(()=>()=>{m.ZP.getState().userSettedCurrentPrice&&m.ZP.setState({userSettedCurrentPrice:(0,c.hi)(1,m.ZP.getState().userSettedCurrentPrice)})},[ex]);let eJ=z&&void 0!==eZ&&void 0!==eh&&void 0!==eb?[(0,U.Z)(eb||0,eO).lt((0,U.Z)(eZ||0,eO)),(0,U.Z)(eh||0,eO).gt((0,U.Z)(eZ||0,eO))]:[!1,!1];ef||eJ.reverse();let[eV,e$]=eJ,eK=(0,j.useRef)(null),eY=(0,j.useRef)(null),[,{toggleSwap:eG}]=(0,ea.H)(eK,eY);(0,eo.P)(e=>{let[t]=e;t&&t!==ex&&eG()},[ex]);let eQ=(0,j.useCallback)(e=>Number((0,D.Z)(e).toFixed(Math.max(eO+2,ek))),[ek,eO]);(0,j.useEffect)(()=>()=>m.ZP.setState({focusSide:"coin1",userCursorSide:"coin1",totalDeposit:void 0}),[]),(0,j.useEffect)(()=>m.ZP.setState({totalDeposit:ez}),[ez]);let e0=(0,j.useRef)(!1),e1=!O||!q||!z,e2=(0,j.useCallback)(e=>m.ZP.setState({focusSide:e}),[]),e5=(0,j.useCallback)((e,t)=>m.ZP.setState({[t]:e}),[]),e4=(0,el.z)(e=>{let{side:t,val:n}=e;if(e1)return;let i=(0,N.yc)({p:n,coin1:O,coin2:q,reverse:!ef,ammPool:z});i&&(ew.current[t]=i.tick,eD(e=>({...e,[t]:eQ(n)})),e0.current=!0)});(0,j.useEffect)(()=>{var e,t;if(!eZ){eD({[s.Low]:void 0,[s.Upper]:void 0});return}e3({side:s.Upper,val:null===(e=(0,c.dC)(eZ,1.5))||void 0===e?void 0:e.toFixed(20),skipCheck:!0,noTimeOut:!0}),e3({side:s.Low,val:null===(t=(0,c.dC)(eZ,.5))||void 0===t?void 0:t.toFixed(20),skipCheck:!0})},[eZ,e4,eE,eO]);let e8=(0,el.z)(()=>{if(z&&void 0!==eU[s.Low]&&void 0!==eU[s.Upper]&&eU[s.Low]>=eU[s.Upper]){let e=ef?O:q,t=ew.current[s.Upper]-z.state.tickSpacing*eH,{price:n,tick:i}=(0,N.Ek)({poolInfo:z.state,baseIn:(0,en.aT)(z.state.mintA.mint,null==e?void 0:e.mint),tick:t});ew.current[s.Low]=i,m.ZP.setState({priceLowerTick:i,priceLower:n}),eD(e=>({...e,[s.Low]:eQ(n)}))}}),e3=(0,j.useCallback)(e=>{let{side:t,val:n,skipCheck:i,noTimeOut:s}=e;if(!z||!O||!q||!n)return;let l=()=>{if(e0.current||i){let e=(0,N.yc)({p:n,coin1:O,coin2:q,reverse:!ef,ammPool:z});if(!e)return;ew.current[t]=e.tick,eD(n=>({...n,[t]:eQ(e.price)})),m.ZP.setState(eT({side:t,price:e.price,tick:e.tick}))}e0.current=!1,i||e8()};eA.current=s?l():window.setTimeout(l,200)},[O,q,null==z?void 0:z.idString,ef,eQ]),e6=(0,el.z)(e=>{let{val:t,side:n,isIncrease:i}=e;if(!z||!O||!q||!t)return 0;eA&&clearTimeout(eA.current),e0.current=!1;let l=ef?O:q,o=ew.current[n]+(i?z.state.tickSpacing:-1*z.state.tickSpacing)*Math.pow(-1,eq?ef?0:1:ef?1:0),{price:a}=(0,N.Ek)({poolInfo:z.state,baseIn:(0,en.aT)(z.state.mintA.mint,null==l?void 0:l.mint),tick:o}),r=Number(a.toFixed(eO));return n===s.Low&&r>=eU[s.Upper]?Number(t):(ew.current[n]=o,m.ZP.setState(eT({side:n,price:a,tick:o})),eD(e=>({...e,[n]:r})),r)}),{ratio1:e7,ratio2:e9}=(0,ed.dO)({currentPrice:null!=eZ?(0,D.Z)(eZ):eZ,coin1InputDisabled:eV,coin2InputDisabled:e$,coin1Amount:J,coin2Amount:eu}),te=O&&A((0,F.n)(O,J,{alreadyDecimaled:!0})),tt=q&&A((0,F.n)(q,eu,{alreadyDecimaled:!0})),{Token2022FeeTooHighWarningChip:tn,isWarningChipOpen:ti}=(0,ec.I)([{token:O,amount:J},{token:q,amount:eu}]);return(0,l.jsxs)(X.Z,{className:(0,S.m)("flex mobile:flex-col gap-4 p-6 mobile:py-4 mobile:px-2 rounded-3xl w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card"),size:"lg",children:[(0,l.jsxs)(h.Z,{className:"gap-6 w-1/2 mobile:w-full border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] mb-2",children:"Select Tokens"}),(0,l.jsxs)(G.Z,{className:"grid-cols-2 gap-4",children:[(0,l.jsx)(eL,{title:"Base Token",turnOnTokenVerification:!0,tokenKey:"coin1",onSelectToken:e5,token:O,disableTokens:q?[q]:void 0}),(0,l.jsx)(eL,{title:"Quote Token",turnOnTokenVerification:!0,tokenKey:"coin2",onSelectToken:e5,token:q,disableTokens:O?[O]:void 0})]}),tn({className:"pt-4"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] mb-2",children:"Select Fee"}),(0,l.jsx)(ev,{})]}),(0,l.jsxs)(h.Z,{className:"gap-4",children:[(0,l.jsxs)(Z.Z,{className:"mb-1 justify-between",children:[(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] my-1",children:"Set Starting Price"}),(0,l.jsx)(eC,{coin1:O,coin2:q,focusSide:ex,onChangeFocus:e2})]}),(0,l.jsx)("div",{className:"text-xs bg-[#abc4ff14] p-3 rounded-xl text-[#abc4ff] leading-5",children:"To initialize and create the pool, first set the starting price. Then, enter your price range and deposit amounts."}),(0,l.jsx)(Q.Z,{decimalMode:!0,inputClassName:"text-right",prefix:(0,l.jsxs)("span",{className:"text-base text-secondary-title opacity-50",children:["Current ",ef?null==O?void 0:O.symbol:null==q?void 0:q.symbol," Price"]}),suffix:(0,l.jsx)("span",{className:"text-xs text-secondary-title opacity-50",children:ef?null==q?void 0:q.symbol:null==O?void 0:O.symbol}),value:eZ,decimalCount:15,onUserInput:e=>{m.ZP.setState({userSettedCurrentPrice:e})}})]}),(0,l.jsxs)("div",{className:z?"":"opacity-50",children:[(0,l.jsx)("div",{className:"text-secondary-title font-medium mb-2",children:"Set Price Range"}),(0,l.jsx)(eN,{decimals:Math.max(null!==(a=null===(t=(0,es.Z)(eZ).dec)||void 0===t?void 0:t.length)&&void 0!==a?a:0,eO),minValue:(0,M.B)(eU[s.Low]),maxValue:(0,M.B)(eU[s.Upper]),onBlur:e3,onPriceChange:e4,onInDecrease:e6})]}),(eV||e$)&&(0,l.jsx)(Y.U,{children:(0,l.jsxs)("div",{className:"flex items-center p-3 bg-[#2C2B57] rounded-lg text-xs text-[#D6CC56]",children:[(0,l.jsx)(b.Z,{size:"sm",className:"mr-1.5",heroIconName:"exclamation-circle"}),"Your position will not trade or earn fees until price moves into your range."]})})]}),(0,l.jsxs)(h.Z,{className:"gap-4 w-1/2 mobile:w-full border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsxs)("div",{className:z?"":"opacity-50 pointer-events-none",children:[(0,l.jsx)(Z.Z,{className:"text-secondary-title justify-between mb-2",children:(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] my-1",children:"Deposit Amount"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"relative",ref:eK,children:[eV&&(0,l.jsx)(eS,{}),O?(0,l.jsx)($.Z,{hideTransferFee:!0,className:"mb-4 mobile:mt-0 py-2 mobile:py-1 px-3 mobile:px-2",disabled:R,disabledInput:!z,noDisableStyle:!0,value:z?(0,M.B)(J):void 0,haveHalfButton:!0,haveCoinIcon:!0,onPriceChange:eM,onUserInput:e=>{m.ZP.setState({coin1Amount:e,userCursorSide:"coin1"})},token:O,onCalculateTransferFee:e=>{m.ZP.setState({coin1AmountFee:e})}}):(0,l.jsx)(eP,{})]}),(0,l.jsxs)("div",{className:"relative",ref:eY,children:[e$&&(0,l.jsx)(eS,{}),q?(0,l.jsx)($.Z,{hideTransferFee:!0,className:"py-2 mobile:py-1 px-3 mobile:px-2",disabled:R,noDisableStyle:!0,value:z?(0,M.B)(eu):void 0,haveHalfButton:!0,haveCoinIcon:!0,onPriceChange:eR,onUserInput:e=>{m.ZP.setState({coin2Amount:e,userCursorSide:"coin2"})},token:q,onCalculateTransferFee:e=>{m.ZP.setState({coin2AmountFee:e})}}):(0,l.jsx)(eP,{})]})]})]}),(0,l.jsxs)("div",{className:"".concat(z?"":"opacity-50 pointer-events-none"," border-1.5 border-[#abc4ff80]  rounded-xl px-3 py-4"),children:[(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Total Deposit"}),(0,l.jsx)("span",{className:"text-lg leading-[18px]",children:z&&((0,B.$u)(J)||(0,B.$u)(eu))?(0,et.Z)(ez):"--"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Deposit Ratio"}),(0,l.jsxs)("span",{className:"text-lg flex leading-[18px]",children:[z&&(0,l.jsx)(V.Z,{size:"sm",token1:O,token2:q}),z&&((0,B.$u)(J)||(0,B.$u)(eu))?"".concat(null!==(r=(0,ee.Z)(e7))&&void 0!==r?r:"--"," / ").concat(null!==(d=(0,ee.Z)(e9))&&void 0!==d?d:"--"):"--"]})]})]}),(0,l.jsx)(K.Z,{className:"".concat(z?"":"opacity-50 pointer-events-none"," mb-8"),label:"Start time (Optional):",disableDateBeforeCurrent:!0,canEditSeconds:!0,onDateChange:e=>m.ZP.setState({ammPoolStartTime:e}),showTime:{format:"HH:mm:ss"}}),(0,l.jsxs)(h.Z,{className:"gap-4 mt-auto",children:[(0,l.jsxs)("div",{className:"flex items-center text-xs p-[12px] rounded-lg text-secondary-title bg-[rgba(171,196,255,0.08)] mt-auto",children:[(0,l.jsx)(b.Z,{size:"sm",heroIconName:"information-circle"}),(0,l.jsxs)("div",{className:"ml-2.5",children:[(0,l.jsx)("span",{className:"font-medium",children:"SOL network fee"}),": Estimated transaction fee for creating a pool is approximately 0.3 SOL, but may vary depending on transaction size."]})]}),(0,l.jsx)(v.Z,{className:"frosted-glass-teal mobile:w-full",size:w?"sm":"lg",validators:[{should:C,forceActive:!0,fallbackProps:{onClick:()=>o.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:O&&q},{not:ti},{should:z,fallbackProps:{children:"Fail to find this pool"}},{should:(0,B.$u)(eZ),fallbackProps:{children:"Input Price"}},{should:ej,fallbackProps:{children:"Select a fee option"}},{should:(0,B.$u)(J)||(0,B.$u)(eu),fallbackProps:{children:"Input Token Amount"}},{not:(0,B.$u)(ef?J:eu)&&ep&&ep.eq(y.xEJ),fallbackProps:{children:"Token Amount Fail to Create Pool"}},{should:te,fallbackProps:{children:"Insufficient ".concat(null!==(u=null==O?void 0:O.symbol)&&void 0!==u?u:""," balance")}},{should:tt,fallbackProps:{children:"Insufficient ".concat(null!==(p=null==q?void 0:q.symbol)&&void 0!==p?p:""," balance")}}],onClick:()=>{eX()},children:"Preview Pool"}),(0,l.jsx)(em.a,{tooltipText:"SOL is needed for Solana network fees. A minimum balance of 1 SOL is recommended when creating a pool to avoid failed transactions.",solLeastBalance:1,className:"my-0"})]})]}),(0,l.jsx)(ey,{open:x,coin1:eW.coin1,coin2:eW.coin2,coin1Amount:eW.coin1Amount,coin2Amount:eW.coin2Amount,coin1AmountFee:eW.coin1AmountFee,coin2AmountFee:eW.coin2AmountFee,focusSide:ex,decimals:eO,currentPrice:(0,D.Z)(eZ),startTime:eg,position:{min:(0,D.Z)(eW.priceLower).toFixed(eO),max:(0,D.Z)(eW.priceUpper).toFixed(eO)},totalDeposit:(0,et.Z)(ez),onClose:g,inRange:!eJ.find(e=>e),feeRate:(0,ee.Z)(null==ej?void 0:ej.tradeFeeRate),onConfirm:()=>{I(eW).then(e=>{g(),(null==e?void 0:e.allSuccess)&&(m.ZP.getState().refreshConcentrated(),L({type:"success",title:"Pool created successfully!",description:"Do you want to create a farm based on this pool?",confirmButtonIsMainButton:!0,confirmButtonText:"Create Farm",cancelButtonText:"Not Now",onConfirm(){var e,t,n;m.ZP.setState({coin1:null===(e=eF.current)||void 0===e?void 0:e.base,coin2:null===(t=eF.current)||void 0===t?void 0:t.quote,chartPoints:[],lazyLoadChart:!0,currentAmmPool:eF.current}),(0,f.Eh)("/clmm/edit-farm",{queryProps:{farmId:null===(n=eF.current)||void 0===n?void 0:n.idString}})},onCancel(){setTimeout(()=>{m.ZP.setState({coin1:void 0,coin2:void 0,coin1Amount:void 0,coin2Amount:void 0,focusSide:"coin1",userCursorSide:"coin1"}),m.ZP.getState().refreshConcentrated()},400)}}))})}})]})}function eL(e){var t;let{tokenKey:n,title:i,token:s,disableTokens:o,turnOnTokenVerification:a,onSelectToken:r}=e,[c,d]=(0,j.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(G.Z,{className:"grid items-center bg-[#141041] rounded-xl py-2 cursor-pointer px-3",onClick:()=>d(!0),children:s?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-[#abc4ff80] mb-1",children:i}),(0,l.jsxs)(Z.Z,{className:"items-center gap-2",children:[(0,l.jsx)(J.Z,{token:s}),(0,l.jsx)("div",{className:"text-[#abc4ff] font-medium text-lg",children:null!==(t=s.symbol)&&void 0!==t?t:""}),(0,l.jsx)(b.Z,{size:"sm",className:"text-[#abc4ff]",heroIconName:"chevron-down"})]})]}):(0,l.jsxs)(Z.Z,{className:"text-[#abc4ff80] text-center gap-1.5 items-center px-3 py-2",children:[(0,l.jsx)("div",{children:i}),(0,l.jsx)(b.Z,{size:"sm",className:"text-[#abc4ff80]",heroIconName:"chevron-down"})]})}),(0,l.jsx)(eu.Z,{open:c,onClose:()=>{d(!1)},turnOnTokenVerification:a,canSelectIfInWhiteList:!0,disableTokens:o,onSelectToken:e=>{null==r||r(e,n)}})]})}function eF(e){let{className:t}=e;return(0,l.jsx)(Z.Z,{className:(0,S.m)("items-center justify-between",t),children:(0,l.jsx)(v.Z,{type:"text",className:"text-sm text-[#ABC4FF] opacity-50 px-0",prefix:(0,l.jsx)(b.Z,{heroIconName:"chevron-left",size:"sm"}),onClick:()=>{(0,f.ES)("/clmm/pools")},children:"Back to Concentrated pools"})})}function eI(){p(),(0,x.Z)();let e=(0,o.ZP)(e=>e.isMobile);return(0,l.jsxs)(g.Z,{metaTitle:"Create CLMM Pool - Raydium",mobileBarTitle:"Create CLMM Pool",children:[(0,l.jsx)(eF,{className:"mb-8 mobile:mb-2 sticky z-10 top-0 mobile:-translate-y-2 mobile:bg-[#0f0b2f] mobile:hidden"}),(0,l.jsxs)("div",{className:"pb-10 self-center transition-all duration-500 w-[min(840px,70vw)] mobile:w-[90vw] z-20",children:[!e&&(0,l.jsx)("div",{className:"pb-8 text-2xl mobile:text-lg font-semibold justify-self-start text-white",children:"Create Pool"}),(0,l.jsx)(eA,{}),(0,l.jsx)(h.Z,{className:"items-center my-8"})]})]})}}},function(e){e.O(0,[4740,7571,8667,7664,7980,5194,5469,1164,9774,2888,179],function(){return e(e.s=71716)}),_N_E=e.O()}]);