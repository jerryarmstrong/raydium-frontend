(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8503],{98229:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return n(7733)}])},475:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var l=n(62512);async function i(){var e;let t=await (0,l.Z)("https://solanacompass.com/api/fees",{cacheFreshTime:3e5}),{avg:n}=null!==(e=null==t?void 0:t[15])&&void 0!==e?e:{};if(n)return{units:4e5,microLamports:Math.min(Math.ceil(1e6*n/4e5),25e3)}}},6547:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var l=n(85893),i=n(27993),o=n(96398),r=n(67294);function s(e){var t,n;let[s,a]=(0,r.useState)(null!==(n=e.forceDebugStatus)&&void 0!==n?n:"pending"),[c,u]=(0,r.useState)(null);return(0,o.L)(()=>{let t=Promise.resolve(e.promise);t.then(t=>{var n;return e.forceDebugStatus||a("fullfilled"),null===(n=e.onFullfilled)||void 0===n||n.call(e,t),t},t=>{var n;return e.forceDebugStatus||a("rejected"),null===(n=e.onReject)||void 0===n||n.call(e),Promise.reject(t)}).then(e=>{u(e)})},[e.promise]),(0,l.jsx)(l.Fragment,{children:"pending"!==s&&c?null===(t=e.children)||void 0===t?void 0:t.call(e,c):(0,i.u)(e.fallback,[s])})}},88132:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var l=n(85893),i=n(91371),o=n(67294),r=n(66180),s=n(6994);function a(e){var t;let{haveMinHeight:n,wrapperClassName:a,children:c,domRef:u,size:d="lg",cssGradientRotate:m,...f}=e,p=(0,i.ZP)(e=>e.isMobile),v=(0,o.useMemo)(()=>{var e,t,n;return(null===(e=f.style)||void 0===e?void 0:e.borderRadius)?"calc(".concat(f.style.borderRadius," + ").concat(1.2,"px)"):(null===(t=f.className)||void 0===t?void 0:t.match(/mobile:rounded-2xl/g))&&p||(null===(n=f.className)||void 0===n?void 0:n.match(/(^|\s)rounded-2xl($|\s)/))?17.2:"md"===d?7.2:21.2},[f.className,d,null===(t=f.style)||void 0===t?void 0:t.borderRadius,p]);return(0,l.jsx)("div",{ref:u,className:a,style:{"--gradient-rotate":null!=m?"".concat(m,"deg"):void 0,minHeight:n?"300px":void 0,borderRadius:v,padding:1.2,backgroundImage:"linear-gradient(var(--gradient-rotate, 246deg), #da2eef 7.97%, #2b6aff 49.17%, #39d0d8 92.1%)"},children:(0,l.jsx)(s.Z,{...f,size:d,className:(0,r.m)("bg-cyberpunk-card-bg overflow-hidden",f.className),style:{height:"100%",width:"100%"},children:c})})}},99645:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l=n(85893);function i(e){let{className:t}=e;return(0,l.jsxs)("div",{className:"lds-roller ".concat(null!=t?t:""," mobile:scale-75"),children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{})]})}},33674:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var l=n(85893),i=n(67294),o=n(66180),r=n(91371),s=n(14431),a=n(85503);function c(){let{run:e=!0,initPercent:t=0,componentRef:n,className:r,duration:c=6e4,strokeWidth:u=3,updateDelay:d=1e3,svgWidth:m=36,loop:f=!0,onEnd:p,onClick:v}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=.5*m/2,x=2*h*Math.PI,g=(0,i.useRef)(!1),{documentVisible:b}=(0,a.x)(),[y,Z]=(0,i.useState)(t),j=(0,i.useRef)(),k=(0,i.useRef)(null);(0,s.e)(k,{onClick:v,disable:!v}),(0,i.useEffect)(()=>{if(e&&b){let t=globalThis.setInterval(()=>{e&&b&&Z(e=>e+1/c*d)},d);return j.current=t,()=>globalThis.clearInterval(t)}globalThis.clearInterval(j.current)},[c,d,e&&b]);let S=(0,i.useRef)();return(0,i.useEffect)(()=>{if(b&&S.current){let e=Date.now()-S.current;Z(t=>t+1/c*e)}b||(S.current=Date.now())},[b]),(0,i.useEffect)(()=>{if(0==Math.floor(y))return;let e=setTimeout(()=>{g.current||(g.current=!0,null==p||p(),setTimeout(()=>{g.current=!1},0))},0);return()=>clearTimeout(e)},[Math.floor(y)]),(0,i.useImperativeHandle)(n,()=>({currentProgressPercent:y%1,restart(){Z(0)}})),(0,l.jsx)("div",{className:(0,o.m)("w-full h-full rounded",r),children:(0,l.jsxs)("svg",{ref:k,width:m,height:m,viewBox:"0 0 ".concat(m," ").concat(m),children:[(0,l.jsx)("circle",{r:h,cx:"50%",cy:"50%",fill:"transparent",style:{strokeWidth:u,stroke:"#ffffff2e"}}),(0,l.jsx)("circle",{id:"bar",r:h,cx:"50%",cy:"50%",fill:"transparent",strokeDasharray:x,strokeDashoffset:x-(f?y%1:Math.min(y,1))*x,style:{strokeWidth:u,stroke:"#92e1ffd9",transform:"rotate(-90deg)",transformOrigin:"center",strokeLinecap:"round",transition:"200ms"}})]})})}var u=n(92618),d=n(12839),m=n(43066),f=n(96398),p=n(62361);function v(e){var t,n,s,v;let{run:h=!0,refreshKey:x,popPlacement:g,forceOpen:b,freshFunction:y,freshEach:Z=1e3,totalDuration:j=6e4,className:k,circleBodyClassName:S,disabled:w=!1}=e,C=(0,i.useRef)(),[P,N]=(0,i.useState)(!1);(0,m.N)({loop:Z,disable:!P});let{documentVisible:T,documentVisibleRef:R}=(0,a.x)(),[E,A,F]=(0,p.$)(!1),I=()=>A(!0),D=()=>A(!1),L=(0,r.ZP)(e=>e.isMobile),B=null===(t=r.ZP.getState().refreshCircleLastTimestamp[x])||void 0===t?void 0:t.endTimestamp,M=null===(n=r.ZP.getState().refreshCircleLastTimestamp[x])||void 0===n?void 0:n.endProcessPercent,O=B&&M&&(Date.now()-B)/j+M;return(0,f.L)(()=>{if(!d.N9)return O&&O>1&&(null==y||y()),()=>{var e;r.ZP.setState(t=>{var n;return{refreshCircleLastTimestamp:{...t.refreshCircleLastTimestamp,[x]:{endTimestamp:Date.now(),endProcessPercent:null!==(e=null===(n=C.current)||void 0===n?void 0:n.currentProgressPercent)&&void 0!==e?e:0}}}})}},[]),(0,i.useEffect)(()=>{if(w||!F()||!R.current)return;let e=setTimeout(()=>{!w&&F()&&R.current&&(null==y||y(),D())},0);return()=>clearTimeout(e)},[E,T,w]),(0,l.jsxs)(u.Z,{className:(0,o.m)("select-none",k),placement:g,forceOpen:b,triggerBy:L?"press":void 0,autoClose:!0,onOpen:()=>N(!0),onClose:()=>N(!1),children:[(0,l.jsx)(c,{run:h&&!w,initPercent:O&&O%1,duration:j,componentRef:C,className:(0,o.m)("clickable clickable-filter-effect",S),onClick:()=>{var e;I(),null===(e=C.current)||void 0===e||e.restart()},onEnd:()=>{var e;I(),null===(e=C.current)||void 0===e||e.restart()}}),(0,l.jsx)(u.Z.Panel,{children:(0,l.jsxs)("div",{className:"w-60",children:["Displayed data will auto-refresh after"," ",Math.round(j/1e3*(1-(null!==(v=null===(s=C.current)||void 0===s?void 0:s.currentProgressPercent)&&void 0!==v?v:0)))," seconds. Click this circle to update manually."]})})]})}},29197:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var l=n(85893),i=n(18074),o=n(27993),r=n(66180),s=n(45826),a=n(91107);function c(e){let{className:t,style:n,vertical:i,itemClassName:s,itemStyle:c,values:u,currentValue:d=u[0],labels:m=u,onChange:f}=e;return u.filter(Boolean).length?(0,l.jsx)(a.E,{value:d,onChange:null!=f?f:()=>{},className:(0,r.m)("".concat(i?"flex-col":"flex"," ").concat(null!=t?t:"")),style:n,children:u.map((e,t,n)=>(0,l.jsx)(a.E.Option,{value:e,className:"cursor-pointer flex grow",children:r=>{let{checked:a}=r;return e&&(0,l.jsx)("div",{className:"grid grow ".concat(i?"":"place-items-center"," ").concat((0,o.u)(s,[a])),style:(0,o.u)(c,[a,t,n]),children:(0,o.u)(m[t],[a,t,n])})}},t))}):(0,l.jsx)(l.Fragment,{})}function u(e){let{size:t,$valuesLength:n,$transparentBg:a,urlSearchQueryKey:u,className:d,...m}=e;(0,s.i)({currentValue:m.currentValue,values:m.values,onChange:m.onChange,queryKey:u});let f=m.currentValue&&m.values.includes(m.currentValue),p=null!=n?n:m.values.length,v=(f?m.values.findIndex(e=>e===m.currentValue):0)+0;return(0,l.jsx)(c,{...m,currentValue:m.currentValue,className:(0,r.m)("rounded-full p-1",a?"bg-transparent":"bg-cyberpunk-card-bg",d),itemClassName:e=>(0,r.m)("sm"===t?"min-w-[82px] mobile:min-w-[64px] px-2 mobile:px-1.5 h-7 mobile:h-5 text-sm mobile:text-xs":"min-w-[96px] mobile:min-w-[76px] px-3 mobile:px-2 h-9 mobile:h-7 text-sm mobile:text-xs ","grid rounded-full place-items-center font-medium whitespace-nowrap ".concat(e?"text-white":"text-[#ABC4FF]"),(0,o.u)(m.itemClassName,[e])),itemStyle:e=>e?{background:"linear-gradient(245.22deg, rgb(218, 46, 239), rgb(43, 106, 255), rgb(57, 208, 216))",backgroundSize:"".concat(p,"00% 100%"),backgroundPosition:(0,i.Z)(1/(p-1)*v)}:{}})}},18074:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var l=n(81451),i=n(51523),o=n(84207),r=n(72573),s=n(99881);function a(e,t){try{var n,a;let c=(0,o.Z)(null!=e?e:0),u=c.mul((null==t?void 0:t.alreadyPercented)?1:100).toFixed(null!==(n=null==t?void 0:t.fixed)&&void 0!==n?n:2);if((0,l.eq)(c,0))return"0%";if(!(null==t?void 0:t.exact)&&u===0..toFixed(null!==(a=null==t?void 0:t.fixed)&&void 0!==a?a:2))return(null==t?void 0:t.alwaysSigned)?"<+0.01%":"<0.01%";return(null==t?void 0:t.alwaysSigned)?"".concat((0,l.gt)(u,0)?"+":"-").concat((0,s.Z)((0,l.gt)(u,0)?(0,r.B)(u):(0,r.B)((0,i.dC)(u,-1))),"%"):"".concat((0,s.Z)(u,{fractionLength:null==t?void 0:t.fixed}),"%")}catch(e){return"0%"}}},78083:function(e,t,n){"use strict";function l(e){let t=!1,n=()=>!t,l=()=>{t=!0},i=new Promise((t,l)=>{Promise.resolve(e(n)).then(e=>t(e),()=>t(void 0))});return{abort:l,result:i}}n.d(t,{t:function(){return l}})},24608:function(e,t,n){"use strict";n.d(t,{N:function(){return r},f:function(){return s}});var l=n(56603),i=n(67294),o=n(96398);function r(e,t){let n=(0,i.useRef)(),r=(0,i.useRef)();(0,o.L)(()=>{n.current=e});let s=(0,i.useMemo)(()=>(0,l.D)(function(){for(var e,t,l=arguments.length,i=Array(l),o=0;o<l;o++)i[o]=arguments[o];null===(e=r.current)||void 0===e||e.call(r);let s=null===(t=n.current)||void 0===t?void 0:t.call(n,...i);r.current=s},null==t?void 0:t.debouncedOptions),[]);return s}function s(e,t){let n=(0,i.useRef)(),r=(0,i.useRef)();(0,o.L)(()=>{n.current=e});let s=(0,i.useMemo)(()=>(0,l.P)(function(){for(var e,t,l=arguments.length,i=Array(l),o=0;o<l;o++)i[o]=arguments[o];null===(e=r.current)||void 0===e||e.call(r);let s=null===(t=n.current)||void 0===t?void 0:t.call(n,...i);r.current=s},null==t?void 0:t.throttleOption),[]);return s}},7931:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var l=n(67294),i=n(12839);function o(e,t,n){var o;let r="all .4s cubic-bezier(0.4, 0, 0.2, 1)",[s,a]=(0,l.useState)(null!==(o=null==n?void 0:n.defaultHasWrapped)&&void 0!==o&&o);(0,l.useEffect)(function(){if(i.N9||!(null==n?void 0:n.defaultHasWrapped))return;let l=e.current,o=t.current;if(!l||!o)return;let r=l.getBoundingClientRect(),s=o.getBoundingClientRect(),a=s.top-r.top,c=r.top<s.top?1:-1;l.style.setProperty("transition",""),o.style.setProperty("transition",""),l.style.setProperty("transform","translateY(".concat(a*c,"px)")),o.style.setProperty("transform","translateY(".concat(-a*c,"px)"))},[]);let c=(0,l.useCallback)(()=>{let n=e.current,l=t.current;if(!n||!l)return;let i=n.getBoundingClientRect(),o=l.getBoundingClientRect(),c=o.top-i.top,u=i.top<o.top?1:-1;n.style.setProperty("transition",r),l.style.setProperty("transition",r),s?(n.style.setProperty("transform","translateY(0px)"),l.style.setProperty("transform","translateY(0px)"),a(!1)):(n.style.setProperty("transform","translateY(".concat(c*u,"px)")),l.style.setProperty("transform","translateY(".concat(-c*u,"px)")),a(!0))},[s,e,t]),u=(0,l.useCallback)(()=>{let n=e.current,l=t.current;n&&l&&(n.style.setProperty("transition",r),l.style.setProperty("transition",r),n.style.setProperty("transform","translateY(0px)"),l.style.setProperty("transform","translateY(0px)"))},[s,e,t]);return(0,l.useEffect)(()=>{let n=e.current,l=t.current,i=()=>{null==n||n.style.setProperty("pointerEvents","none")},o=()=>{null==n||n.style.setProperty("pointerEvents","")};return null==n||n.addEventListener("transitionstart",i),null==n||n.addEventListener("transitionend",o),null==l||l.addEventListener("transitionstart",i),null==l||l.addEventListener("transitionend",o),()=>{null==n||n.removeEventListener("transitionstart",i),null==n||n.removeEventListener("transitionend",o),null==l||l.removeEventListener("transitionstart",i),null==l||l.removeEventListener("transitionend",o)}},[e,t]),[s,{toggleSwap:c,resetSwapPosition:u}]}},51488:function(e,t,n){"use strict";n.d(t,{I:function(){return h}});var l=n(85893),i=n(18559),o=n(81451),r=n(3363),s=n(14200),a=n(51523);async function c(e,t){let n=(0,r.ZP)(e);if(!(0,s.W)(n))return!0;let l=(0,i.U7)(n),c=l.then(e=>!!e&&({isTransferable:!((0,o.$u)(t)&&(0,o.eg)(e.transferFeePercent,1)&&(0,o.lt)(t,(0,a.hi)(e.maximumFee,1)))}).isTransferable);return c}var u=n(28948),d=n(48162),m=n(51800),f=n(72573),p=n(99111),v=n(67294);function h(e){let t=(0,v.useMemo)(()=>e.map(e=>{var t;return(0,r.ZP)(null===(t=e.token)||void 0===t?void 0:t.mint)}),[e]),n=(0,v.useMemo)(()=>e.map(e=>(0,f.B)(e.amount)),[e]),i=(0,p.Z)(async()=>{for(let{token:t,amount:n}of e)if(t){let e=await c(t.mint,n);if(!e)return t}},t.concat(n),void 0),o=!!i,s=e=>{let{className:t}=e;return(0,l.jsx)(x,{className:t,needOpen:o,badToken:i})};return{isWarningChipOpen:o,badToken:i,Token2022FeeTooHighWarningChip:s}}function x(e){let{className:t,needOpen:n,badToken:i}=e;return(0,l.jsx)(u.Z,{show:n,children:(0,l.jsx)("div",{className:t,children:(0,l.jsxs)(m.Z,{className:"bg-[#da2eef1a] text-[#da2eef] rounded-xl py-3 px-3 mobile:px-2 items-center",children:[(0,l.jsx)(d.Z,{className:"mr-1",heroIconName:"exclamation-circle",size:"smi"}),(0,l.jsx)("div",{className:"text-xs mobile:text-2xs",children:"Transfer fee at 100%, transaction will fail."})]})})})}},7733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eO}});var l=n(85893),i=n(67294),o=n(66180),r=n(91371),s=n(96662),a=n(57435),c=n(94355),u=n(31555),d=n(62512);async function m(e){if(!e)return[];let t=await (0,d.Z)("https://api.coingecko.com/api/v3/coins/".concat(e,"/market_chart?vs_currency=usd&days=1"),{cacheFreshTime:6e4});return t?t.prices.map(e=>{let[,t]=e;return t}):[]}var f=n(5593),p=n(47511),v=n(34003),h=n(62952),x=n(4465),g=n(81451),b=n(72573),y=n(59277),Z=n(475),j=n(8667),k=n(53002),S=n(23685);async function w(){let{programIds:e}=y.ZP.getState(),{checkWalletHasEnoughBalance:t,tokenAccountRawInfos:n}=k.Z.getState(),{coin1:l,coin2:i,coin1Amount:o,coin2Amount:r,selectedCalcResult:s,focusSide:a,routeType:c,directionReversed:u,minReceived:d,maxSpent:m}=S.Z.getState(),w=u?i:l,P=(u?r:o)||"0",N=u?l:i,T=(u?o:r)||"0";(0,v.Z)(P&&(0,g.gt)(P,0),"should input upCoin amount larger than 0"),(0,v.Z)(T&&(0,g.gt)(T,0),"should input downCoin amount larger than 0"),(0,v.Z)(w,"select a coin in upper box"),(0,v.Z)(N,"select a coin in lower box"),(0,v.Z)(!(0,x.aT)(w.mint,N.mint),"should not select same mint "),(0,v.Z)(s,"can't find correct route");let R=(0,h.n)(w,P,{alreadyDecimaled:!0});return(0,h.n)(N,T,{alreadyDecimaled:!0}),(0,v.Z)(t(R),"not enough ".concat(w.symbol)),(0,v.Z)(c,"accidently routeType is undefined"),(0,j.ZP)(async t=>{let{transactionCollector:l,baseUtils:{connection:i,owner:o}}=t,r=p.Lb.setComputeUnitLimit({units:400001}),{innerTransactions:a}=await f.nz3.makeSwapInstructionSimple({connection:i,swapInfo:s,ownerInfo:{wallet:o,tokenAccounts:n,associatedOnly:!0,checkCreateATAOwner:!0},routeProgram:e.Router,checkTransaction:!0,computeBudgetConfig:await (0,Z.u)()});for(let e=0;e<a.length;e++)a[e].instructions[0].programId.toString()!==r.programId.toString()&&(0,f.UeT)([r,...a[e].instructions],[o])&&(a[e].instructions=[r,...a[e].instructions].map(e=>new p.Sl({programId:e.programId,data:e.data,keys:e.keys.map(e=>"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"===e.pubkey.toString()?{...e,pubkey:o}:e)})));let c=a.map((e,t,n)=>[e,{txHistoryInfo:{title:"Swap",description:"Swap ".concat((0,b.B)(P)," ").concat(w.symbol," to ").concat((0,b.B)(d||m)," ").concat(N.symbol),subtransactionDescription:function(e,t,n){let l=n.findIndex(e=>C(e)),i=n.length-1-[...n].reverse().findIndex(e=>C(e));return t<l?"Setup":t>i?"Cleanup":"Swap"}(0,t,n)}}]);l.add(c,{sendMode:"queue(all-settle)"})})}function C(e){return e.instructionTypes.includes(f.p01.clmmSwapBaseIn)||e.instructionTypes.includes(f.p01.clmmSwapBaseOut)||e.instructionTypes.includes(f.p01.ammV4Swap)||e.instructionTypes.includes(f.p01.ammV4SwapBaseIn)||e.instructionTypes.includes(f.p01.ammV4SwapBaseOut)||e.instructionTypes.includes(f.p01.ammV5SwapBaseIn)||e.instructionTypes.includes(f.p01.ammV5SwapBaseOut)||e.instructionTypes.includes(f.p01.routeSwap1)||e.instructionTypes.includes(f.p01.routeSwap2)||e.instructionTypes.includes(f.p01.routeSwap)}var P=n(3363),N=n(42186),T=n(11163),R=n(59995),E=n(78083),A=n(24608),F=n(12839),I=n(79527);function D(e,t){let n=(0,i.useRef)();(0,i.useEffect)(()=>{F.kW&&(0,I.Kk)(()=>{"function"==typeof n.current&&n.current();let t=e();n.current=t})},t)}var L=n(51523),B=n(31166),M=n(80582),O=n(47675);function z(e){return e?(0,P.ZP)(e.mint)+e.decimals+e.symbol+e.icon:""}var W=n(91148),V=n(16938),q=n(26842),U=n(60279),H=n(56603);function _(e){var t,n,l,i,o,r,s,a,c;let u=["ray","sol"],d={ammId:String(null!==(n=null!==(t=e.ammId)&&void 0!==t?t:e.ammid)&&void 0!==n?n:""),inputCurrency:String(null!==(l=e.inputCurrency)&&void 0!==l?l:""),inputSymbol:String(null!==(i=e.inputSymbol)&&void 0!==i?i:""),outputCurrency:String(null!==(o=e.outputCurrency)&&void 0!==o?o:""),outputSymbol:String(null!==(r=e.outputSymbol)&&void 0!==r?r:""),inputAmount:String(null!==(s=e.inputAmount)&&void 0!==s?s:""),outputAmount:String(null!==(a=e.outputAmount)&&void 0!==a?a:""),fixed:String(null!==(c=e.fixed)&&void 0!==c?c:"")};return u.some(e=>(0,x.X0)(e,d.inputSymbol))&&(d.inputCurrency="",d.inputAmount="",d.inputSymbol=""),u.some(e=>(0,x.X0)(e,d.outputSymbol))&&(d.outputCurrency="",d.outputAmount="",d.outputSymbol=""),(0,V.dI)(d)}var $=n(18559),G=n(99522),Y=n(11601),K=n(43067),X=n(6994),J=n(70745),Q=n(97664),ee=n(54592),et=n(23484),en=n(88132),el=n(28948),ei=n(48162),eo=n(82727),er=n(11583),es=n(57571),ea=n(33674),ec=n(51800),eu=n(29197),ed=n(92618),em=n(56419),ef=n(90547),ep=n(99881),ev=n(18074),eh=n(32825),ex=n(99111),eg=n(43066),eb=n(96398),ey=n(85356),eZ=n(99779),ej=n(92224),ek=n(87980),eS=n(14200),ew=n(76104),eC=n(99645),eP=n(6325),eN=n(65408),eT=n(6547);function eR(e){let{debugLable:t,token:n,onCancel:o,onConfirm:r}=e,s=(0,P.ZP)(null==n?void 0:n.mint),a=n&&(0,eS.W)(n),[c,u]=(0,ey.Z)("USER_CONFIRMED_TOKEN_2022"),d=null==c?void 0:c.includes(s),[m,f]=(0,i.useState)(()=>!!(n&&d)),[p,v]=(0,i.useState)(!1),[h,x]=(0,i.useState)(!1);(0,i.useEffect)(()=>{v(!1),f(!1),x(!1)},[s]);let g=(0,l.jsx)(eE,{onConfirm:()=>{null==r||r(),m&&u(e=>(0,W.A5)([...null!=e?e:[],s])),x(!0)},onCancel:()=>{null==o||o(),x(!0)},onPermanentlyConfirm:f,onTemporarilyConfirm:v,open:a&&!d&&!h,token:n,temporarilyConfirm:p,permanentlyConfirm:m});return{ConfirmDialog:g}}function eE(e){let{open:t,token:n,className:r,temporarilyConfirm:s,permanentlyConfirm:a,onTemporarilyConfirm:c,onPermanentlyConfirm:u,onCancel:d,onConfirm:m}=e;if(!n)return null;let f=(0,i.useRef)(!1);(0,i.useEffect)(()=>{f.current=!1},[(0,P.ZP)(n.mint)]);let[p,v]=(0,i.useState)(!1);if(!t)return null;let h=(0,eS.W)(n)?(0,$.U7)(n.mint).catch(()=>{}):void 0;return h?(0,l.jsx)(eP.Z,{placement:"from-bottom",open:!!t,canClosedByMask:!0,onCloseImmediately:()=>{f.current||null==d||d()},children:(0,l.jsx)(X.Z,{className:(0,o.m)("flex flex-col p-8 mobile:p-5 rounded-3xl mobile:rounded-b-none mobile:h-[80vh] w-[min(552px,100vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)]",r),size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)",boxShadow:"0px 8px 48px rgba(171, 196, 255, 0.12)"},children:(0,l.jsxs)(ee.Z,{className:"items-center",children:[(0,l.jsx)(ei.Z,{size:"lg",heroIconName:"exclamation",className:"text-[#D8CB39] mb-3"}),(0,l.jsxs)("div",{className:"mb-6 text-center",children:[(0,l.jsx)("div",{className:"font-semibold text-xl text-white mb-3",children:"Confirm Token2022"}),(0,l.jsx)("div",{className:"font-normal text-base text-[#ABC4FF]",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mb-2 text-center",children:"This token uses the Token2022 program that is unaudited and still in beta. This is an advanced feature, trade with caution."}),(0,l.jsx)("p",{className:"text-center",children:"The Token2022 program includes Extensions, like Transfer Fees and other transfer restrictions, which can be changed. You will need a wallet that supports Token2022, like Backpack."})]})})]}),(0,l.jsxs)("div",{className:"self-stretch",children:[(0,l.jsx)("div",{className:"pb-4",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)(ee.Z,{className:"bg-[#abc4ff1a] rounded-xl w-full",children:[(0,l.jsxs)(ec.Z,{className:"justify-center items-center gap-2 p-4 rounded-xl bg-[#141041]",children:[(0,l.jsx)(J.Z,{token:n}),(0,l.jsx)("div",{className:"font-semibold",children:null==n?void 0:n.symbol}),(0,l.jsx)(G.U,{textClassName:"text-[#abc4ff80]",showDigitCount:8,canExternalLink:!0,children:null==n?void 0:n.mint})]}),(0,l.jsx)("div",{className:"self-center py-3",children:(0,l.jsx)(eT.j,{promise:h,onFullfilled:e=>{e&&v(!0)},fallback:(0,l.jsx)(eC.Z,{className:"mx-auto"}),children:e=>{if(!e)return;let t=!!e.freezeAuthority;return(0,l.jsx)("div",{children:(0,l.jsxs)(ee.Z,{className:"table text-sm",children:[(0,l.jsx)(eA,{hidden:!t,name:"Freeze Authority",value:(0,eN.kC)(String(t)),nameTooltip:"The creator of this token has freeze authority and can freeze transfers or token interactions from your account at any time. Trade with caution"}),(0,l.jsx)(eA,{name:"Transfer Fee",value:(0,ev.Z)(e.transferFeePercent),nameTooltip:"This token uses the Token-2022 program. The token creator has programmed a Transfer Fee that will be subtracted from all token interactions, including swaps or adding/removing liquidity."}),(0,l.jsx)(eA,{name:"Max Transfer Fee",value:"".concat((0,b.B)(e.maximumFee,{decimalLength:"auto ".concat(e.decimals)})," ").concat(n.symbol),nameTooltip:"The maximum transfer fee collected regardless of the amount of tokens transferred"}),(0,l.jsx)(eA,{hidden:(0,g.Jr)(e.nextTransferFeePercent)&&(0,g.Jr)(e.nextMaximumFee),name:"Pending Fee Change",value:"Yes",valueTooltip:"This token uses the Token-2022 program. The token creator has programmed an updated Transfer Fee that will be live in the near future. The fee will be subtracted from all future token interactions and may be higher than the current fee."}),(0,l.jsx)(eA,{hidden:(0,g.Jr)(e.nextTransferFeePercent),name:"Pending Fee Change",value:(0,l.jsxs)(l.Fragment,{children:[(0,ev.Z)(e.nextTransferFeePercent),null!=e.expirationTimeOffset&&(0,l.jsxs)("span",{children:[" ","in ",(0,l.jsx)(eF,{remainSeconds:e.expirationTimeOffset})]})]})}),(0,l.jsx)(eA,{hidden:(0,g.Jr)(e.nextMaximumFee),name:"Pending Max Fee Change",value:(0,l.jsxs)(l.Fragment,{children:[(0,b.B)(e.nextMaximumFee,{decimalLength:"auto ".concat(e.decimals)})," ",n.symbol,null!=e.expirationTimeOffset&&(0,l.jsxs)("span",{children:[" ","in ",(0,l.jsx)(eF,{remainSeconds:e.expirationTimeOffset})]})]})})]})})}})})]}),(0,l.jsx)(ew.X,{checkBoxSize:"sm",disabled:!p,className:"my-2 w-max",checked:s,onChange:c,label:(0,l.jsx)("div",{className:"text-sm italic text-[rgba(171,196,255,0.5)]",children:"I understand the program is unaudited and accept the risks."})}),(0,l.jsx)(ew.X,{checkBoxSize:"sm",disabled:!p,className:"my-2 w-max",checked:a,onChange:u,label:(0,l.jsx)("div",{className:"text-sm italic text-[rgba(171,196,255,0.5)]",children:"Do not warn again for this token."})})]})}),(0,l.jsxs)(ee.Z,{className:"w-full",children:[(0,l.jsx)(K.Z,{disabled:!s,className:"text-[#ABC4FF] frosted-glass-skygray",onClick:()=>{f.current=!0,null==m||m()},children:"Confirm"}),(0,l.jsx)(K.Z,{className:"text-[#ABC4FF] text-sm -mb-4",type:"text",onClick:d,children:"Cancel"})]})]})]})})}):null}function eA(e){let{hidden:t,name:n,value:i,nameTooltip:o,valueTooltip:r}=e;return t?null:(0,l.jsxs)(ec.Z,{className:"table-row",children:[(0,l.jsx)("div",{className:"table-cell",children:(0,l.jsxs)(ec.Z,{className:"items-center px-2 font-medium",children:[(0,l.jsx)("div",{children:n}),o&&(0,l.jsxs)(ed.Z,{children:[(0,l.jsx)(ei.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,l.jsx)(ed.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:o})})]}),(0,l.jsx)("div",{className:"ml-1",children:":"})]})}),(0,l.jsx)("div",{className:"table-cell",children:(0,l.jsxs)(ec.Z,{className:"items-center",children:[i,r&&(0,l.jsxs)(ed.Z,{children:[(0,l.jsx)(ei.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,l.jsx)(ed.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:r})})]})]})})]})}function eF(e){var t;let{remainSeconds:n,onReachZeroSeconds:o}=e,r=null!==(t=(0,s.ZP)(e=>e.chainTimeOffset))&&void 0!==t?t:0,[a,c]=(0,i.useState)(Math.max((null!=n?n:0)-r/1e3,0));(0,eb.L)(()=>{c(Math.max((null!=n?n:0)-r/1e3,0))},[r,n]),(0,eb.L)(()=>{a<=0&&(null==o||o())},[a<=0]);let{days:u,hours:d,minutes:m,seconds:f}=(0,ef.ZP)(1e3*a);return(0,eg.N)({loop:u>0?36e5:m?6e4:1e3,disable:!n,disableWhenDocumentInvisiable:!1,onLoop:()=>c(e=>e>0?e-1:e)}),(0,l.jsx)("div",{className:"inline-block",children:u?"".concat(u,"d ").concat(d,"h ").concat(m,"m"):d?"".concat(d,"h ").concat(m,"m"):m?"".concat(m,"m"):f?"".concat(f,"s"):"<1m"})}var eI=n(7931),eD=n(51488);function eL(){return!function(){let e=(0,B.ZP)(e=>e.tokens),t=(0,B.ZP)(e=>e.getToken),n=(0,S.Z)(e=>e.coin1),l=(0,S.Z)(e=>e.coin2);(0,i.useEffect)(()=>{let e=(0,O.mu)(),i=Object.keys(e).includes("inputCurrency"),o=Object.keys(e).includes("outputCurrency");n||(0,P.ZP)(null==l?void 0:l.mint)===(0,P.ZP)(N.aF.mint)||i||S.Z.setState({coin1:N.aF}),l||(0,P.ZP)(null==n?void 0:n.mint)===(0,P.ZP)(M.PD)||o||S.Z.setState({coin2:t(M.PD)})},[e,t,n,l]),(0,i.useEffect)(()=>{let e=t((0,P.ZP)(null==l?void 0:l.mint));l&&z(l)!==z(e)&&S.Z.setState({coin2:e})},[e,t])}(),!function(){let{query:e,pathname:t,replace:n}=(0,T.useRouter)(),l=function(){let{replace:e}=(0,T.useRouter)(),t=(0,i.useCallback)((0,H.P)((t,n)=>{e({pathname:t,query:n},void 0,{shallow:!0})},{delay:100}),[]);return t}(),o=(0,S.Z)(e=>e.coin1),u=(0,S.Z)(e=>e.coin2),d=(0,S.Z)(e=>e.coin1Amount),m=(0,S.Z)(e=>e.coin2Amount),f=(0,S.Z)(e=>e.focusSide),p=(0,S.Z)(e=>e.directionReversed),v=(0,a.Z)(e=>e.jsonInfos),h=(0,i.useCallback)(e=>v.find(t=>t.id===e),[v]),g=(0,B.ZP)(e=>e.tokens),y=(0,B.ZP)(e=>e.userAddedTokens),Z=(0,s.ZP)(e=>e.connection),j=(0,B.ZP)(e=>e.getToken),k=(0,B.ZP)(e=>e.toUrlMint),w=(0,r.ZP)(e=>e.inCleanUrlMode),[C,E]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t.includes("/swap")||E(!1)},[t]),(0,i.useEffect)(()=>{let e=()=>E(!1);return null==globalThis||globalThis.addEventListener("beforeunload",e),()=>null==globalThis?void 0:globalThis.removeEventListener("beforeunload",e)},[]),(0,q.Z)(async()=>{var n,l;if(!t.includes("/swap")||C)return;let{ammId:i,inputCurrency:o,outputCurrency:r,inputSymbol:s,outputSymbol:a,inputAmount:u,outputAmount:d,fixed:m}=_(e);if("sol"===o&&r===(0,P.ZP)(N.DA))S.Z.setState({coin1:N.aF,coin2:N.FI});else if(o===(0,P.ZP)(N.DA)&&"sol"===r)S.Z.setState({coin1:N.FI,coin2:N.aF});else if(i){let{logWarning:e}=c.Z.getState(),t=await (0,U.E)(o,s),u=await (0,U.E)(r,a),d=i?h(i):t&&u?await (0,R.Ap)({mint1:o,mint2:r}):void 0;if(d){let e=null!==(n=j(null==d?void 0:d.baseMint))&&void 0!==n?n:t,i=null!==(l=j(null==d?void 0:d.quoteMint))&&void 0!==l?l:u;(0,W.CW)([o,r],[String(null==e?void 0:e.mint),String(null==i?void 0:i.mint)])||S.Z.setState((0,V.dI)({coin1:e,coin2:i}))}else v.length>0&&Object.keys(g||{}).length>0&&e("can't find Liquidity pool with url ammId")}else if(o||r){let e=await (0,U.E)(o,s),t=await (0,U.E)(r,a);S.Z.setState((0,V.dI)({coin1:e,coin2:e===t?void 0:t}))}let x=o?u:r?d:void 0,b=r?d:o?u:void 0;x&&S.Z.setState({coin1Amount:x}),b&&S.Z.setState({coin2Amount:b}),("in"===m||"out"===m)&&(p?"coin2"===f?"in":"out":"coin2"===f?"out":"in")!==m&&S.Z.setState({focusSide:"in"===m?p?"coin2":"coin1":p?"coin1":"coin2"}),v.length>0&&Object.values(g).length>0&&E(!0)},[C,Z,t,e,j,g,y,n,v,h]),(0,i.useEffect)(()=>{if(!t.includes("/swap")||!C||w)return;let n=o?k(o):"",i=u?k(u):"",r=(null==o?void 0:o.userAdded)?o.symbol:void 0,s=(null==u?void 0:u.userAdded)?u.symbol:void 0,a=(0,V.CE)(_(e),["ammId"]),c=(0,V.dI)({inputCurrency:p?i:n,inputSymbol:r,outputCurrency:p?n:i,outputSymbol:s,inputAmount:(0,b.B)(p?m:d),outputAmount:(0,b.B)(p?d:m),fixed:p?"coin2"===f?"in":"out":"coin2"===f?"out":"in"}),v=!(0,x.Ek)(a,c);v&&l(t,c)},[C,w,o,u,d,m,p,f,e,n,t]),(0,i.useEffect)(()=>{o===u&&S.Z.setState({coin2:void 0,coin2Amount:0})},[o,u])}(),!function(){let{pathname:e}=(0,T.useRouter)(),t=(0,s.ZP)(e=>e.connection),n=(0,S.Z)(e=>e.coin1),l=(0,S.Z)(e=>e.coin2),o=(0,S.Z)(e=>e.coin1Amount),c=(0,S.Z)(e=>e.coin2Amount),u=(0,S.Z)(e=>e.refreshCount),d=(0,S.Z)(e=>e.directionReversed),m=d?"coin2":"coin1",p=(0,r.ZP)(e=>e.slippageTolerance),v=(0,k.Z)(e=>e.connected),h=(0,r.ZP)(e=>e.isApprovePanelShown),y=d?l:n,Z=(d?c:o)||"0",j=d?n:l,w=(0,a.Z)(e=>e.jsonInfos);(0,i.useEffect)(()=>{S.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,preflightCalcResult:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:void 0})},[t,n,l,d]),D(async()=>{var e;if(!n||!l||(0,g.$u)(o)&&(0,g.$u)(c))return;S.Z.setState({preflightCalcResult:void 0,canFindPools:void 0,swapable:void 0});let{routeList:i,bestResult:r,bestResultStartTimes:s}=null!==(e=await (0,R.Qf)({connection:t,input:n,output:l,inputAmount:1,slippageTolerance:.05}).catch(e=>console.error(e)))&&void 0!==e?e:{},a=!!(null==r?void 0:r.poolReady);S.Z.setState({preflightCalcResult:i,canFindPools:!!r,swapable:a,selectedCalcResultPoolStartTimes:s})},[t,n,l,d]);let C=(0,A.N)(()=>{if(h)return;if(!y||!j||!t||!e.startsWith("/swap")){S.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isInsufficientLiquidity:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:void 0});return}let i=(0,x.aT)(n,l)&&(0,x.aT)(n,f.VbZ.mint);if(i){if((0,g.eq)(o,c))return;let{isApprovePanelShown:e}=r.ZP.getState();if(e)return;S.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:"coin1"===m?(0,b.B)(o):(0,b.B)(c),["coin1"===m?"isCoin2CalculateTarget":"isCoin1CalculateTarget"]:!1});return}if(!(0,g.$u)(Z)){S.Z.setState(d?{coin1Amount:void 0}:{coin2Amount:void 0}),S.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0});return}let{abort:s}=(0,E.t)(async e=>{var n,l;S.Z.setState({isCalculating:!0});let i=await (0,R.Qf)({connection:t,input:y,output:j,inputAmount:Z,slippageTolerance:p}).then(e=>{let{routeList:t,bestResult:n,bestResultStartTimes:l,isInsufficientLiquidity:i}=null!=e?e:{};return{routeList:t,bestResult:n,bestResultStartTimes:l,isInsufficientLiquidity:i}}).catch(e=>{console.error(e)});if(!i||!e())return;let{routeList:o,bestResult:r,bestResultStartTimes:s,isInsufficientLiquidity:a}=i,c=(()=>{let e=S.Z.getState().directionReversed,t=(e?S.Z.getState().coin2Amount:S.Z.getState().coin1Amount)||"0";return e?S.Z.getState().coin1Amount:S.Z.getState().coin2Amount,(0,g.eq)(t,Z)})();if(!c)return;let u=null==r?void 0:r.poolReady,d=!!(null==o?void 0:o.length),{priceImpact:f,executionPrice:v,currentPrice:h,routeType:x,fee:b,amountOut:k,minAmountOut:w,poolKey:C}=null!=r?r:{};S.Z.setState({fee:b,calcResult:o,preflightCalcResult:o,selectedCalcResult:r,selectedCalcResultPoolStartTimes:s,isCalculating:!1,priceImpact:f,executionPrice:v,currentPrice:h,minReceived:w&&(0,L.h9)(w.amount,null!==(n=w.fee)&&void 0!==n?n:0),maxSpent:void 0,swapable:u,routeType:x,canFindPools:d,isInsufficientLiquidity:a,["coin1"===m?"coin2Amount":"coin1Amount"]:k&&(0,L.h9)(k.amount,null!==(l=k.fee)&&void 0!==l?l:0),["coin1"===m?"isCoin2CalculateTarget":"isCoin1CalculateTarget"]:!1})});return s},{debouncedOptions:{delay:300}});D(C,[h,y,j,d,"coin1"===m?(0,b.B)(o):(0,b.B)(c),m,p,t,e,u,v,w])}(),null}let{ContextProvider:eB,useStore:eM}=(0,eh.Z)({hasAcceptedPriceChange:!1,coinInputBox1ComponentRef:(0,i.createRef)(),coinInputBox2ComponentRef:(0,i.createRef)(),swapButtonComponentRef:(0,i.createRef)()});function eO(){return(0,l.jsxs)(eB,{children:[(0,l.jsx)(eL,{}),(0,l.jsxs)(es.Z,{mobileBarTitle:"Swap",metaTitle:"Swap - Raydium",children:[(0,l.jsx)(ez,{}),(0,l.jsx)(eV,{}),(0,l.jsx)(e2,{})]})]})}function ez(){return(0,l.jsx)(ec.Z,{className:"justify-center  mb-12 mobile:mb-2",children:(0,l.jsx)(eu.Z,{currentValue:"Swap",values:["Swap","Liquidity"],onChange:e=>{"Liquidity"===e&&(0,u.Eh)("/liquidity/add")}})})}function eW(){let e=(0,k.Z)(e=>e.allWsolBalance),t=(0,S.Z)(e=>e.refreshSwap),n=(0,k.Z)(e=>e.connected),[o,r]=(0,i.useState)(!1);return(0,g.gt)(e,0)&&n?(0,l.jsxs)(ec.Z,{className:"rounded-lg p-3 bg-[#4069BB] flex justify-center items-center gap-1 mobile:mb-5",children:[(0,l.jsx)(ei.Z,{size:"sm",heroIconName:"exclamation-circle",className:"ml-2 text-white"}),(0,l.jsxs)(ec.Z,{children:[(0,l.jsxs)("p",{className:"text-xs mobile:text-2xs text-[white]",children:["You have"," ",(0,l.jsx)("span",{className:"text-white",children:(0,b.B)((0,h.n)(N.FI,e))})," WSOL that you can"," ",(0,l.jsx)("span",{className:"text-[#39D0D8] cursor-pointer font-semibold",onClick:()=>{r(!0),(0,j.ZP)(async e=>{let{transactionCollector:t,baseUtils:{owner:n}}=e,{allTokenAccounts:l,tokenAccountRawInfos:i}=k.Z.getState(),o=l.filter(e=>(0,P.ZP)(e.mint)===(0,P.ZP)(N.DA)),r=i.filter(e=>{let t=!1;for(let n of o)if((0,P.ZP)(n.publicKey)===(0,P.ZP)(e.pubkey)){t=!0;break}return t}),s=(0,f.d5x)({tokenAccounts:r}),{innerTransactions:a}=(0,f.FYO)({ownerInfo:{wallet:n,payer:n},tokenAccounts:r}),c=a.map((e,t)=>[e,{txHistoryInfo:{title:"Unwrapped all WSOL",description:"Unwrapped total ".concat((0,b.B)((0,h.n)(N.FI,s))," WSOL")}}]);t.add(c)}).then(e=>{let{allSuccess:n}=e;n&&t(),r(!1)})},children:"Unwrap"})]}),o&&(0,l.jsx)(er.Z,{className:"w-3 h-3 ml-2"})]})]}):null}function eV(){var e;let{connected:t}=(0,k.Z)(),n=(0,S.Z)(e=>e.coin1),o=(0,S.Z)(e=>e.coin2),u=(0,S.Z)(e=>e.coin1Amount),d=(0,S.Z)(e=>e.coin2Amount),m=(0,S.Z)(e=>e.isCoin1CalculateTarget),f=(0,S.Z)(e=>e.isCoin2CalculateTarget),p=(0,S.Z)(e=>e.isCalculating),v=(0,S.Z)(e=>e.directionReversed),x=(0,S.Z)(e=>e.priceImpact),y=(0,S.Z)(e=>e.refreshSwap),Z=(0,k.Z)(e=>e.balances),j=(0,S.Z)(e=>e.preflightCalcResult),C=(0,B.ZP)(e=>e.tokens),T=Object.keys(C).length>2;(0,a.Z)(e=>e.jsonInfos),(0,S.Z)(e=>e.swapable);let R=(0,S.Z)(e=>e.selectedCalcResultPoolStartTimes),E=(0,s.ZP)(e=>e.chainTimeOffset),A=Date.now()+(null!=E?E:0),F=(0,i.useMemo)(()=>{if(null==R?void 0:R.length)return function(e){let t=(0,ef.ZP)(e);return"Pool Opens in ".concat(String(t.days).padStart(2,"0"),"D : ").concat(String(t.hours).padStart(2,"0"),"H : ").concat(String(t.minutes).padStart(2,"0"),"M")}(Math.max(...R.map(e=>e.startTime))-A)},[R,A]),I=(0,S.Z)(e=>e.canFindPools),D=(0,S.Z)(e=>e.isInsufficientLiquidity),L=(0,B.ZP)(e=>e.refreshTokenPrice),{hasConfirmed:M,popConfirm:O}=function(){let e=(0,S.Z)(e=>e.directionReversed),t=(0,S.Z)(e=>e.coin1),n=(0,S.Z)(e=>e.coin2),o=e?t:n,r=(0,B.ZP)(e=>{var t;return null===(t=e.tokenListSettings[B.pI])||void 0===t?void 0:t.mints}),[s,a]=(0,ey.Z)("USER_CONFIRMED_SWAP_TOKENS"),u=!!(o&&((null==r?void 0:r.size)===0||(null==r?void 0:r.has((0,P.ZP)(null==o?void 0:o.mint))))),d=!!(o&&(null==s?void 0:s.includes((0,P.ZP)(null==o?void 0:o.mint)))),[m,f]=(0,i.useState)(!1),[p,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{f(!1)},[o]);let h=(0,i.useMemo)(()=>o&&(null==o.hasFreeze?(0,$.WX)(o.mint,{noLog:!0}).then(e=>null!=e?!e:void 0):!!o.hasFreeze),[(0,P.ZP)(null==o?void 0:o.mint)]),x=()=>{p||(v(!0),c.Z.getState().popConfirm({cardWidth:"lg",type:"warning",title:"Confirm Token",description:(0,l.jsxs)("div",{className:"space-y-2 text-left",children:[(0,l.jsx)("p",{className:"text-center",children:"This token doesn’t appear on the default token list. Confirm this is the token that you want to trade."}),(0,l.jsxs)(ec.Z,{className:"justify-center items-center gap-2 my-4 bg-[#141041] rounded py-3 w-full",children:[(0,l.jsx)(J.Z,{token:o}),(0,l.jsx)("div",{className:"font-semibold",children:null==o?void 0:o.symbol}),(0,l.jsx)(G.U,{textClassName:"text-[#abc4ff80]",showDigitCount:8,canExternalLink:!0,children:null==o?void 0:o.mint})]}),h&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-center my-4 text-[#FED33A] font-bold",children:"Freeze Authority Warning"}),(0,l.jsxs)("div",{className:"text-center my-2  text-xs text-[#FED33A]",children:["This token has freeze authority enabled and could",(0,l.jsx)("br",{}),"prevent you from transferring or trading the token later."]})]})]}),confirmButtonIsMainButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Confirm",onConfirm:()=>{f(!0),v(!1),(null==o?void 0:o.mint)&&a(e=>(0,W.jX)(null!=e?e:[],String(o.mint)))},onCancel:()=>{f(!1),v(!1),S.Z.setState(e?{coin1:void 0}:{coin2:void 0})}}))},g=!o||u||d||m;return(0,i.useEffect)(()=>{!g&&o&&x()},[o,g]),{hasConfirmed:g,popConfirm:x}}(),z=v?o:n,V=(v?d:u)||"0",{ConfirmDialog:q}=eR({token:n,onConfirm:()=>S.Z.setState({coin1:n}),onCancel:()=>S.Z.setState({coin1:void 0})}),{ConfirmDialog:U}=eR({token:o,onConfirm:()=>S.Z.setState({coin2:o}),onCancel:()=>S.Z.setState({coin2:void 0})}),{hasAcceptedPriceChange:H,swapButtonComponentRef:_,coinInputBox1ComponentRef:Y,coinInputBox2ComponentRef:X}=eM(),ee=(0,k.Z)(e=>e.checkWalletHasEnoughBalance),et=(0,i.useMemo)(()=>z&&ee((0,h.n)(z,V,{alreadyDecimaled:!0})),[z,V,ee,Z]),eo=(0,i.useCallback)(()=>{S.Z.setState(e=>({directionReversed:!e.directionReversed}))},[]),[er,{on:es,off:eu}]=(0,ej.ZP)(),[em,ep]=(0,i.useState)("1"),eh=(0,S.Z)(e=>e.executionPrice),ex=(0,i.useRef)(null),eg=(0,i.useRef)(null),[eb,{toggleSwap:eZ}]=(0,eI.H)(ex,eg,{defaultHasWrapped:v});(0,i.useEffect)(()=>{S.Z.setState({directionReversed:eb})},[eb]);let eS=n&&(0,g.$u)(u)&&o&&(0,g.$u)(d)&&eh,ew=(0,i.useRef)(null);(0,i.useEffect)(()=>{S.Z.setState({scrollToInputBox:()=>{var e;return null===(e=ew.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"center"})}})},[]);let eC=(0,r.ZP)(e=>e.isApprovePanelShown),eP=(0,i.useMemo)(()=>{if("1"===em&&o){if(o.symbol===N.aF.symbol)return[N.FI];if(o.symbol===N.FI.symbol)return[N.aF]}else if("2"===em&&n){if(n.symbol===N.aF.symbol)return[N.FI];if(n.symbol===N.FI.symbol)return[N.aF]}return[]},[em,n,o]),eN=(0,S.Z)(e=>e.selectedCalcResult),eT=null==eN?void 0:eN.expirationTime,[eE,eA]=(0,i.useState)(0===eT),{isWarningChipOpen:eF,badToken:eL,Token2022FeeTooHighWarningChip:eB}=(0,eD.I)([{token:n,amount:u},{token:o,amount:d}]);return(0,l.jsxs)(en.Z,{domRef:ew,wrapperClassName:"w-[min(456px,100%)] self-center cyberpunk-bg-light",className:"py-8 pt-4 px-6 mobile:py-5 mobile:px-3",children:[(0,l.jsx)(eW,{}),(0,l.jsxs)("div",{className:"space-y-5 mt-5 mobile:mt-0",children:[(0,l.jsx)(Q.Z,{domRef:ex,disabled:eC,noDisableStyle:!0,disabledInput:v,componentRef:Y,haveHalfButton:!0,haveCoinIcon:!0,showTokenSelectIcon:!0,topLeftLabel:eb?"To":"From",onTryToTokenSelect:()=>{es(),ep("1")},onEnter:e=>{var t,n,l,i;e&&(o||null===(t=X.current)||void 0===t||null===(n=t.selectToken)||void 0===n||n.call(t),o&&d&&(null===(l=_.current)||void 0===l||null===(i=l.click)||void 0===i||i.call(l)))},token:n,value:m?"0":u?(0,g.eq)(u,0)?"":(0,b.B)(u):void 0,onUserInput:e=>{S.Z.setState({focusSide:"coin1",coin1Amount:e})},hideTransferFee:!0}),(0,l.jsxs)("div",{className:"relative h-8",children:[(0,l.jsxs)(ec.Z,{className:"absolute items-center transition-all ".concat(eh?"left-4":"left-1/2 -translate-x-1/2"),children:[(0,l.jsx)(ei.Z,{size:"sm",iconSrc:"/icons/msic-swap.svg",className:"p-2 frosted-glass frosted-glass-teal rounded-full mr-4 ".concat(eC?"not-clickable":"clickable"," select-none transition"),onClick:()=>{eC||(eZ(),eo())}}),eh&&(0,l.jsx)("div",{className:"absolute left-full",children:(0,l.jsx)(e$,{})})]}),(0,l.jsx)("div",{className:"absolute right-0 ".concat(eC?"not-clickable":"clickable"),children:(0,l.jsx)(ea.Z,{run:!eC,refreshKey:"swap",popPlacement:"right-bottom",freshFunction:()=>{y(),L()}})})]}),(0,l.jsx)(Q.Z,{domRef:eg,disabled:eC,noDisableStyle:!0,disabledInput:!v,componentRef:X,haveHalfButton:!0,haveCoinIcon:!0,showTokenSelectIcon:!0,topLeftLabel:eb?"From":"To",onTryToTokenSelect:()=>{es(),ep("2")},onEnter:e=>{var t,l,i,o;e&&(n||null===(t=Y.current)||void 0===t||null===(l=t.selectToken)||void 0===l||l.call(t),n&&u&&(null===(i=_.current)||void 0===i||null===(o=i.click)||void 0===o||o.call(i)))},token:o,value:f?"0":d?(0,g.eq)(d,0)?"":(0,b.B)(d):void 0,onUserInput:e=>{S.Z.setState({focusSide:"coin2",coin2Amount:e})},hideTransferFee:!0})]}),(0,l.jsx)(el.Z,{show:eS,children:(0,l.jsx)(eG,{className:"mt-5",onExpirationTimeRunToZero:()=>eA(!0)})}),(0,l.jsx)(eH,{}),q,U,eB({className:"pt-5"}),(0,l.jsx)(K.Z,{className:"w-full frosted-glass-teal mt-5",componentRef:_,isLoading:eC,validators:[{should:T,fallbackProps:{children:"Loading Tokens ..."}},{should:!0,fallbackProps:{children:"Loading Pools ..."}},{should:t,forceActive:!0,fallbackProps:{onClick:()=>r.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:z&&(v?n:o),fallbackProps:{children:"Select a token"}},{should:M,forceActive:!0,fallbackProps:{onClick:O,children:"Confirm unOfficial warning"}},{not:eF},{should:!!j,fallbackProps:{children:"Finding Pool ..."}},{not:eE,fallbackProps:{children:"Token 2022 Expired"}},{should:!D,fallbackProps:{children:(0,l.jsxs)(ec.Z,{className:"items-center",children:[(0,l.jsx)("div",{children:"Insufficient Liquidity"}),(0,l.jsxs)(ed.Z,{className:"w-full",children:[(0,l.jsx)(ei.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(ed.Z.Panel,{children:(0,l.jsx)("p",{className:"w-64",children:"The route for this swap includes a CLMM pool with insufficient in-range liquidity for your swap. Try swapping for a smaller amount or try again later."})})]})]})}},{should:I,fallbackProps:{children:"Pool Not Found"}},{should:!F,fallbackProps:{children:F}},{should:V&&(0,g.$u)(V),fallbackProps:{children:"Enter an amount"}},{should:!p,fallbackProps:{children:"Calculating ..."}},{should:!(0,g.eq)((v?u:d)||"0",0),fallbackProps:{children:"Swap Amount Too Small"}},{should:et,fallbackProps:{children:"Insufficient ".concat(null!==(e=null==z?void 0:z.symbol)&&void 0!==e?e:""," balance")}},{should:H||eC,fallbackProps:{children:"Accept price change"}},{should:x&&(0,g.G)(x,.05),forceActive:!0,fallbackProps:{onClick:e=>{let{ev:t}=e;return t.stopPropagation(),function(e){let{priceImpact:t}=e;c.Z.getState().popConfirm({type:"error",title:"Price Impact Warning",description:(0,l.jsxs)("div",{children:["Price impact is"," ",t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-[#DA2EEF]",children:(0,ev.Z)(t)})," which is"," "]}):"",(0,l.jsx)("span",{className:"text-[#DA2EEF]",children:"higher than 5%."})," Try a smaller trade!"]}),confirmButtonText:"Swap Anyway",onConfirm:w})}({priceImpact:x})}}}],onClick:w,children:"Swap"}),(0,l.jsx)(e_,{}),(0,l.jsx)(ek.Z,{open:er,onSelectToken:e=>{"1"===em?eU(n,e)||(S.Z.setState({coin1:e,[v?"isCoin1CalculateTarget":"isCoin2CalculateTarget"]:!0}),eq(e,o)||S.Z.setState({coin2:void 0})):eU(o,e)||(S.Z.setState({coin2:e,[v?"isCoin1CalculateTarget":"isCoin2CalculateTarget"]:!0}),eq(e,n)||S.Z.setState({coin1:void 0})),eu()},onClose:eu,disableTokens:eP})]})}function eq(e,t){return(0,N.Dn)(e)&&(0,N.Ee)(t)||(0,N.Ee)(e)&&(0,N.Dn)(t)||!(0,x.aT)(null==e?void 0:e.mint,null==t?void 0:t.mint)}function eU(e,t){return(null==e?void 0:e.mint)===t.mint}function eH(){let{hasAcceptedPriceChange:e,setHasAcceptedPriceChange:t}=eM(),n=(0,r.ZP)(e=>e.isApprovePanelShown),o=(0,S.Z)(e=>e.coin1),s=(0,S.Z)(e=>e.coin2),a=(0,S.Z)(e=>e.coin1Amount),c=(0,S.Z)(e=>e.coin2Amount),u=(0,S.Z)(e=>e.directionReversed),d=u?"coin2":"coin1",m="coin1"===d?o:s,f="coin1"===d?a:c,p="coin1"===d?s:o,v="coin1"===d?c:a,h=(0,i.useRef)(!1);(0,eZ.P)(e=>{let[n,l,i,o,r]=e,s=null!=n&&n!==m,a=!!(f&&(0,g.$u)(l)&&!(0,g.eq)(l,f)),c=null!=i&&i!==p,d=!!(v&&(0,g.$u)(o)&&!(0,g.eq)(o,v)),x=null!=r&&r!==u,b=!s&&!a&&!c&&!d&&!x;b?t(!0):!b&&(a||s||c||x)?(t(!0),h.current=!0):d&&(h.current||a||t(!d),h.current=!1)},[m,f,p,v,u]);let x=(0,g.$u)(a)&&(0,g.$u)(c);return(0,l.jsx)(el.U,{children:x&&!e&&!n&&(0,l.jsxs)(ec.Z,{className:"mt-5 bg-[#141041] rounded-xl py-2 px-6 mobile:px-4 items-center justify-between",children:[(0,l.jsxs)(ec.Z,{className:"text-sm font-medium text-[#ABC4FF] items-center ",children:["Price updated",(0,l.jsxs)(ed.Z,{placement:"bottom-right",children:[(0,l.jsx)(ei.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(ed.Z.Panel,{children:(0,l.jsx)("p",{className:"w-80",children:"Price has changed since your swap amount was entered."})})]})]}),(0,l.jsx)(K.Z,{size:"sm",className:"frosted-glass-teal",onClick:()=>t(!0),children:"Accept"})]})})}function e_(){let e=(0,k.Z)(e=>e.solBalance),t=(0,L.hi)(e,10**N.Bk);return(0,l.jsx)(el.U,{children:t&&(0,g.lt)(t,N.kn)&&(0,g.eg)(t,0)&&(0,l.jsxs)(ec.Z,{className:"text-sm mt-4 text-[#D8CB39] items-center justify-center",children:["SOL balance: ",(0,b.B)(t)," ",(0,l.jsxs)(ed.Z,{placement:"bottom-right",children:[(0,l.jsx)(ei.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(ed.Z.Panel,{children:(0,l.jsxs)("p",{className:"w-80",children:["SOL is needed for Solana network fees. A minimum balance of ",N.kn," SOL is recommended to avoid failed transactions. This swap will leave you with less than ",N.kn," SOL."]})})]})]})})}function e$(e){var t,n;let{className:s}=e,[a,c]=(0,i.useState)(!1),u=(0,S.Z)(e=>e.coin1),d=(0,S.Z)(e=>e.coin2),m=(0,S.Z)(e=>e.directionReversed),f=m?d:u,p=m?u:d,v=(0,S.Z)(e=>e.executionPrice),h=(0,S.Z)(e=>e.priceImpact),x=(0,i.useMemo)(()=>(0,g.$u)(h)&&(0,g.eg)(h,.05),[h]),y=(0,i.useMemo)(()=>(0,g.$u)(h)&&(0,g.eg)(h,.01),[h]),Z=(0,r.ZP)(e=>e.isMobile),j=a?p:f,k=a?f:p;return(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)(el.U,{children:v&&(0,l.jsxs)(ec.Z,{className:(0,o.m)("font-medium text-sm text-[#ABC4FF]",s),children:[(0,l.jsxs)("div",{className:"whitespace-nowrap",children:[1," ",null!==(t=null==j?void 0:j.symbol)&&void 0!==t?t:"--"," ≈"," ",(0,b.B)(a&&0!==parseInt(null==v?void 0:v.numerator.toString())?(0,L.hi)(1,v):v,{decimalLength:Z?"auto 2":"auto",zeroDecimalNotAuto:!0})," ",null!==(n=null==k?void 0:k.symbol)&&void 0!==n?n:"--"]}),(0,l.jsx)("div",{className:"ml-2 clickable",onClick:()=>c(e=>!e),children:"⇋"})]})}),(0,l.jsx)(el.U,{children:h?(0,l.jsx)("div",{className:"font-medium text-xs whitespace-nowrap ".concat(x?"text-[#DA2EEF]":y?"text-[#D8CB39]":"text-[#39D0D8]"," transition-colors"),children:x||y?"Price Impact Warning":"Low Price Impact"}):null})]})}function eG(e){var t,n,s,a,c,u,d,m,f,p,v;let{className:x,onExpirationTimeRunToZero:y}=e,Z=(0,r.ZP)(e=>e.slippageTolerance),j=(0,B.ZP)(e=>e.getToken),k=(0,S.Z)(e=>e.priceImpact),w=(0,S.Z)(e=>e.coin1),C=(0,S.Z)(e=>e.coin2),P=(0,S.Z)(e=>e.directionReversed),T=P?C:w,R=P?w:C;(0,S.Z)(e=>e.focusSide);let E=(0,S.Z)(e=>e.minReceived),A=(0,S.Z)(e=>e.fee),F=(0,S.Z)(e=>e.maxSpent),I=(0,S.Z)(e=>e.selectedCalcResult),D=(0,S.Z)(e=>e.selectedCalcResultPoolStartTimes),M=(0,i.useMemo)(()=>(0,g.$u)(k)&&(0,g.eg)(k,.05),[k]),O=(0,i.useMemo)(()=>(0,g.$u)(k)&&(0,g.eg)(k,.01),[k]),z=j((null==I?void 0:I.routeType)==="route"?I.middleToken.mint:void 0),W=T&&R?(null==I?void 0:I.routeType)==="amm"?"Raydium Pool":(null==I?void 0:I.routeType)==="route"?(0,l.jsx)(eK,{startSymbol:null!==(t=null==T?void 0:T.symbol)&&void 0!==t?t:"",middleSymbol:null!==(n=null==z?void 0:z.symbol)&&void 0!==n?n:"",endSymbol:null!==(s=null==R?void 0:R.symbol)&&void 0!==s?s:"",poolTypes:I.poolType}):"Others":void 0,V=(0,r.ZP)(e=>e.isApprovePanelShown),q=(0,i.useMemo)(()=>{var e;return!!(null==I?void 0:null===(e=I.poolKey)||void 0===e?void 0:e.some(e=>5===e.version))},[I]),U=T&&(null==I?void 0:I.amountIn.fee)&&(0,h.n)(T,I.amountIn.fee,{alreadyDecimaled:!0}),H=R&&(null==I?void 0:I.amountOut.fee)&&(0,h.n)(R,I.amountOut.fee,{alreadyDecimaled:!0}),_=z&&(null==I?void 0:I.routeType)==="route"&&(null==I?void 0:I.minMiddleAmountFee)?I.minMiddleAmountFee:void 0,$=null==I?void 0:I.expirationTime;return(0,l.jsxs)(ee.Z,{className:(0,o.m)("pt-5 pb-4 px-6 flex-grow border-1.5  ".concat(M?"border-[#DA2EEF]":O?"border-[rgba(216,203,57,.5)]":"border-[rgba(171,196,255,.5)]"," rounded-xl items-center gap-3 transition-colors"),x),children:[W&&(0,l.jsx)(eQ,{fieldName:"Swapping Through",fieldValue:(0,l.jsxs)(ec.Z,{className:"items-center gap-2",children:[(null==I?void 0:I.routeType)==="amm"&&(null==I?void 0:I.poolType)&&(0,l.jsx)(Y.C,{className:"self-center",children:I.poolType}),(0,l.jsx)("div",{children:W})]}),tooltipContent:"This venue gave the best price for your trade"}),F?(0,l.jsx)(eQ,{fieldName:"Maximum Spent",fieldValue:"".concat((0,b.B)(F,{decimalLength:"auto ".concat(null==T?void 0:T.decimals)})," ").concat(null!==(a=null==T?void 0:T.symbol)&&void 0!==a?a:"--"),tooltipContent:"The max amount of tokens you will spend on this trade"}):(0,l.jsx)(eQ,{fieldName:"Minimum Received",fieldValue:"".concat((0,b.B)(E,{decimalLength:"auto ".concat(null==R?void 0:R.decimals)})," ").concat(null!==(c=null==R?void 0:R.symbol)&&void 0!==c?c:"--"),tooltipContent:"The least amount of tokens you will recieve on this trade"}),(0,l.jsx)(eQ,{fieldName:"Price Impact",fieldNameTextColor:M?"#DA2EEF":O?"#D8CB39":void 0,fieldValue:k?(0,g.lt)(k,.001)?"<0.1%":(0,ev.Z)(k):"--",fieldValueTextColor:M?"#DA2EEF":O?"#D8CB39":"#39D0D8",tooltipContent:"The difference between the market price and estimated price due to trade size"}),(0,g.eg)(U,0)&&(0,l.jsx)(eQ,{fieldName:"Transfer Fee (".concat(null!==(u=null==T?void 0:T.symbol)&&void 0!==u?u:"--",")"),fieldValue:"".concat((0,b.B)(U)," ").concat(null!==(d=null==T?void 0:T.symbol)&&void 0!==d?d:"--")}),(0,g.eg)(_,0)&&(0,l.jsx)(eQ,{fieldName:"Transfer Fee (".concat(null!==(m=null==z?void 0:z.symbol)&&void 0!==m?m:"--",")"),fieldValue:"".concat((0,b.B)(_)," ").concat(null!==(f=null==z?void 0:z.symbol)&&void 0!==f?f:"--")}),(0,g.eg)(H,0)&&(0,l.jsx)(eQ,{fieldName:"Transfer Fee (".concat(null!==(p=null==R?void 0:R.symbol)&&void 0!==p?p:"--",")"),fieldValue:"".concat((0,b.B)(H)," ").concat(null!==(v=null==R?void 0:R.symbol)&&void 0!==v?v:"--")}),$&&(0,l.jsx)(eQ,{fieldName:"Expiration Time",fieldValue:(0,l.jsx)(eY,{remainSeconds:$,onReachZeroSeconds:y})}),(0,l.jsxs)(et.Z,{openDirection:"upwards",className:"w-full",children:[(0,l.jsx)(et.Z.Body,{children:(0,l.jsxs)(ee.Z,{className:"gap-3 pb-3",children:[(0,l.jsx)(eQ,{fieldName:"Addresses",tooltipContent:(0,l.jsx)(e0,{})}),(0,l.jsx)(eQ,{fieldName:"Slippage Tolerance",tooltipContent:"The maximum difference between your estimated price and execution price",fieldValue:(0,l.jsxs)(ec.Z,{className:"py-1 px-2 bg-[#141041] rounded-sm text-[#F1F1F2] font-medium text-xs -my-1",children:[(0,l.jsx)(eo.Z,{className:"w-7 px-0",disabled:V,value:(0,b.B)((0,L.dC)(Z,100),{decimalLength:"auto 2"}),onUserInput:e=>{let t=(0,L.hi)(parseFloat(e),100);t&&r.ZP.setState({slippageTolerance:t})},pattern:/^\d*\.?\d*$/,maximum:100}),(0,l.jsx)("div",{className:"opacity-50 ml-1",children:"%"})]})}),null==D?void 0:D.map(e=>{var t,n;let{ammId:i,poolInfo:o,startTime:r}=e;return(0,l.jsx)(eQ,{fieldName:I&&I.poolKey.length>1?"Open at (".concat(null===(t=j(o.baseMint))||void 0===t?void 0:t.symbol,"-").concat(null===(n=j(o.quoteMint))||void 0===n?void 0:n.symbol,")"):"Open at",fieldValue:(0,em.xn)(r)},i)}),(0,l.jsx)(eQ,{fieldName:"Swap Fee",tooltipContent:"Of the 0.25% swap fee, 0.22% goes to LPs and 0.03% is used to buy back RAY.".concat(q?" For stable swaps, the 0.02% fee goes to LPs.":""," "),fieldValue:A?(0,l.jsx)(ee.Z,{children:A.map(e=>{var t,n;let i=(0,N.wE)(e);return(0,l.jsxs)("div",{className:"text-right",children:[(0,b.B)(i)," ",null!==(n=null===(t=j(i.token.mint))||void 0===t?void 0:t.symbol)&&void 0!==n?n:"--"]},i.token.symbol)})}):"--"})]})}),(0,l.jsx)(et.Z.Face,{children:e=>{let{isOpen:t}=e;return(0,l.jsxs)(ec.Z,{className:"w-full items-center text-xs font-medium text-[rgba(171,196,255,0.5)] cursor-pointer select-none",children:[(0,l.jsx)("div",{children:t?"Show less":"More information"}),(0,l.jsx)(ei.Z,{size:"xs",heroIconName:t?"chevron-up":"chevron-down",className:"ml-1"})]})}})]})]})}function eY(e){var t;let{remainSeconds:n,onReachZeroSeconds:o}=e,r=null!==(t=(0,s.ZP)(e=>e.chainTimeOffset))&&void 0!==t?t:0,[a,c]=(0,i.useState)(Math.max((null!=n?n:0)-r/1e3,0));(0,eb.L)(()=>{c(Math.max((null!=n?n:0)-r/1e3,0))},[r,n]),(0,eb.L)(()=>{a<=0&&(null==o||o())},[a<=0]);let{days:u,hours:d,minutes:m,seconds:f}=(0,ef.ZP)(1e3*a);return(0,eg.N)({loop:u?36e5:d?6e4:1e3,disable:!n,disableWhenDocumentInvisiable:!1,onLoop:()=>c(e=>e>0?e-1:e)}),(0,l.jsx)("div",{className:"inline-block",children:u?(0,em.xn)(Date.now()+r+a):d?"rest: ".concat(d,"h ").concat(m,"m"):m?"rest: ".concat(m,"m ").concat(f,"s"):"rest: ".concat(f,"s")})}function eK(e){let{startSymbol:t,middleSymbol:n,endSymbol:i,poolTypes:o}=e;return(0,l.jsxs)(ec.Z,{className:"items-center",children:[t," ",(0,l.jsx)(eX,{tagValue:o[0]})," ",n," ",(0,l.jsx)(eX,{tagValue:o[1]}),i]})}function eX(e){let{tagValue:t}=e,n=(0,i.useRef)(null),[o,r]=(0,i.useState)(0),s=()=>{n.current&&r(n.current.clientWidth)};return(0,i.useEffect)(()=>{s(),t||r(12)},[t]),(0,l.jsxs)("div",{className:"relative top-[-15px]",style:{marginLeft:4,marginRight:4,maxHeight:19},children:[(0,l.jsx)("div",{ref:n,children:t?(0,l.jsx)(Y.C,{className:"justify-center text-[8px] px-1",children:t}):(0,l.jsx)("div",{style:{height:19,width:12}})}),(0,l.jsx)(eJ,{className:"",width:o})]})}function eJ(e){let{className:t,width:n}=e;return(0,l.jsx)("div",{className:(0,o.m)("flex flex-col justify-start mt-[-2px] items-end",t),children:(0,l.jsxs)("svg",{width:n,height:15,viewBox:"0 0 ".concat(n," 15"),children:[(0,l.jsx)("defs",{children:(0,l.jsx)("marker",{id:"arrow",markerWidth:"8",markerHeight:"8",refX:"3.5",refY:"4.5",orient:"auto",children:(0,l.jsx)("path",{d:"M3.5,4.5 L2,7 L7,4.5 L2,2 L3.5,4.5",fill:"white"})})}),(0,l.jsx)("path",{d:"M0,7 H".concat(n-5),vectorEffect:"non-scaling-stroke",stroke:"white",strokeWidth:"1.25px",fill:"none",markerEnd:"url(#arrow)"})]})})}function eQ(e){let{className:t,fieldName:n,fieldValue:i,tooltipContent:r,fieldNameTextColor:s,fieldValueTextColor:a}=e;return(0,l.jsxs)(ec.Z,{className:(0,o.m)("w-full justify-between",t),children:[(0,l.jsxs)(ec.Z,{className:"items-center text-xs font-medium text-[#ABC4FF]",style:{color:s},children:[(0,l.jsx)("div",{className:"mr-1",children:n}),r&&(0,l.jsxs)(ed.Z,{className:t,placement:"bottom-right",children:[(0,l.jsx)(ei.Z,{size:"xs",heroIconName:"question-mark-circle",className:"cursor-help"}),(0,l.jsx)(ed.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[30em]",children:r})})]})]}),(0,l.jsx)("div",{className:"text-xs font-medium text-white text-right",style:{color:a},children:i})]})}function e0(){var e,t,n,i;let o=(0,S.Z)(e=>e.coin1),r=(0,S.Z)(e=>e.coin2),s=(0,S.Z)(e=>e.selectedCalcResult),a=null==s?void 0:s.poolKey;return(0,l.jsxs)("div",{className:"w-60",children:[(0,l.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Addresses"}),(0,l.jsxs)(ee.Z,{className:"gap-2",children:[(0,l.jsx)(e1,{label:null!==(e=null==o?void 0:o.symbol)&&void 0!==e?e:"--",type:"token",address:String(null!==(t=null==o?void 0:o.mint)&&void 0!==t?t:"--")}),(0,l.jsx)(e1,{label:null!==(n=null==r?void 0:r.symbol)&&void 0!==n?n:"--",type:"token",address:String(null!==(i=null==r?void 0:r.mint)&&void 0!==i?i:"--")}),(null==a?void 0:a.length)?(0,l.jsx)(l.Fragment,{children:a.map((e,t,n)=>{let i=[],o="";return(n.length>1&&(o="(route ".concat(t+1,")")),"marketId"in e)?(i.push((0,l.jsx)(e1,{label:"Market ID ".concat(o),address:e.marketId},"market"+e.marketId)),i.push((0,l.jsx)(e1,{label:"Amm ID ".concat(o),address:e.id},"amm"+e.id))):i.push((0,l.jsx)(e1,{label:"Amm ID ".concat(o),address:(0,P.ZP)(e.id)},"amm"+e.id)),i})}):null]})]})}function e1(e){let{className:t,label:n,address:i,type:r="account"}=e;return(0,l.jsxs)(ec.Z,{className:(0,o.m)("grid gap-2 items-center grid-cols-[5em,1fr,auto,auto]",t),children:[(0,l.jsx)("div",{className:"text-xs font-normal text-white",children:n}),(0,l.jsx)(G.U,{showDigitCount:5,addressType:r,canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs font-normal text-white bg-[#141041] rounded justify-center",children:i})]})}function e2(){let e=(0,S.Z)(e=>e.coin1),t=(0,S.Z)(e=>e.coin2),n=(0,S.Z)(e=>e.directionReversed),o=(0,i.useRef)(null),r=(0,i.useRef)(null),[s,{toggleSwap:a,resetSwapPosition:c}]=(0,eI.H)(o,r,{defaultHasWrapped:n});(0,i.useEffect)(()=>{var e,t;let l=!!(null===(e=o.current)||void 0===e?void 0:e.clientHeight),i=!!(null===(t=r.current)||void 0===t?void 0:t.clientHeight);s!==n&&l&&i&&a()},[n]);let[u,d]=(0,i.useState)(!1),[m,f]=(0,i.useState)(!1),p=(0,W.DB)([u,m]).length;return(0,eZ.P)(e=>{let[t]=e;p<(null!=t?t:0)&&c()},[p]),(0,l.jsxs)(X.Z,{className:"flex ".concat(u||m?"visible":"invisible"," flex-col mt-10 p-2 w-[min(456px,100%)] self-center bg-cyberpunk-card-bg"),size:"lg",children:[(0,l.jsx)("div",{ref:o,children:(0,l.jsx)(e5,{coin:e,onDataChange:e=>d(e)})}),(0,l.jsx)("div",{ref:r,children:(0,P.ZP)(null==t?void 0:t.mint)!==(0,P.ZP)(null==e?void 0:e.mint)&&(0,l.jsx)(e5,{coin:t,onDataChange:e=>f(e)})})]})}function e5(e){var t,n,o,s;let{coin:a,onDataChange:c}=e,u=[(0,P.ZP)(M.LA),(0,P.ZP)(M.q3)],d=(0,r.ZP)(e=>e.isMobile),f=(0,S.Z)(e=>e.refreshCount),p=(0,B.ZP)(e=>e.tokenPrices),v=(0,ex.Z)(async()=>{var e,t;return(null==a?void 0:null===(e=a.extensions)||void 0===e?void 0:e.coingeckoId)?await m(null==a?void 0:null===(t=a.extensions)||void 0===t?void 0:t.coingeckoId):void 0},[a,f]),h=null==v?void 0:v[0],x=null==v?void 0:v[v.length-1],b=null!==(t=p[(0,P.ZP)(null==a?void 0:a.mint)])&&void 0!==t?t:x,y=(0,g.$u)(h)&&x?(x-h)/h:0,Z=y>0,j=y<0,k=!!(a&&!u.includes((0,P.ZP)(a.mint))&&(null==v?void 0:v.length));return(0,i.useEffect)(()=>()=>null==c?void 0:c(!1),[]),(0,i.useEffect)(()=>{null==c||c(k)},[k]),(0,l.jsx)(el.U,{children:k&&(0,l.jsxs)("div",{className:"flex mobile:grid mobile:grid-cols-3 mobile:gap-1 p-4 mobile:p-2 w-[min(456px,100%)] self-center items-center",children:[(0,l.jsx)(ec.Z,{className:"items-center mobile:justify-self-center w-16 mobile:w-8 flex-shrink-0",children:(0,l.jsxs)(ee.Z,{className:"gap-1 grow  mobile:items-center",children:[(0,l.jsx)(J.Z,{token:a,size:d?"sm":"smi"}),(0,l.jsx)("div",{className:"font-medium text-sm text-[#abc4ff]",children:null!==(n=null==a?void 0:a.symbol)&&void 0!==n?n:"--"})]})}),(0,l.jsxs)(ee.Z,{className:"items-end mobile:items-center mobile:justify-self-center mobile:ml-0 grow",children:[(0,l.jsx)("div",{className:"text-xs font-medium text-[rgba(171,196,255,0.5)]",children:"Price"}),(0,l.jsx)("div",{className:"text-sm font-medium text-[#abc4ff] whitespace-nowrap",children:"$"+(0,ep.Z)(null==b?void 0:b.toFixed((0,g.lt)(b,.1)?null!==(o=null==a?void 0:a.decimals)&&void 0!==o?o:4:2),{fractionLength:"auto"})})]}),(0,l.jsxs)(ee.Z,{className:"items-start mobile:items-center mobile:justify-self-center ml-8  mobile:ml-0 w-8",children:[(0,l.jsx)("div",{className:"text-xs font-medium text-[rgba(171,196,255,0.5)]",children:"24H%"}),(0,l.jsx)("div",{className:"text-sm font-medium ".concat(Z?"text-[#39D0D8]":j?"text-[#DA2EEF]":"text-[#abc4ff]"),children:(0,ev.Z)(y,{alwaysSigned:!0})})]}),(0,l.jsx)(e3,{className:"ml-10 w-36 mobile:w-full h-12 mobile:col-span-full  mobile:m-0 mobile:mt-2 flex-shrink-0",isPositive:Z,isNegative:j,pricePoints:v})]})})}function e3(e){let{className:t,isPositive:n,isNegative:i,pricePoints:o}=e,r=n?"#39D0D8":i?"#DA2EEF":"#abc4ff",s=Math.max(...o),a=Math.min(...o),c=s-a,u=o.length;return(0,l.jsxs)("svg",{className:t,viewBox:"0 0 2000 1000",preserveAspectRatio:"none",children:[(0,l.jsx)("defs",{children:(0,l.jsxs)("filter",{id:"k-line-glow-".concat(n?"positive":i?"negative":"normal"),children:[(0,l.jsx)("feFlood",{result:"flood",floodColor:r,floodOpacity:".8"}),(0,l.jsx)("feComposite",{in:"flood",result:"mask",in2:"SourceGraphic",operator:"in"}),(0,l.jsx)("feMorphology",{in:"mask",result:"dilated",operator:"dilate",radius:"3"}),(0,l.jsx)("feGaussianBlur",{in:"dilated",result:"blurred",stdDeviation:"8"}),(0,l.jsxs)("feMerge",{children:[(0,l.jsx)("feMergeNode",{in:"blurred"}),(0,l.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),(0,l.jsx)("g",{filter:"url(#k-line-glow-".concat(n?"positive":i?"negative":"normal",")"),children:!!u&&(c?(0,l.jsx)("polyline",{vectorEffect:"non-scaling-stroke",points:o.map((e,t)=>{let n=function(e){let t=.1*s;return c>t?(c-(e-a))/c*1e3:1e3-((t-c)/2+(e-a))*1e3/t}(e);return"".concat(t/u*2e3,",").concat(n)}).join(" "),stroke:r,fill:"none"}):(0,l.jsx)("line",{x1:"0",y1:"499.9",x2:"2000",y2:"500",stroke:r,fill:"none",strokeWidth:"16"}))})]})}},91107:function(e,t,n){"use strict";n.d(t,{E:function(){return R}});var l,i,o=n(67294),r=n(12351),s=n(19946),a=n(32984),c=n(16723),u=n(61363),d=n(84575),m=n(95389),f=n(39516),p=n(15466),v=n(23784),h=n(46045),x=n(18689),g=n(73781),b=n(31147),y=n(64103),Z=n(3855),j=n(94192),k=((l=k||{})[l.RegisterOption=0]="RegisterOption",l[l.UnregisterOption=1]="UnregisterOption",l);let S={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:(0,d.z2)(n,e=>e.element.current)}},1(e,t){let n=e.options.slice(),l=e.options.findIndex(e=>e.id===t.id);return -1===l?e:(n.splice(l,1),{...e,options:n})}},w=(0,o.createContext)(null);w.displayName="RadioGroupDataContext";let C=(0,o.createContext)(null);function P(e,t){return(0,a.E)(t.type,S,e,t)}C.displayName="RadioGroupActionsContext";let N=(0,r.yV)(function(e,t){let n=(0,s.M)(),{id:l=`headlessui-radiogroup-${n}`,value:i,defaultValue:a,name:y,onChange:Z,by:k=(e,t)=>e===t,disabled:S=!1,...N}=e,T=(0,g.z)("string"==typeof k?(e,t)=>(null==e?void 0:e[k])===(null==t?void 0:t[k]):k),[R,E]=(0,o.useReducer)(P,{options:[]}),A=R.options,[F,I]=(0,m.b)(),[D,L]=(0,f.f)(),B=(0,o.useRef)(null),M=(0,v.T)(B,t),[O,z]=(0,b.q)(i,Z,a),W=(0,o.useMemo)(()=>A.find(e=>!e.propsRef.current.disabled),[A]),V=(0,o.useMemo)(()=>A.some(e=>T(e.propsRef.current.value,O)),[A,O]),q=(0,g.z)(e=>{var t;if(S||T(e,O))return!1;let n=null==(t=A.find(t=>T(t.propsRef.current.value,e)))?void 0:t.propsRef.current;return(null==n||!n.disabled)&&(null==z||z(e),!0)});!function({container:e,accept:t,walk:n,enabled:l=!0}){let i=(0,o.useRef)(t),r=(0,o.useRef)(n);(0,o.useEffect)(()=>{i.current=t,r.current=n},[t,n]),(0,c.e)(()=>{if(!e||!l)return;let t=(0,p.r)(e);if(!t)return;let n=i.current,o=r.current,s=Object.assign(e=>n(e),{acceptNode:n}),a=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;a.nextNode();)o(a.currentNode)},[e,l,i,r])}({container:B.current,accept:e=>"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let U=(0,g.z)(e=>{let t=B.current;if(!t)return;let n=(0,p.r)(t),l=A.filter(e=>!1===e.propsRef.current.disabled).map(e=>e.element.current);switch(e.key){case u.R.Enter:(0,x.g)(e.currentTarget);break;case u.R.ArrowLeft:case u.R.ArrowUp:if(e.preventDefault(),e.stopPropagation(),(0,d.jA)(l,d.TO.Previous|d.TO.WrapAround)===d.fE.Success){let e=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));e&&q(e.propsRef.current.value)}break;case u.R.ArrowRight:case u.R.ArrowDown:if(e.preventDefault(),e.stopPropagation(),(0,d.jA)(l,d.TO.Next|d.TO.WrapAround)===d.fE.Success){let e=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));e&&q(e.propsRef.current.value)}break;case u.R.Space:{e.preventDefault(),e.stopPropagation();let t=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));t&&q(t.propsRef.current.value)}}}),H=(0,g.z)(e=>(E({type:0,...e}),()=>E({type:1,id:e.id}))),_=(0,o.useMemo)(()=>({value:O,firstOption:W,containsCheckedOption:V,disabled:S,compare:T,...R}),[O,W,V,S,T,R]),$=(0,o.useMemo)(()=>({registerOption:H,change:q}),[H,q]),G=(0,o.useMemo)(()=>({value:O}),[O]),Y=(0,o.useRef)(null),K=(0,j.G)();return(0,o.useEffect)(()=>{Y.current&&void 0!==a&&K.addEventListener(Y.current,"reset",()=>{q(a)})},[Y,q]),o.createElement(L,{name:"RadioGroup.Description"},o.createElement(I,{name:"RadioGroup.Label"},o.createElement(C.Provider,{value:$},o.createElement(w.Provider,{value:_},null!=y&&null!=O&&(0,x.t)({[y]:O}).map(([e,t],n)=>o.createElement(h._,{features:h.A.Hidden,ref:0===n?e=>{var t;Y.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,r.oA)({key:e,as:"input",type:"radio",checked:null!=t,hidden:!0,readOnly:!0,name:e,value:t})})),(0,r.sY)({ourProps:{ref:M,id:l,role:"radiogroup","aria-labelledby":F,"aria-describedby":D,onKeyDown:U},theirProps:N,slot:G,defaultTag:"div",name:"RadioGroup"})))))});var T=((i=T||{})[i.Empty=1]="Empty",i[i.Active=2]="Active",i);let R=Object.assign(N,{Option:(0,r.yV)(function(e,t){var n;let l=(0,s.M)(),{id:i=`headlessui-radiogroup-option-${l}`,value:a,disabled:u=!1,...d}=e,p=(0,o.useRef)(null),h=(0,v.T)(p,t),[x,b]=(0,m.b)(),[j,k]=(0,f.f)(),{addFlag:S,removeFlag:P,hasFlag:N}=function(e=0){let[t,n]=(0,o.useState)(e);return{addFlag:(0,o.useCallback)(e=>n(t=>t|e),[t]),hasFlag:(0,o.useCallback)(e=>!!(t&e),[t]),removeFlag:(0,o.useCallback)(e=>n(t=>t&~e),[n]),toggleFlag:(0,o.useCallback)(e=>n(t=>t^e),[n])}}(1),T=(0,Z.E)({value:a,disabled:u}),R=function e(t){let n=(0,o.useContext)(w);if(null===n){let n=Error(`<${t} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return n}("RadioGroup.Option"),E=function e(t){let n=(0,o.useContext)(C);if(null===n){let n=Error(`<${t} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return n}("RadioGroup.Option");(0,c.e)(()=>E.registerOption({id:i,element:p,propsRef:T}),[i,E,p,e]);let A=(0,g.z)(e=>{var t;if((0,y.P)(e.currentTarget))return e.preventDefault();E.change(a)&&(S(2),null==(t=p.current)||t.focus())}),F=(0,g.z)(e=>{if((0,y.P)(e.currentTarget))return e.preventDefault();S(2)}),I=(0,g.z)(()=>P(2)),D=(null==(n=R.firstOption)?void 0:n.id)===i,L=R.disabled||u,B=R.compare(R.value,a),M={ref:h,id:i,role:"radio","aria-checked":B?"true":"false","aria-labelledby":x,"aria-describedby":j,"aria-disabled":!!L||void 0,tabIndex:L?-1:B||!R.containsCheckedOption&&D?0:-1,onClick:L?void 0:A,onFocus:L?void 0:F,onBlur:L?void 0:I},O=(0,o.useMemo)(()=>({checked:B,disabled:L,active:N(2)}),[B,L,N]);return o.createElement(k,{name:"RadioGroup.Description"},o.createElement(b,{name:"RadioGroup.Label"},(0,r.sY)({ourProps:M,theirProps:d,slot:O,defaultTag:"div",name:"RadioGroup.Option"})))}),Label:m._,Description:f.d})}},function(e){e.O(0,[4740,7571,8667,7664,7980,9774,2888,179],function(){return e(e.s=98229)}),_N_E=e.O()}]);